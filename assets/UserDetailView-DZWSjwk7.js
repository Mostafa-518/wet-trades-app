import{q as N,o as v,r as b,j as e,B as i,A as w,Y as y,Z as k,$ as C,C as d,a as m,b as o,c as x,a5 as A,s as g}from"./index-CUi0-ZAd.js";import{logUserManagementAction as D}from"./dataAccessLogger-D-lZ_vaL.js";import{S as L}from"./square-pen-Dgoysi4y.js";import{U as S}from"./user-D0Rtvshz.js";import{M as U,P}from"./phone-DlwlF_Lc.js";import{C as _}from"./calendar-CxMCzwfL.js";import{f as E}from"./formatDistance-BGkT52mR.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=N("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function B(t,a){return t instanceof Date?new t.constructor(a):new Date(a)}function I(t){return B(t,Date.now())}function R(t,a){return E(t,I(t),a)}function $({user:t,onBack:a,onEdit:h}){const{hasPermission:u}=v(),l=u("manage_users");b.useEffect(()=>{D("profile_view",t.id,{viewed_user_role:t.role,access_type:"detailed_view"})},[t.id,t.role]);const f=s=>{switch(s){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"inactive":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"suspended":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},j=s=>{switch(s){case"admin":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"manager":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"viewer":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},p=s=>s.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2),n=s=>{try{const r=new Date(s);return r.toLocaleDateString()+" at "+r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Never"}},c=s=>{try{const r=new Date(s);return R(r,{addSuffix:!0})}catch{return"Never"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:"outline",onClick:a,className:"shrink-0",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(y,{className:"h-16 w-16",children:[e.jsx(k,{src:t.avatar,alt:t.name}),e.jsx(C,{className:"text-lg font-medium",children:p(t.name)})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:t.name}),e.jsx("p",{className:"text-muted-foreground truncate",children:t.email})]})]})]}),e.jsxs(i,{onClick:()=>h(t),className:"w-full sm:w-auto",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Edit User"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"User Information"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),e.jsx("p",{className:"text-lg font-semibold",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-semibold break-all",children:l?t.email:"••••••@••••••.com"})]})]}),t.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-semibold",children:l?t.phone:"•••••••••••"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),e.jsx("p",{className:"text-lg font-semibold",children:t.department})]})]})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Account Status"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),e.jsx("div",{className:"mt-1",children:e.jsx(g,{variant:"secondary",className:j(t.role),children:t.role.charAt(0).toUpperCase()+t.role.slice(1)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(g,{variant:"secondary",className:f(t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Account Created"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:n(t.createdAt)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c(t.createdAt)})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Login"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold",children:t.lastLogin?n(t.lastLogin):"Never"}),t.lastLogin&&e.jsx("p",{className:"text-sm text-muted-foreground",children:c(t.lastLogin)})]})]})]})]})]})]})]})}export{T as C,$ as U,R as f};
