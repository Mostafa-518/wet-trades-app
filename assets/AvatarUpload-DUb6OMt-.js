import{r as d,j as a,$ as j,a0 as f,a1 as g,B as p,X as N,L as A,I as U}from"./index-JTitMy_e.js";import{U as w}from"./upload-6aSbdGye.js";function C({currentAvatar:m,name:r,onAvatarChange:i}){const[t,n]=d.useState(m||null),[u,y]=d.useState(!1),v=e=>{var o;const s=(o=e.target.files)==null?void 0:o[0];if(s){const l=new FileReader;l.onload=()=>{const c=l.result;n(c),i(c)},l.readAsDataURL(s)}},h=()=>{n(null),i(null)},x=e=>e.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(j,{className:"h-24 w-24",children:[a.jsx(f,{src:t||void 0,alt:r}),a.jsx(g,{className:"text-lg",children:x(r)})]}),t&&a.jsx(p,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:h,children:a.jsx(N,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(A,{htmlFor:"avatar-upload",className:"sr-only",children:"Upload Avatar"}),a.jsx(U,{id:"avatar-upload",type:"file",accept:"image/*",onChange:v,className:"hidden"}),a.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return(e=document.getElementById("avatar-upload"))==null?void 0:e.click()},disabled:u,children:[a.jsx(w,{className:"h-4 w-4 mr-2"}),t?"Change Avatar":"Upload Avatar"]})]})]})}export{C as A};
