import{r as x,j as e,I as v,B as o}from"./index-D134uT4X.js";import{D,a as N,b as y,c as C,d as k,e as w}from"./dialog-K5PJjNjM.js";function R({open:c,onClose:g,data:n,columns:d,onImport:p}){const[t,i]=x.useState(n);x.useEffect(()=>{i(n)},[n,c]);const j=(s,a,l)=>{i(r=>r.map((m,f)=>f===s?{...m,[a]:l}:m))},b=s=>{i(a=>a.filter((l,r)=>r!==s))},u=()=>{p(t)},h=()=>{g()};return e.jsx(D,{open:c,onOpenChange:h,children:e.jsxs(N,{className:"max-w-4xl w-full max-h-[90vh]",children:[e.jsxs(y,{children:[e.jsx(C,{children:"Review Imported Data"}),e.jsxs(k,{children:["Please review and edit the data as needed before importing into the system. Found ",t.length," records to import."]})]}),e.jsx("div",{className:"overflow-auto max-h-96 my-4 border rounded-lg",children:t.length>0?e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[d.map(s=>e.jsx("th",{className:"p-3 text-left font-medium border-b",children:s.label},String(s.key))),e.jsx("th",{className:"p-3 text-left font-medium border-b",children:"Actions"})]})}),e.jsx("tbody",{children:t.map((s,a)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.map(l=>e.jsx("td",{className:"p-3",children:e.jsx(v,{type:"text",value:s[l.key]??"",onChange:r=>j(a,l.key,r.target.value),className:"w-full min-w-[120px]"})},String(l.key))),e.jsx("td",{className:"p-3",children:e.jsx(o,{variant:"destructive",size:"sm",onClick:()=>b(a),children:"Delete"})})]},a))})]}):e.jsx("div",{className:"text-center p-8",children:e.jsx("p",{className:"text-gray-500",children:"No data to import."})})}),e.jsxs(w,{children:[e.jsx(o,{variant:"outline",onClick:h,children:"Cancel"}),e.jsxs(o,{disabled:t.length===0,onClick:u,className:"bg-blue-600 hover:bg-blue-700",children:["Import ",t.length," Record",t.length!==1?"s":""]})]})]})})}export{R as I};
