import{p as u,k as c,a6 as p,j as e}from"./index-JTitMy_e.js";import{U as x}from"./UserDetailView-CVoO2ZL-.js";import{U as h}from"./userService-XPaiaKb9.js";import"./square-pen-Bd2_bRmk.js";import"./user-B3jCMXXS.js";import"./phone-DWsRZT2e.js";import"./calendar-DjalX9PX.js";import"./formatDistance-BGkT52mR.js";function y(){const{id:t}=u(),s=c(),{data:r,isLoading:a,error:n}=p({queryKey:["user",t],queryFn:()=>h.getById(t),enabled:!!t}),o=()=>{s("/users")},i=m=>{s("/users",{state:{editUser:m}})};if(!t)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"User Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The requested user could not be found."})]});if(a)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Loading..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we load the user details."})]});if(n||!r)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"User Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The requested user could not be found."})]});const d={admin:"admin",project_manager:"procurement_manager",procurement_manager:"procurement_manager",supervisor:"procurement_engineer",procurement_engineer:"procurement_engineer",viewer:"viewer"},l={id:r.id,name:r.full_name||"",email:r.email||"",role:d[r.role]||"viewer",department:"",status:"active",createdAt:r.created_at,lastLogin:r.last_login||void 0,phone:r.phone||void 0,avatar:r.avatar_url||void 0};return e.jsx(x,{user:l,onBack:o,onEdit:i})}export{y as UserDetail};
