const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Projects-BkM_B0aK.js","assets/ImportPreviewDialog-CfJ9E-rG.js","assets/dialog-5aNDVFb2.js","assets/file-down-CfYx5t4c.js","assets/search-V0kBukTT.js","assets/TableSelectionCheckbox-CyseAzl3.js","assets/index-CYfJLrVV.js","assets/PaginationControls-DM1boOLC.js","assets/eye-Cc6JYlaG.js","assets/square-pen-Dgoysi4y.js","assets/trash-2-D2XXXdCF.js","assets/xlsx-CKN5doRT.js","assets/switch-j2Nk76Jn.js","assets/PermissionGuard-DBI3Qweg.js","assets/ProjectDetail-DR5gveOn.js","assets/tabs-BXOV7WpQ.js","assets/building-2-BeErN2u5.js","assets/Subcontractors-kXY_Z35M.js","assets/file-spreadsheet-CjbUZMMr.js","assets/plus-DeNOSqH0.js","assets/SubcontractorForm-BASbgiJ5.js","assets/form-D7lAEv9F.js","assets/types-CPjX06rk.js","assets/SubcontractorDetail-Duzq_45K.js","assets/dataAccessLogger-D-lZ_vaL.js","assets/user-D0Rtvshz.js","assets/phone-DlwlF_Lc.js","assets/select-DBe7YI5z.js","assets/Trades-DVKIfWOX.js","assets/package-Bom4A414.js","assets/calendar-CxMCzwfL.js","assets/TradeItemForm-Dy6KypQF.js","assets/TradeDetail-B3aK1q7s.js","assets/Responsibilities-BEee0bwk.js","assets/textarea-NAp2J5w6.js","assets/save-Dv0Ov5XU.js","assets/Subcontracts-so5DYU9Y.js","assets/SubcontractEditModal-CpkFofsE.js","assets/useSubcontractHelpers-XkQ8LKzz.js","assets/useSubcontractFiltering-CeDmSHc2.js","assets/SubcontractDetail-BHbFTd_P.js","assets/download-yQZwIR8d.js","assets/Report-DPeHjKb5.js","assets/PieChart-CGzTVOlL.js","assets/purify.es-CQJ0hv7W.js","assets/FilteredSubcontracts-BqkXmpFk.js","assets/Users-CF4hsaRG.js","assets/UserDetailView-DZWSjwk7.js","assets/formatDistance-BGkT52mR.js","assets/AvatarUpload-BHyf8YS1.js","assets/userService-DCmGY_gB.js","assets/UserDetail-DAPiidlf.js","assets/Profile-oF_M16l7.js","assets/Dashboard-BeyKf6Vi.js","assets/Alerts-Bski6Tap.js","assets/RoleManagement-DennI2N3.js","assets/ActivityLog-CaNejclw.js","assets/RateEstimator-Dl5Cq0YW.js","assets/jspdf.es.min-CqspXeaz.js"])))=>i.map(i=>d[i]);
var ES=Object.defineProperty;var wp=e=>{throw TypeError(e)};var CS=(e,t,n)=>t in e?ES(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vn=(e,t,n)=>CS(e,typeof t!="symbol"?t+"":t,n),Kc=(e,t,n)=>t.has(e)||wp("Cannot "+n);var _=(e,t,n)=>(Kc(e,t,"read from private field"),n?n.call(e):t.get(e)),z=(e,t,n)=>t.has(e)?wp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),N=(e,t,n,r)=>(Kc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Q=(e,t,n)=>(Kc(e,t,"access private method"),n);var ba=(e,t,n,r)=>({set _(s){N(e,t,s,n)},get _(){return _(e,t,r)}});function kS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var dy={exports:{}},ic={},fy={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),RS=Symbol.for("react.portal"),TS=Symbol.for("react.fragment"),jS=Symbol.for("react.strict_mode"),AS=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),NS=Symbol.for("react.forward_ref"),MS=Symbol.for("react.suspense"),LS=Symbol.for("react.memo"),DS=Symbol.for("react.lazy"),bp=Symbol.iterator;function FS(e){return e===null||typeof e!="object"?null:(e=bp&&e[bp]||e["@@iterator"],typeof e=="function"?e:null)}var hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},py=Object.assign,my={};function Po(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||hy}Po.prototype.isReactComponent={};Po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gy(){}gy.prototype=Po.prototype;function Mf(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||hy}var Lf=Mf.prototype=new gy;Lf.constructor=Mf;py(Lf,Po.prototype);Lf.isPureReactComponent=!0;var xp=Array.isArray,yy=Object.prototype.hasOwnProperty,Df={current:null},vy={key:!0,ref:!0,__self:!0,__source:!0};function wy(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)yy.call(t,r)&&!vy.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sa,type:e,key:o,ref:i,props:s,_owner:Df.current}}function $S(e,t){return{$$typeof:sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ff(e){return typeof e=="object"&&e!==null&&e.$$typeof===sa}function US(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sp=/\/+/g;function Gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?US(""+e.key):t.toString(36)}function el(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case sa:case RS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Gc(i,0):r,xp(s)?(n="",e!=null&&(n=e.replace(Sp,"$&/")+"/"),el(s,t,n,"",function(c){return c})):s!=null&&(Ff(s)&&(s=$S(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Sp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",xp(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Gc(o,a);i+=el(o,t,n,l,s)}else if(l=FS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Gc(o,a++),i+=el(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xa(e,t,n){if(e==null)return e;var r=[],s=0;return el(e,r,"","",function(o){return t.call(n,o,s++)}),r}function zS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},tl={transition:null},BS={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:tl,ReactCurrentOwner:Df};function by(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:xa,forEach:function(e,t,n){xa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xa(e,function(){t++}),t},toArray:function(e){return xa(e,function(t){return t})||[]},only:function(e){if(!Ff(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Po;X.Fragment=TS;X.Profiler=AS;X.PureComponent=Mf;X.StrictMode=jS;X.Suspense=MS;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BS;X.act=by;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=py({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Df.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yy.call(t,l)&&!vy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sa,type:e.type,key:s,ref:o,props:r,_owner:i}};X.createContext=function(e){return e={$$typeof:IS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OS,_context:e},e.Consumer=e};X.createElement=wy;X.createFactory=function(e){var t=wy.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:NS,render:e}};X.isValidElement=Ff;X.lazy=function(e){return{$$typeof:DS,_payload:{_status:-1,_result:e},_init:zS}};X.memo=function(e,t){return{$$typeof:LS,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=tl.transition;tl.transition={};try{e()}finally{tl.transition=t}};X.unstable_act=by;X.useCallback=function(e,t){return et.current.useCallback(e,t)};X.useContext=function(e){return et.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return et.current.useDeferredValue(e)};X.useEffect=function(e,t){return et.current.useEffect(e,t)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return et.current.useMemo(e,t)};X.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};X.useRef=function(e){return et.current.useRef(e)};X.useState=function(e){return et.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";fy.exports=X;var p=fy.exports;const Sn=uy(p),$f=kS({__proto__:null,default:Sn},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS=p,WS=Symbol.for("react.element"),HS=Symbol.for("react.fragment"),VS=Object.prototype.hasOwnProperty,KS=qS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GS={key:!0,ref:!0,__self:!0,__source:!0};function xy(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)VS.call(t,r)&&!GS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:WS,type:e,key:o,ref:i,props:s,_owner:KS.current}}ic.Fragment=HS;ic.jsx=xy;ic.jsxs=xy;dy.exports=ic;var h=dy.exports,Sy={exports:{}},_t={},_y={exports:{}},Ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,j){var L=T.length;T.push(j);e:for(;0<L;){var q=L-1>>>1,se=T[q];if(0<s(se,j))T[q]=j,T[L]=se,L=q;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var j=T[0],L=T.pop();if(L!==j){T[0]=L;e:for(var q=0,se=T.length,Xt=se>>>1;q<Xt;){var gt=2*(q+1)-1,zn=T[gt],Ve=gt+1,rt=T[Ve];if(0>s(zn,L))Ve<se&&0>s(rt,zn)?(T[q]=rt,T[Ve]=L,q=Ve):(T[q]=zn,T[gt]=L,q=gt);else if(Ve<se&&0>s(rt,L))T[q]=rt,T[Ve]=L,q=Ve;else break e}}return j}function s(T,j){var L=T.sortIndex-j.sortIndex;return L!==0?L:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=T)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function S(T){if(g=!1,x(T),!b)if(n(l)!==null)b=!0,H(E);else{var j=n(c);j!==null&&ie(S,j.startTime-T)}}function E(T,j){b=!1,g&&(g=!1,y(R),R=-1),m=!0;var L=f;try{for(x(j),d=n(l);d!==null&&(!(d.expirationTime>j)||T&&!B());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var se=q(d.expirationTime<=j);j=e.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),x(j)}else r(l);d=n(l)}if(d!==null)var Xt=!0;else{var gt=n(c);gt!==null&&ie(S,gt.startTime-j),Xt=!1}return Xt}finally{d=null,f=L,m=!1}}var C=!1,k=null,R=-1,I=5,A=-1;function B(){return!(e.unstable_now()-A<I)}function D(){if(k!==null){var T=e.unstable_now();A=T;var j=!0;try{j=k(!0,T)}finally{j?F():(C=!1,k=null)}}else C=!1}var F;if(typeof v=="function")F=function(){v(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,te=$.port2;$.port1.onmessage=D,F=function(){te.postMessage(null)}}else F=function(){w(D,0)};function H(T){k=T,C||(C=!0,F())}function ie(T,j){R=w(function(){T(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,H(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var L=f;f=j;try{return T()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=f;f=T;try{return j()}finally{f=L}},e.unstable_scheduleCallback=function(T,j,L){var q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,T={id:u++,callback:j,priorityLevel:T,startTime:L,expirationTime:se,sortIndex:-1},L>q?(T.sortIndex=L,t(c,T),n(l)===null&&T===n(c)&&(g?(y(R),R=-1):g=!0,ie(S,L-q))):(T.sortIndex=se,t(l,T),b||m||(b=!0,H(E))),T},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(T){var j=f;return function(){var L=f;f=j;try{return T.apply(this,arguments)}finally{f=L}}}})(Ey);_y.exports=Ey;var QS=_y.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=p,St=QS;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cy=new Set,ki={};function hs(e,t){mo(e,t),mo(e+"Capture",t)}function mo(e,t){for(ki[e]=t,e=0;e<t.length;e++)Cy.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vu=Object.prototype.hasOwnProperty,XS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},Ep={};function YS(e){return Vu.call(Ep,e)?!0:Vu.call(_p,e)?!1:XS.test(e)?Ep[e]=!0:(_p[e]=!0,!1)}function ZS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e_(e,t,n,r){if(t===null||typeof t>"u"||ZS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uf=/[\-:]([a-z])/g;function zf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uf,zf);$e[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uf,zf);$e[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uf,zf);$e[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bf(e,t,n,r){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e_(t,n,s,r)&&(n=null),r||s===null?YS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $n=JS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Ku=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Py=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),Hf=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),Cp=Symbol.iterator;function Ho(e){return e===null||typeof e!="object"?null:(e=Cp&&e[Cp]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Qc;function oi(e){if(Qc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qc=t&&t[1]||""}return`
`+Qc+e}var Jc=!1;function Xc(e,t){if(!e||Jc)return"";Jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Jc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oi(e):""}function t_(e){switch(e.tag){case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 2:case 15:return e=Xc(e.type,!1),e;case 11:return e=Xc(e.type.render,!1),e;case 1:return e=Xc(e.type,!0),e;default:return""}}function Ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Is:return"Fragment";case Os:return"Portal";case Ku:return"Profiler";case qf:return"StrictMode";case Gu:return"Suspense";case Qu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Py:return(e.displayName||"Context")+".Consumer";case ky:return(e._context.displayName||"Context")+".Provider";case Wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hf:return t=e.displayName||null,t!==null?t:Ju(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return Ju(e(t))}catch{}}return null}function n_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ju(t);case 8:return t===qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ty(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r_(e){var t=Ty(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=r_(e))}function jy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ty(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xu(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ay(e,t){t=t.checked,t!=null&&Bf(e,"checked",t,!1)}function Yu(e,t){Ay(e,t);var n=Er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zu(e,t.type,Er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zu(e,t,n){(t!=="number"||xl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ii=Array.isArray;function Ws(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Er(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ed(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(ii(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Er(n)}}function Oy(e,t){var n=Er(t.value),r=Er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Iy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Iy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ea,Ny=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s_=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){s_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function My(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function Ly(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=My(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var o_=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(e,t){if(t){if(o_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function rd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=null;function Vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var od=null,Hs=null,Vs=null;function jp(e){if(e=aa(e)){if(typeof od!="function")throw Error(O(280));var t=e.stateNode;t&&(t=dc(t),od(e.stateNode,e.type,t))}}function Dy(e){Hs?Vs?Vs.push(e):Vs=[e]:Hs=e}function Fy(){if(Hs){var e=Hs,t=Vs;if(Vs=Hs=null,jp(e),t)for(e=0;e<t.length;e++)jp(t[e])}}function $y(e,t){return e(t)}function Uy(){}var Yc=!1;function zy(e,t,n){if(Yc)return e(t,n);Yc=!0;try{return $y(e,t,n)}finally{Yc=!1,(Hs!==null||Vs!==null)&&(Uy(),Fy())}}function Ri(e,t){var n=e.stateNode;if(n===null)return null;var r=dc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var id=!1;if(On)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){id=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{id=!1}function i_(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var pi=!1,Sl=null,_l=!1,ad=null,a_={onError:function(e){pi=!0,Sl=e}};function l_(e,t,n,r,s,o,i,a,l){pi=!1,Sl=null,i_.apply(a_,arguments)}function c_(e,t,n,r,s,o,i,a,l){if(l_.apply(this,arguments),pi){if(pi){var c=Sl;pi=!1,Sl=null}else throw Error(O(198));_l||(_l=!0,ad=c)}}function ps(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function By(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ap(e){if(ps(e)!==e)throw Error(O(188))}function u_(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ap(s),e;if(o===r)return Ap(s),t;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function qy(e){return e=u_(e),e!==null?Wy(e):null}function Wy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wy(e);if(t!==null)return t;e=e.sibling}return null}var Hy=St.unstable_scheduleCallback,Op=St.unstable_cancelCallback,d_=St.unstable_shouldYield,f_=St.unstable_requestPaint,_e=St.unstable_now,h_=St.unstable_getCurrentPriorityLevel,Kf=St.unstable_ImmediatePriority,Vy=St.unstable_UserBlockingPriority,El=St.unstable_NormalPriority,p_=St.unstable_LowPriority,Ky=St.unstable_IdlePriority,ac=null,ln=null;function m_(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(ac,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:v_,g_=Math.log,y_=Math.LN2;function v_(e){return e>>>=0,e===0?32:31-(g_(e)/y_|0)|0}var Ca=64,ka=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=ai(a):(o&=i,o!==0&&(r=ai(o)))}else i=n&~s,i!==0?r=ai(i):o!==0&&(r=ai(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),s=1<<n,r|=e[n],t&=~s;return r}function w_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Wt(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=w_(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ld(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gy(){var e=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),e}function Zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function x_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Wt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function Qy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jy,Qf,Xy,Yy,Zy,cd=!1,Pa=[],pr=null,mr=null,gr=null,Ti=new Map,ji=new Map,Yn=[],S_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ip(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function Ko(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=aa(t),t!==null&&Qf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function __(e,t,n,r,s){switch(t){case"focusin":return pr=Ko(pr,e,t,n,r,s),!0;case"dragenter":return mr=Ko(mr,e,t,n,r,s),!0;case"mouseover":return gr=Ko(gr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ti.set(o,Ko(Ti.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ji.set(o,Ko(ji.get(o)||null,e,t,n,r,s)),!0}return!1}function ev(e){var t=zr(e.target);if(t!==null){var n=ps(t);if(n!==null){if(t=n.tag,t===13){if(t=By(n),t!==null){e.blockedOn=t,Zy(e.priority,function(){Xy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ud(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sd=r,n.target.dispatchEvent(r),sd=null}else return t=aa(n),t!==null&&Qf(t),e.blockedOn=n,!1;t.shift()}return!0}function Np(e,t,n){nl(e)&&n.delete(t)}function E_(){cd=!1,pr!==null&&nl(pr)&&(pr=null),mr!==null&&nl(mr)&&(mr=null),gr!==null&&nl(gr)&&(gr=null),Ti.forEach(Np),ji.forEach(Np)}function Go(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,E_)))}function Ai(e){function t(s){return Go(s,e)}if(0<Pa.length){Go(Pa[0],e);for(var n=1;n<Pa.length;n++){var r=Pa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pr!==null&&Go(pr,e),mr!==null&&Go(mr,e),gr!==null&&Go(gr,e),Ti.forEach(t),ji.forEach(t),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)ev(n),n.blockedOn===null&&Yn.shift()}var Ks=$n.ReactCurrentBatchConfig,kl=!0;function C_(e,t,n,r){var s=oe,o=Ks.transition;Ks.transition=null;try{oe=1,Jf(e,t,n,r)}finally{oe=s,Ks.transition=o}}function k_(e,t,n,r){var s=oe,o=Ks.transition;Ks.transition=null;try{oe=4,Jf(e,t,n,r)}finally{oe=s,Ks.transition=o}}function Jf(e,t,n,r){if(kl){var s=ud(e,t,n,r);if(s===null)cu(e,t,r,Pl,n),Ip(e,r);else if(__(s,e,t,n,r))r.stopPropagation();else if(Ip(e,r),t&4&&-1<S_.indexOf(e)){for(;s!==null;){var o=aa(s);if(o!==null&&Jy(o),o=ud(e,t,n,r),o===null&&cu(e,t,r,Pl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else cu(e,t,r,null,n)}}var Pl=null;function ud(e,t,n,r){if(Pl=null,e=Vf(r),e=zr(e),e!==null)if(t=ps(e),t===null)e=null;else if(n=t.tag,n===13){if(e=By(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pl=e,null}function tv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h_()){case Kf:return 1;case Vy:return 4;case El:case p_:return 16;case Ky:return 536870912;default:return 16}default:return 16}}var dr=null,Xf=null,rl=null;function nv(){if(rl)return rl;var e,t=Xf,n=t.length,r,s="value"in dr?dr.value:dr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return rl=s.slice(e,1<r?1-r:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function Mp(){return!1}function Et(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ra:Mp,this.isPropagationStopped=Mp,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=Et(Ro),ia=ye({},Ro,{view:0,detail:0}),P_=Et(ia),eu,tu,Qo,lc=ye({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qo&&(Qo&&e.type==="mousemove"?(eu=e.screenX-Qo.screenX,tu=e.screenY-Qo.screenY):tu=eu=0,Qo=e),eu)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),Lp=Et(lc),R_=ye({},lc,{dataTransfer:0}),T_=Et(R_),j_=ye({},ia,{relatedTarget:0}),nu=Et(j_),A_=ye({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),O_=Et(A_),I_=ye({},Ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N_=Et(I_),M_=ye({},Ro,{data:0}),Dp=Et(M_),L_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F_[e])?!!t[e]:!1}function Zf(){return $_}var U_=ye({},ia,{key:function(e){if(e.key){var t=L_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z_=Et(U_),B_=ye({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=Et(B_),q_=ye({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),W_=Et(q_),H_=ye({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=Et(H_),K_=ye({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G_=Et(K_),Q_=[9,13,27,32],eh=On&&"CompositionEvent"in window,mi=null;On&&"documentMode"in document&&(mi=document.documentMode);var J_=On&&"TextEvent"in window&&!mi,rv=On&&(!eh||mi&&8<mi&&11>=mi),$p=" ",Up=!1;function sv(e,t){switch(e){case"keyup":return Q_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ov(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function X_(e,t){switch(e){case"compositionend":return ov(t);case"keypress":return t.which!==32?null:(Up=!0,$p);case"textInput":return e=t.data,e===$p&&Up?null:e;default:return null}}function Y_(e,t){if(Ns)return e==="compositionend"||!eh&&sv(e,t)?(e=nv(),rl=Xf=dr=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rv&&t.locale!=="ko"?null:t.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z_[e.type]:t==="textarea"}function iv(e,t,n,r){Dy(r),t=Rl(t,"onChange"),0<t.length&&(n=new Yf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gi=null,Oi=null;function eE(e){yv(e,0)}function cc(e){var t=Ds(e);if(jy(t))return e}function tE(e,t){if(e==="change")return t}var av=!1;if(On){var ru;if(On){var su="oninput"in document;if(!su){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),su=typeof Bp.oninput=="function"}ru=su}else ru=!1;av=ru&&(!document.documentMode||9<document.documentMode)}function qp(){gi&&(gi.detachEvent("onpropertychange",lv),Oi=gi=null)}function lv(e){if(e.propertyName==="value"&&cc(Oi)){var t=[];iv(t,Oi,e,Vf(e)),zy(eE,t)}}function nE(e,t,n){e==="focusin"?(qp(),gi=t,Oi=n,gi.attachEvent("onpropertychange",lv)):e==="focusout"&&qp()}function rE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(Oi)}function sE(e,t){if(e==="click")return cc(t)}function oE(e,t){if(e==="input"||e==="change")return cc(t)}function iE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:iE;function Ii(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vu.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hp(e,t){var n=Wp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wp(n)}}function cv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uv(){for(var e=window,t=xl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xl(e.document)}return t}function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aE(e){var t=uv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cv(n.ownerDocument.documentElement,n)){if(r!==null&&th(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Hp(n,o);var i=Hp(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lE=On&&"documentMode"in document&&11>=document.documentMode,Ms=null,dd=null,yi=null,fd=!1;function Vp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fd||Ms==null||Ms!==xl(r)||(r=Ms,"selectionStart"in r&&th(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yi&&Ii(yi,r)||(yi=r,r=Rl(dd,"onSelect"),0<r.length&&(t=new Yf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ms)))}function Ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ls={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},ou={},dv={};On&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function uc(e){if(ou[e])return ou[e];if(!Ls[e])return e;var t=Ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dv)return ou[e]=t[n];return e}var fv=uc("animationend"),hv=uc("animationiteration"),pv=uc("animationstart"),mv=uc("transitionend"),gv=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){gv.set(e,t),hs(t,[e])}for(var iu=0;iu<Kp.length;iu++){var au=Kp[iu],cE=au.toLowerCase(),uE=au[0].toUpperCase()+au.slice(1);Rr(cE,"on"+uE)}Rr(fv,"onAnimationEnd");Rr(hv,"onAnimationIteration");Rr(pv,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(mv,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Gp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,c_(r,t,void 0,e),e.currentTarget=null}function yv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Gp(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Gp(s,a,c),o=l}}}if(_l)throw e=ad,_l=!1,ad=null,e}function ue(e,t){var n=t[yd];n===void 0&&(n=t[yd]=new Set);var r=e+"__bubble";n.has(r)||(vv(t,e,2,!1),n.add(r))}function lu(e,t,n){var r=0;t&&(r|=4),vv(n,e,r,t)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Ni(e){if(!e[ja]){e[ja]=!0,Cy.forEach(function(n){n!=="selectionchange"&&(dE.has(n)||lu(n,!1,e),lu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ja]||(t[ja]=!0,lu("selectionchange",!1,t))}}function vv(e,t,n,r){switch(tv(t)){case 1:var s=C_;break;case 4:s=k_;break;default:s=Jf}n=s.bind(null,t,n,e),s=void 0,!id||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=zr(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}zy(function(){var c=o,u=Vf(n),d=[];e:{var f=gv.get(e);if(f!==void 0){var m=Yf,b=e;switch(e){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":m=z_;break;case"focusin":b="focus",m=nu;break;case"focusout":b="blur",m=nu;break;case"beforeblur":case"afterblur":m=nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=W_;break;case fv:case hv:case pv:m=O_;break;case mv:m=V_;break;case"scroll":m=P_;break;case"wheel":m=G_;break;case"copy":case"cut":case"paste":m=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Fp}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Ri(v,y),S!=null&&g.push(Mi(v,S,x)))),w)break;v=v.return}0<g.length&&(f=new m(f,b,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==sd&&(b=n.relatedTarget||n.fromElement)&&(zr(b)||b[In]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?zr(b):null,b!==null&&(w=ps(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(g=Lp,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fp,S="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?f:Ds(m),x=b==null?f:Ds(b),f=new g(S,v+"leave",m,n,u),f.target=w,f.relatedTarget=x,S=null,zr(u)===c&&(g=new g(y,v+"enter",b,n,u),g.target=x,g.relatedTarget=w,S=g),w=S,m&&b)t:{for(g=m,y=b,v=0,x=g;x;x=xs(x))v++;for(x=0,S=y;S;S=xs(S))x++;for(;0<v-x;)g=xs(g),v--;for(;0<x-v;)y=xs(y),x--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=xs(g),y=xs(y)}g=null}else g=null;m!==null&&Qp(d,f,m,g,!1),b!==null&&w!==null&&Qp(d,w,b,g,!0)}}e:{if(f=c?Ds(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=tE;else if(zp(f))if(av)E=oE;else{E=rE;var C=nE}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=sE);if(E&&(E=E(e,c))){iv(d,E,n,u);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Zu(f,"number",f.value)}switch(C=c?Ds(c):window,e){case"focusin":(zp(C)||C.contentEditable==="true")&&(Ms=C,dd=c,yi=null);break;case"focusout":yi=dd=Ms=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Vp(d,n,u);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":Vp(d,n,u)}var k;if(eh)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ns?sv(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(rv&&n.locale!=="ko"&&(Ns||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ns&&(k=nv()):(dr=u,Xf="value"in dr?dr.value:dr.textContent,Ns=!0)),C=Rl(c,R),0<C.length&&(R=new Dp(R,e,null,n,u),d.push({event:R,listeners:C}),k?R.data=k:(k=ov(n),k!==null&&(R.data=k)))),(k=J_?X_(e,n):Y_(e,n))&&(c=Rl(c,"onBeforeInput"),0<c.length&&(u=new Dp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}yv(d,t)})}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ri(e,n),o!=null&&r.unshift(Mi(e,o,s)),o=Ri(e,t),o!=null&&r.push(Mi(e,o,s))),e=e.return}return r}function xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qp(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ri(n,o),l!=null&&i.unshift(Mi(n,l,a))):s||(l=Ri(n,o),l!=null&&i.push(Mi(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var fE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(fE,`
`).replace(hE,"")}function Aa(e,t,n){if(t=Jp(t),Jp(e)!==t&&n)throw Error(O(425))}function Tl(){}var hd=null,pd=null;function md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(gE)}:gd;function gE(e){setTimeout(function(){throw e})}function uu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ai(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var To=Math.random().toString(36).slice(2),sn="__reactFiber$"+To,Li="__reactProps$"+To,In="__reactContainer$"+To,yd="__reactEvents$"+To,yE="__reactListeners$"+To,vE="__reactHandles$"+To;function zr(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yp(e);e!==null;){if(n=e[sn])return n;e=Yp(e)}return t}e=n,n=e.parentNode}return null}function aa(e){return e=e[sn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function dc(e){return e[Li]||null}var vd=[],Fs=-1;function Tr(e){return{current:e}}function de(e){0>Fs||(e.current=vd[Fs],vd[Fs]=null,Fs--)}function le(e,t){Fs++,vd[Fs]=e.current,e.current=t}var Cr={},He=Tr(Cr),ut=Tr(!1),ss=Cr;function go(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function jl(){de(ut),de(He)}function Zp(e,t,n){if(He.current!==Cr)throw Error(O(168));le(He,t),le(ut,n)}function wv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,n_(e)||"Unknown",s));return ye({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,ss=He.current,le(He,e),le(ut,ut.current),!0}function em(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=wv(e,t,ss),r.__reactInternalMemoizedMergedChildContext=e,de(ut),de(He),le(He,e)):de(ut),le(ut,n)}var Cn=null,fc=!1,du=!1;function bv(e){Cn===null?Cn=[e]:Cn.push(e)}function wE(e){fc=!0,bv(e)}function jr(){if(!du&&Cn!==null){du=!0;var e=0,t=oe;try{var n=Cn;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cn=null,fc=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),Hy(Kf,jr),s}finally{oe=t,du=!1}}return null}var $s=[],Us=0,Ol=null,Il=0,Rt=[],Tt=0,os=null,Rn=1,Tn="";function Dr(e,t){$s[Us++]=Il,$s[Us++]=Ol,Ol=e,Il=t}function xv(e,t,n){Rt[Tt++]=Rn,Rt[Tt++]=Tn,Rt[Tt++]=os,os=e;var r=Rn;e=Tn;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var o=32-Wt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Rn=1<<32-Wt(t)+s|n<<s|r,Tn=o+e}else Rn=1<<o|n<<s|r,Tn=e}function nh(e){e.return!==null&&(Dr(e,1),xv(e,1,0))}function rh(e){for(;e===Ol;)Ol=$s[--Us],$s[Us]=null,Il=$s[--Us],$s[Us]=null;for(;e===os;)os=Rt[--Tt],Rt[Tt]=null,Tn=Rt[--Tt],Rt[Tt]=null,Rn=Rt[--Tt],Rt[Tt]=null}var bt=null,wt=null,he=!1,qt=null;function Sv(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,wt=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=os!==null?{id:Rn,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bt=e,wt=null,!0):!1;default:return!1}}function wd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bd(e){if(he){var t=wt;if(t){var n=t;if(!tm(e,t)){if(wd(e))throw Error(O(418));t=yr(n.nextSibling);var r=bt;t&&tm(e,t)?Sv(r,n):(e.flags=e.flags&-4097|2,he=!1,bt=e)}}else{if(wd(e))throw Error(O(418));e.flags=e.flags&-4097|2,he=!1,bt=e}}}function nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function Oa(e){if(e!==bt)return!1;if(!he)return nm(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!md(e.type,e.memoizedProps)),t&&(t=wt)){if(wd(e))throw _v(),Error(O(418));for(;t;)Sv(e,t),t=yr(t.nextSibling)}if(nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=bt?yr(e.stateNode.nextSibling):null;return!0}function _v(){for(var e=wt;e;)e=yr(e.nextSibling)}function yo(){wt=bt=null,he=!1}function sh(e){qt===null?qt=[e]:qt.push(e)}var bE=$n.ReactCurrentBatchConfig;function Jo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Ia(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rm(e){var t=e._init;return t(e._payload)}function Ev(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=xr(y,v),y.index=0,y.sibling=null,y}function o(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,S){return v===null||v.tag!==6?(v=vu(x,y.mode,S),v.return=y,v):(v=s(v,x),v.return=y,v)}function l(y,v,x,S){var E=x.type;return E===Is?u(y,v,x.props.children,S,x.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qn&&rm(E)===v.type)?(S=s(v,x.props),S.ref=Jo(y,v,x),S.return=y,S):(S=dl(x.type,x.key,x.props,null,y.mode,S),S.ref=Jo(y,v,x),S.return=y,S)}function c(y,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=wu(x,y.mode,S),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function u(y,v,x,S,E){return v===null||v.tag!==7?(v=ns(x,y.mode,S,E),v.return=y,v):(v=s(v,x),v.return=y,v)}function d(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=vu(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:return x=dl(v.type,v.key,v.props,null,y.mode,x),x.ref=Jo(y,null,v),x.return=y,x;case Os:return v=wu(v,y.mode,x),v.return=y,v;case Qn:var S=v._init;return d(y,S(v._payload),x)}if(ii(v)||Ho(v))return v=ns(v,y.mode,x,null),v.return=y,v;Ia(y,v)}return null}function f(y,v,x,S){var E=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sa:return x.key===E?l(y,v,x,S):null;case Os:return x.key===E?c(y,v,x,S):null;case Qn:return E=x._init,f(y,v,E(x._payload),S)}if(ii(x)||Ho(x))return E!==null?null:u(y,v,x,S,null);Ia(y,x)}return null}function m(y,v,x,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(v,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sa:return y=y.get(S.key===null?x:S.key)||null,l(v,y,S,E);case Os:return y=y.get(S.key===null?x:S.key)||null,c(v,y,S,E);case Qn:var C=S._init;return m(y,v,x,C(S._payload),E)}if(ii(S)||Ho(S))return y=y.get(x)||null,u(v,y,S,E,null);Ia(v,S)}return null}function b(y,v,x,S){for(var E=null,C=null,k=v,R=v=0,I=null;k!==null&&R<x.length;R++){k.index>R?(I=k,k=null):I=k.sibling;var A=f(y,k,x[R],S);if(A===null){k===null&&(k=I);break}e&&k&&A.alternate===null&&t(y,k),v=o(A,v,R),C===null?E=A:C.sibling=A,C=A,k=I}if(R===x.length)return n(y,k),he&&Dr(y,R),E;if(k===null){for(;R<x.length;R++)k=d(y,x[R],S),k!==null&&(v=o(k,v,R),C===null?E=k:C.sibling=k,C=k);return he&&Dr(y,R),E}for(k=r(y,k);R<x.length;R++)I=m(k,y,R,x[R],S),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?R:I.key),v=o(I,v,R),C===null?E=I:C.sibling=I,C=I);return e&&k.forEach(function(B){return t(y,B)}),he&&Dr(y,R),E}function g(y,v,x,S){var E=Ho(x);if(typeof E!="function")throw Error(O(150));if(x=E.call(x),x==null)throw Error(O(151));for(var C=E=null,k=v,R=v=0,I=null,A=x.next();k!==null&&!A.done;R++,A=x.next()){k.index>R?(I=k,k=null):I=k.sibling;var B=f(y,k,A.value,S);if(B===null){k===null&&(k=I);break}e&&k&&B.alternate===null&&t(y,k),v=o(B,v,R),C===null?E=B:C.sibling=B,C=B,k=I}if(A.done)return n(y,k),he&&Dr(y,R),E;if(k===null){for(;!A.done;R++,A=x.next())A=d(y,A.value,S),A!==null&&(v=o(A,v,R),C===null?E=A:C.sibling=A,C=A);return he&&Dr(y,R),E}for(k=r(y,k);!A.done;R++,A=x.next())A=m(k,y,R,A.value,S),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?R:A.key),v=o(A,v,R),C===null?E=A:C.sibling=A,C=A);return e&&k.forEach(function(D){return t(y,D)}),he&&Dr(y,R),E}function w(y,v,x,S){if(typeof x=="object"&&x!==null&&x.type===Is&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Sa:e:{for(var E=x.key,C=v;C!==null;){if(C.key===E){if(E=x.type,E===Is){if(C.tag===7){n(y,C.sibling),v=s(C,x.props.children),v.return=y,y=v;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qn&&rm(E)===C.type){n(y,C.sibling),v=s(C,x.props),v.ref=Jo(y,C,x),v.return=y,y=v;break e}n(y,C);break}else t(y,C);C=C.sibling}x.type===Is?(v=ns(x.props.children,y.mode,S,x.key),v.return=y,y=v):(S=dl(x.type,x.key,x.props,null,y.mode,S),S.ref=Jo(y,v,x),S.return=y,y=S)}return i(y);case Os:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=wu(x,y.mode,S),v.return=y,y=v}return i(y);case Qn:return C=x._init,w(y,v,C(x._payload),S)}if(ii(x))return b(y,v,x,S);if(Ho(x))return g(y,v,x,S);Ia(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,x),v.return=y,y=v):(n(y,v),v=vu(x,y.mode,S),v.return=y,y=v),i(y)):n(y,v)}return w}var vo=Ev(!0),Cv=Ev(!1),Nl=Tr(null),Ml=null,zs=null,oh=null;function ih(){oh=zs=Ml=null}function ah(e){var t=Nl.current;de(Nl),e._currentValue=t}function xd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gs(e,t){Ml=e,oh=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(oh!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(Ml===null)throw Error(O(308));zs=e,Ml.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var Br=null;function lh(e){Br===null?Br=[e]:Br.push(e)}function kv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jn=!1;function ch(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nn(e,n)}return s=r.interleaved,s===null?(t.next=t,lh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nn(e,n)}function ol(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}function sm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ll(e,t,n,r){var s=e.updateQueue;Jn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=s.baseState;i=0,u=c=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,g=a;switch(f=t,m=n,g.tag){case 1:if(b=g.payload,typeof b=="function"){d=b.call(m,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,f=typeof b=="function"?b.call(m,d,f):b,f==null)break e;d=ye({},d,f);break e;case 2:Jn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);as|=i,e.lanes=i,e.memoizedState=d}}function om(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var la={},cn=Tr(la),Di=Tr(la),Fi=Tr(la);function qr(e){if(e===la)throw Error(O(174));return e}function uh(e,t){switch(le(Fi,t),le(Di,e),le(cn,la),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:td(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=td(t,e)}de(cn),le(cn,t)}function wo(){de(cn),de(Di),de(Fi)}function Rv(e){qr(Fi.current);var t=qr(cn.current),n=td(t,e.type);t!==n&&(le(Di,e),le(cn,n))}function dh(e){Di.current===e&&(de(cn),de(Di))}var me=Tr(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fu=[];function fh(){for(var e=0;e<fu.length;e++)fu[e]._workInProgressVersionPrimary=null;fu.length=0}var il=$n.ReactCurrentDispatcher,hu=$n.ReactCurrentBatchConfig,is=0,ge=null,je=null,Me=null,Fl=!1,vi=!1,$i=0,xE=0;function Ue(){throw Error(O(321))}function hh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function ph(e,t,n,r,s,o){if(is=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,il.current=e===null||e.memoizedState===null?CE:kE,e=n(r,s),vi){o=0;do{if(vi=!1,$i=0,25<=o)throw Error(O(301));o+=1,Me=je=null,t.updateQueue=null,il.current=PE,e=n(r,s)}while(vi)}if(il.current=$l,t=je!==null&&je.next!==null,is=0,Me=je=ge=null,Fl=!1,t)throw Error(O(300));return e}function mh(){var e=$i!==0;return $i=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ge.memoizedState=Me=e:Me=Me.next=e,Me}function Mt(){if(je===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Me===null?ge.memoizedState:Me.next;if(t!==null)Me=t,je=e;else{if(e===null)throw Error(O(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Me===null?ge.memoizedState=Me=e:Me=Me.next=e}return Me}function Ui(e,t){return typeof t=="function"?t(e):t}function pu(e){var t=Mt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=je,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var u=c.lane;if((is&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,ge.lanes|=u,as|=u}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Vt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ge.lanes|=o,as|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mu(e){var t=Mt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Vt(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Tv(){}function jv(e,t){var n=ge,r=Mt(),s=t(),o=!Vt(r.memoizedState,s);if(o&&(r.memoizedState=s,ct=!0),r=r.queue,gh(Iv.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,zi(9,Ov.bind(null,n,r,s,t),void 0,null),Le===null)throw Error(O(349));is&30||Av(n,t,s)}return s}function Av(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ov(e,t,n,r){t.value=n,t.getSnapshot=r,Nv(t)&&Mv(e)}function Iv(e,t,n){return n(function(){Nv(t)&&Mv(e)})}function Nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Mv(e){var t=Nn(e,1);t!==null&&Ht(t,e,1,-1)}function im(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=EE.bind(null,ge,e),[t.memoizedState,e]}function zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lv(){return Mt().memoizedState}function al(e,t,n,r){var s=en();ge.flags|=e,s.memoizedState=zi(1|t,n,void 0,r===void 0?null:r)}function hc(e,t,n,r){var s=Mt();r=r===void 0?null:r;var o=void 0;if(je!==null){var i=je.memoizedState;if(o=i.destroy,r!==null&&hh(r,i.deps)){s.memoizedState=zi(t,n,o,r);return}}ge.flags|=e,s.memoizedState=zi(1|t,n,o,r)}function am(e,t){return al(8390656,8,e,t)}function gh(e,t){return hc(2048,8,e,t)}function Dv(e,t){return hc(4,2,e,t)}function Fv(e,t){return hc(4,4,e,t)}function $v(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uv(e,t,n){return n=n!=null?n.concat([e]):null,hc(4,4,$v.bind(null,t,e),n)}function yh(){}function zv(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bv(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qv(e,t,n){return is&21?(Vt(n,t)||(n=Gy(),ge.lanes|=n,as|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function SE(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=hu.transition;hu.transition={};try{e(!1),t()}finally{oe=n,hu.transition=r}}function Wv(){return Mt().memoizedState}function _E(e,t,n){var r=br(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hv(e))Vv(t,n);else if(n=kv(e,t,n,r),n!==null){var s=Ze();Ht(n,e,r,s),Kv(n,t,r)}}function EE(e,t,n){var r=br(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hv(e))Vv(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,i)){var l=t.interleaved;l===null?(s.next=s,lh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=kv(e,t,s,r),n!==null&&(s=Ze(),Ht(n,e,r,s),Kv(n,t,r))}}function Hv(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Vv(e,t){vi=Fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}var $l={readContext:Nt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},CE={readContext:Nt,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:am,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,al(4194308,4,$v.bind(null,t,e),n)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=en();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_E.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:im,useDebugValue:yh,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=im(!1),t=e[0];return e=SE.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=en();if(he){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Le===null)throw Error(O(349));is&30||Av(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,am(Iv.bind(null,r,o,e),[e]),r.flags|=2048,zi(9,Ov.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=en(),t=Le.identifierPrefix;if(he){var n=Tn,r=Rn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$i++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kE={readContext:Nt,useCallback:zv,useContext:Nt,useEffect:gh,useImperativeHandle:Uv,useInsertionEffect:Dv,useLayoutEffect:Fv,useMemo:Bv,useReducer:pu,useRef:Lv,useState:function(){return pu(Ui)},useDebugValue:yh,useDeferredValue:function(e){var t=Mt();return qv(t,je.memoizedState,e)},useTransition:function(){var e=pu(Ui)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Tv,useSyncExternalStore:jv,useId:Wv,unstable_isNewReconciler:!1},PE={readContext:Nt,useCallback:zv,useContext:Nt,useEffect:gh,useImperativeHandle:Uv,useInsertionEffect:Dv,useLayoutEffect:Fv,useMemo:Bv,useReducer:mu,useRef:Lv,useState:function(){return mu(Ui)},useDebugValue:yh,useDeferredValue:function(e){var t=Mt();return je===null?t.memoizedState=e:qv(t,je.memoizedState,e)},useTransition:function(){var e=mu(Ui)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Tv,useSyncExternalStore:jv,useId:Wv,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pc={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=br(e),o=jn(r,s);o.payload=t,n!=null&&(o.callback=n),t=vr(e,o,s),t!==null&&(Ht(t,e,s,r),ol(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=br(e),o=jn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=vr(e,o,s),t!==null&&(Ht(t,e,s,r),ol(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=br(e),s=jn(n,r);s.tag=2,t!=null&&(s.callback=t),t=vr(e,s,r),t!==null&&(Ht(t,e,r,n),ol(t,e,r))}};function lm(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(s,o):!0}function Gv(e,t,n){var r=!1,s=Cr,o=t.contextType;return typeof o=="object"&&o!==null?o=Nt(o):(s=dt(t)?ss:He.current,r=t.contextTypes,o=(r=r!=null)?go(e,s):Cr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function cm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function _d(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ch(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Nt(o):(o=dt(t)?ss:He.current,s.context=go(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Sd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pc.enqueueReplaceState(s,s.state,null),Ll(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bo(e,t){try{var n="",r=t;do n+=t_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function gu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ed(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RE=typeof WeakMap=="function"?WeakMap:Map;function Qv(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,Nd=r),Ed(e,t)},n}function Jv(e,t,n){n=jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ed(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ed(e,t),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function um(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=BE.bind(null,e,t,n),t.then(e,e))}function dm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,vr(n,t,1))),n.lanes|=1),e)}var TE=$n.ReactCurrentOwner,ct=!1;function Xe(e,t,n,r){t.child=e===null?Cv(t,null,n,r):vo(t,e.child,n,r)}function hm(e,t,n,r,s){n=n.render;var o=t.ref;return Gs(t,s),r=ph(e,t,n,r,o,s),n=mh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mn(e,t,s)):(he&&n&&nh(t),t.flags|=1,Xe(e,t,r,s),t.child)}function pm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ch(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Xv(e,t,o,r,s)):(e=dl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(i,r)&&e.ref===t.ref)return Mn(e,t,s)}return t.flags|=1,e=xr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Xv(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ii(o,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Mn(e,t,s)}return Cd(e,t,n,r,s)}function Yv(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(qs,yt),yt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(qs,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,le(qs,yt),yt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,le(qs,yt),yt|=r;return Xe(e,t,s,n),t.child}function Zv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cd(e,t,n,r,s){var o=dt(n)?ss:He.current;return o=go(t,o),Gs(t,s),n=ph(e,t,n,r,o,s),r=mh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mn(e,t,s)):(he&&r&&nh(t),t.flags|=1,Xe(e,t,n,s),t.child)}function mm(e,t,n,r,s){if(dt(n)){var o=!0;Al(t)}else o=!1;if(Gs(t,s),t.stateNode===null)ll(e,t),Gv(t,n,r),_d(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nt(c):(c=dt(n)?ss:He.current,c=go(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cm(t,i,r,c),Jn=!1;var f=t.memoizedState;i.state=f,Ll(t,r,i,s),l=t.memoizedState,a!==r||f!==l||ut.current||Jn?(typeof u=="function"&&(Sd(t,n,u,r),l=t.memoizedState),(a=Jn||lm(t,n,a,r,f,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Pv(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ft(t.type,a),i.props=c,d=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=dt(n)?ss:He.current,l=go(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&cm(t,i,r,l),Jn=!1,f=t.memoizedState,i.state=f,Ll(t,r,i,s);var b=t.memoizedState;a!==d||f!==b||ut.current||Jn?(typeof m=="function"&&(Sd(t,n,m,r),b=t.memoizedState),(c=Jn||lm(t,n,c,r,f,b,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return kd(e,t,n,r,o,s)}function kd(e,t,n,r,s,o){Zv(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&em(t,n,!1),Mn(e,t,o);r=t.stateNode,TE.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=vo(t,e.child,null,o),t.child=vo(t,null,a,o)):Xe(e,t,a,o),t.memoizedState=r.state,s&&em(t,n,!0),t.child}function ew(e){var t=e.stateNode;t.pendingContext?Zp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zp(e,t.context,!1),uh(e,t.containerInfo)}function gm(e,t,n,r,s){return yo(),sh(s),t.flags|=256,Xe(e,t,n,r),t.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function Rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function tw(e,t,n){var r=t.pendingProps,s=me.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(me,s&1),e===null)return bd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=yc(i,r,0,null),e=ns(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Rd(n),t.memoizedState=Pd,e):vh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return jE(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=xr(a,o):(o=ns(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Rd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Pd,r}return o=e.child,e=o.sibling,r=xr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vh(e,t){return t=yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Na(e,t,n,r){return r!==null&&sh(r),vo(t,e.child,null,n),e=vh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jE(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=gu(Error(O(422))),Na(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=yc({mode:"visible",children:r.children},s,0,null),o=ns(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&vo(t,e.child,null,i),t.child.memoizedState=Rd(i),t.memoizedState=Pd,o);if(!(t.mode&1))return Na(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(O(419)),r=gu(o,r,void 0),Na(e,t,i,r)}if(a=(i&e.childLanes)!==0,ct||a){if(r=Le,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Nn(e,s),Ht(r,e,s,-1))}return Eh(),r=gu(Error(O(421))),Na(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,wt=yr(s.nextSibling),bt=t,he=!0,qt=null,e!==null&&(Rt[Tt++]=Rn,Rt[Tt++]=Tn,Rt[Tt++]=os,Rn=e.id,Tn=e.overflow,os=t),t=vh(t,r.children),t.flags|=4096,t)}function ym(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xd(e.return,t,n)}function yu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function nw(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Xe(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,n,t);else if(e.tag===19)ym(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yu(t,!0,n,null,o);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function AE(e,t,n){switch(t.tag){case 3:ew(t),yo();break;case 5:Rv(t);break;case 1:dt(t.type)&&Al(t);break;case 4:uh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;le(Nl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?tw(e,t,n):(le(me,me.current&1),e=Mn(e,t,n),e!==null?e.sibling:null);le(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,Yv(e,t,n)}return Mn(e,t,n)}var rw,Td,sw,ow;rw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Td=function(){};sw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qr(cn.current);var o=null;switch(n){case"input":s=Xu(e,s),r=Xu(e,r),o=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),o=[];break;case"textarea":s=ed(e,s),r=ed(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Tl)}nd(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ki.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ki.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ue("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};ow=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OE(e,t,n){var r=t.pendingProps;switch(rh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return dt(t.type)&&jl(),ze(t),null;case 3:return r=t.stateNode,wo(),de(ut),de(He),fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Dd(qt),qt=null))),Td(e,t),ze(t),null;case 5:dh(t);var s=qr(Fi.current);if(n=t.type,e!==null&&t.stateNode!=null)sw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return ze(t),null}if(e=qr(cn.current),Oa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[sn]=t,r[Li]=o,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(s=0;s<li.length;s++)ue(li[s],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":kp(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":Rp(r,o),ue("invalid",r)}nd(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),s=["children",""+a]):ki.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ue("scroll",r)}switch(n){case"input":_a(r),Pp(r,o,!0);break;case"textarea":_a(r),Tp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Tl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Iy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[sn]=t,e[Li]=r,rw(e,t,!1,!1),t.stateNode=e;e:{switch(i=rd(n,r),n){case"dialog":ue("cancel",e),ue("close",e),s=r;break;case"iframe":case"object":case"embed":ue("load",e),s=r;break;case"video":case"audio":for(s=0;s<li.length;s++)ue(li[s],e);s=r;break;case"source":ue("error",e),s=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),s=r;break;case"details":ue("toggle",e),s=r;break;case"input":kp(e,r),s=Xu(e,r),ue("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Rp(e,r),s=ed(e,r),ue("invalid",e);break;default:s=r}nd(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ly(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ny(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pi(e,l):typeof l=="number"&&Pi(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ki.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ue("scroll",e):l!=null&&Bf(e,o,l,i))}switch(n){case"input":_a(e),Pp(e,r,!1);break;case"textarea":_a(e),Tp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Er(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ws(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Tl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)ow(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=qr(Fi.current),qr(cn.current),Oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[sn]=t,(o=r.nodeValue!==n)&&(e=bt,e!==null))switch(e.tag){case 3:Aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=t,t.stateNode=r}return ze(t),null;case 13:if(de(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&wt!==null&&t.mode&1&&!(t.flags&128))_v(),yo(),t.flags|=98560,o=!1;else if(o=Oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[sn]=t}else yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else qt!==null&&(Dd(qt),qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Oe===0&&(Oe=3):Eh())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return wo(),Td(e,t),e===null&&Ni(t.stateNode.containerInfo),ze(t),null;case 10:return ah(t.type._context),ze(t),null;case 17:return dt(t.type)&&jl(),ze(t),null;case 19:if(de(me),o=t.memoizedState,o===null)return ze(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Xo(o,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Dl(e),i!==null){for(t.flags|=128,Xo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&_e()>xo&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!he)return ze(t),null}else 2*_e()-o.renderingStartTime>xo&&n!==1073741824&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,n=me.current,le(me,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return _h(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function IE(e,t){switch(rh(t),t.tag){case 1:return dt(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wo(),de(ut),de(He),fh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dh(t),null;case 13:if(de(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(me),null;case 4:return wo(),null;case 10:return ah(t.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var Ma=!1,qe=!1,NE=typeof WeakSet=="function"?WeakSet:Set,M=null;function Bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function jd(e,t,n){try{n()}catch(r){Se(e,t,r)}}var vm=!1;function ME(e,t){if(hd=kl,e=uv(),th(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(a=i+s),d!==o||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++c===s&&(a=i),f===o&&++u===r&&(l=i),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:e,selectionRange:n},kl=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,w=b.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ft(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return b=vm,vm=!1,b}function wi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&jd(t,n,o)}s=s.next}while(s!==r)}}function mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ad(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iw(e){var t=e.alternate;t!==null&&(e.alternate=null,iw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Li],delete t[yd],delete t[yE],delete t[vE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aw(e){return e.tag===5||e.tag===3||e.tag===4}function wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tl));else if(r!==4&&(e=e.child,e!==null))for(Od(e,t,n),e=e.sibling;e!==null;)Od(e,t,n),e=e.sibling}function Id(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Id(e,t,n),e=e.sibling;e!==null;)Id(e,t,n),e=e.sibling}var De=null,zt=!1;function Bn(e,t,n){for(n=n.child;n!==null;)lw(e,t,n),n=n.sibling}function lw(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:qe||Bs(n,t);case 6:var r=De,s=zt;De=null,Bn(e,t,n),De=r,zt=s,De!==null&&(zt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(zt?(e=De,n=n.stateNode,e.nodeType===8?uu(e.parentNode,n):e.nodeType===1&&uu(e,n),Ai(e)):uu(De,n.stateNode));break;case 4:r=De,s=zt,De=n.stateNode.containerInfo,zt=!0,Bn(e,t,n),De=r,zt=s;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&jd(n,t,i),s=s.next}while(s!==r)}Bn(e,t,n);break;case 1:if(!qe&&(Bs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}Bn(e,t,n);break;case 21:Bn(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,Bn(e,t,n),qe=r):Bn(e,t,n);break;default:Bn(e,t,n)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NE),t.forEach(function(r){var s=WE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,zt=!1;break e;case 3:De=a.stateNode.containerInfo,zt=!0;break e;case 4:De=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(De===null)throw Error(O(160));lw(o,i,s),De=null,zt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Se(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cw(t,e),t=t.sibling}function cw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Yt(e),r&4){try{wi(3,e,e.return),mc(3,e)}catch(g){Se(e,e.return,g)}try{wi(5,e,e.return)}catch(g){Se(e,e.return,g)}}break;case 1:Lt(t,e),Yt(e),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Lt(t,e),Yt(e),r&512&&n!==null&&Bs(n,n.return),e.flags&32){var s=e.stateNode;try{Pi(s,"")}catch(g){Se(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ay(s,o),rd(a,i);var c=rd(a,o);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?Ly(s,d):u==="dangerouslySetInnerHTML"?Ny(s,d):u==="children"?Pi(s,d):Bf(s,u,d,c)}switch(a){case"input":Yu(s,o);break;case"textarea":Oy(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ws(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ws(s,!!o.multiple,o.defaultValue,!0):Ws(s,!!o.multiple,o.multiple?[]:"",!1))}s[Li]=o}catch(g){Se(e,e.return,g)}}break;case 6:if(Lt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Se(e,e.return,g)}}break;case 3:if(Lt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(g){Se(e,e.return,g)}break;case 4:Lt(t,e),Yt(e);break;case 13:Lt(t,e),Yt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(xh=_e())),r&4&&bm(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(c=qe)||u,Lt(t,e),qe=c):Lt(t,e),Yt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(M=e,u=e.child;u!==null;){for(d=M=u;M!==null;){switch(f=M,m=f.child,f.tag){case 0:case 11:case 14:case 15:wi(4,f,f.return);break;case 1:Bs(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Se(r,n,g)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){Sm(d);continue}}m!==null?(m.return=f,M=m):Sm(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=My("display",i))}catch(g){Se(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Se(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(t,e),Yt(e),r&4&&bm(e);break;case 21:break;default:Lt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aw(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pi(s,""),r.flags&=-33);var o=wm(e);Id(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=wm(e);Od(e,a,i);break;default:throw Error(O(161))}}catch(l){Se(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LE(e,t,n){M=e,uw(e)}function uw(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var s=M,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ma;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||qe;a=Ma;var c=qe;if(Ma=i,(qe=l)&&!c)for(M=s;M!==null;)i=M,l=i.child,i.tag===22&&i.memoizedState!==null?_m(s):l!==null?(l.return=i,M=l):_m(s);for(;o!==null;)M=o,uw(o),o=o.sibling;M=s,Ma=a,qe=c}xm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,M=o):xm(e)}}function xm(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||mc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&om(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}om(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}qe||t.flags&512&&Ad(t)}catch(f){Se(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Sm(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function _m(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mc(4,t)}catch(l){Se(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Se(t,s,l)}}var o=t.return;try{Ad(t)}catch(l){Se(t,o,l)}break;case 5:var i=t.return;try{Ad(t)}catch(l){Se(t,i,l)}}}catch(l){Se(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var DE=Math.ceil,Ul=$n.ReactCurrentDispatcher,wh=$n.ReactCurrentOwner,At=$n.ReactCurrentBatchConfig,ee=0,Le=null,Te=null,Fe=0,yt=0,qs=Tr(0),Oe=0,Bi=null,as=0,gc=0,bh=0,bi=null,at=null,xh=0,xo=1/0,_n=null,zl=!1,Nd=null,wr=null,La=!1,fr=null,Bl=0,xi=0,Md=null,cl=-1,ul=0;function Ze(){return ee&6?_e():cl!==-1?cl:cl=_e()}function br(e){return e.mode&1?ee&2&&Fe!==0?Fe&-Fe:bE.transition!==null?(ul===0&&(ul=Gy()),ul):(e=oe,e!==0||(e=window.event,e=e===void 0?16:tv(e.type)),e):1}function Ht(e,t,n,r){if(50<xi)throw xi=0,Md=null,Error(O(185));oa(e,n,r),(!(ee&2)||e!==Le)&&(e===Le&&(!(ee&2)&&(gc|=n),Oe===4&&Zn(e,Fe)),ft(e,r),n===1&&ee===0&&!(t.mode&1)&&(xo=_e()+500,fc&&jr()))}function ft(e,t){var n=e.callbackNode;b_(e,t);var r=Cl(e,e===Le?Fe:0);if(r===0)n!==null&&Op(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Op(n),t===1)e.tag===0?wE(Em.bind(null,e)):bv(Em.bind(null,e)),mE(function(){!(ee&6)&&jr()}),n=null;else{switch(Qy(r)){case 1:n=Kf;break;case 4:n=Vy;break;case 16:n=El;break;case 536870912:n=Ky;break;default:n=El}n=vw(n,dw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dw(e,t){if(cl=-1,ul=0,ee&6)throw Error(O(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=Cl(e,e===Le?Fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ql(e,r);else{t=r;var s=ee;ee|=2;var o=hw();(Le!==e||Fe!==t)&&(_n=null,xo=_e()+500,ts(e,t));do try{UE();break}catch(a){fw(e,a)}while(!0);ih(),Ul.current=o,ee=s,Te!==null?t=0:(Le=null,Fe=0,t=Oe)}if(t!==0){if(t===2&&(s=ld(e),s!==0&&(r=s,t=Ld(e,s))),t===1)throw n=Bi,ts(e,0),Zn(e,r),ft(e,_e()),n;if(t===6)Zn(e,r);else{if(s=e.current.alternate,!(r&30)&&!FE(s)&&(t=ql(e,r),t===2&&(o=ld(e),o!==0&&(r=o,t=Ld(e,o))),t===1))throw n=Bi,ts(e,0),Zn(e,r),ft(e,_e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Fr(e,at,_n);break;case 3:if(Zn(e,r),(r&130023424)===r&&(t=xh+500-_e(),10<t)){if(Cl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gd(Fr.bind(null,e,at,_n),t);break}Fr(e,at,_n);break;case 4:if(Zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Wt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DE(r/1960))-r,10<r){e.timeoutHandle=gd(Fr.bind(null,e,at,_n),r);break}Fr(e,at,_n);break;case 5:Fr(e,at,_n);break;default:throw Error(O(329))}}}return ft(e,_e()),e.callbackNode===n?dw.bind(null,e):null}function Ld(e,t){var n=bi;return e.current.memoizedState.isDehydrated&&(ts(e,t).flags|=256),e=ql(e,t),e!==2&&(t=at,at=n,t!==null&&Dd(t)),e}function Dd(e){at===null?at=e:at.push.apply(at,e)}function FE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Vt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~bh,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Em(e){if(ee&6)throw Error(O(327));Qs();var t=Cl(e,0);if(!(t&1))return ft(e,_e()),null;var n=ql(e,t);if(e.tag!==0&&n===2){var r=ld(e);r!==0&&(t=r,n=Ld(e,r))}if(n===1)throw n=Bi,ts(e,0),Zn(e,t),ft(e,_e()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,at,_n),ft(e,_e()),null}function Sh(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(xo=_e()+500,fc&&jr())}}function ls(e){fr!==null&&fr.tag===0&&!(ee&6)&&Qs();var t=ee;ee|=1;var n=At.transition,r=oe;try{if(At.transition=null,oe=1,e)return e()}finally{oe=r,At.transition=n,ee=t,!(ee&6)&&jr()}}function _h(){yt=qs.current,de(qs)}function ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pE(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(rh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:wo(),de(ut),de(He),fh();break;case 5:dh(r);break;case 4:wo();break;case 13:de(me);break;case 19:de(me);break;case 10:ah(r.type._context);break;case 22:case 23:_h()}n=n.return}if(Le=e,Te=e=xr(e.current,null),Fe=yt=t,Oe=0,Bi=null,bh=gc=as=0,at=bi=null,Br!==null){for(t=0;t<Br.length;t++)if(n=Br[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Br=null}return e}function fw(e,t){do{var n=Te;try{if(ih(),il.current=$l,Fl){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fl=!1}if(is=0,Me=je=ge=null,vi=!1,$i=0,wh.current=null,n===null||n.return===null){Oe=1,Bi=t,Te=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=dm(i);if(m!==null){m.flags&=-257,fm(m,i,a,o,t),m.mode&1&&um(o,c,t),t=m,l=c;var b=t.updateQueue;if(b===null){var g=new Set;g.add(l),t.updateQueue=g}else b.add(l);break e}else{if(!(t&1)){um(o,c,t),Eh();break e}l=Error(O(426))}}else if(he&&a.mode&1){var w=dm(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fm(w,i,a,o,t),sh(bo(l,a));break e}}o=l=bo(l,a),Oe!==4&&(Oe=2),bi===null?bi=[o]:bi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Qv(o,l,t);sm(o,y);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wr===null||!wr.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=Jv(o,a,t);sm(o,S);break e}}o=o.return}while(o!==null)}mw(n)}catch(E){t=E,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function hw(){var e=Ul.current;return Ul.current=$l,e===null?$l:e}function Eh(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Le===null||!(as&268435455)&&!(gc&268435455)||Zn(Le,Fe)}function ql(e,t){var n=ee;ee|=2;var r=hw();(Le!==e||Fe!==t)&&(_n=null,ts(e,t));do try{$E();break}catch(s){fw(e,s)}while(!0);if(ih(),ee=n,Ul.current=r,Te!==null)throw Error(O(261));return Le=null,Fe=0,Oe}function $E(){for(;Te!==null;)pw(Te)}function UE(){for(;Te!==null&&!d_();)pw(Te)}function pw(e){var t=yw(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?mw(e):Te=t,wh.current=null}function mw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IE(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Te=null;return}}else if(n=OE(n,t,yt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Oe===0&&(Oe=5)}function Fr(e,t,n){var r=oe,s=At.transition;try{At.transition=null,oe=1,zE(e,t,n,r)}finally{At.transition=s,oe=r}return null}function zE(e,t,n,r){do Qs();while(fr!==null);if(ee&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(x_(e,o),e===Le&&(Te=Le=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,vw(El,function(){return Qs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var i=oe;oe=1;var a=ee;ee|=4,wh.current=null,ME(e,n),cw(n,e),aE(pd),kl=!!hd,pd=hd=null,e.current=n,LE(n),f_(),ee=a,oe=i,At.transition=o}else e.current=n;if(La&&(La=!1,fr=e,Bl=s),o=e.pendingLanes,o===0&&(wr=null),m_(n.stateNode),ft(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,e=Nd,Nd=null,e;return Bl&1&&e.tag!==0&&Qs(),o=e.pendingLanes,o&1?e===Md?xi++:(xi=0,Md=e):xi=0,jr(),null}function Qs(){if(fr!==null){var e=Qy(Bl),t=At.transition,n=oe;try{if(At.transition=null,oe=16>e?16:e,fr===null)var r=!1;else{if(e=fr,fr=null,Bl=0,ee&6)throw Error(O(331));var s=ee;for(ee|=4,M=e.current;M!==null;){var o=M,i=o.child;if(M.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:wi(8,u,o)}var d=u.child;if(d!==null)d.return=u,M=d;else for(;M!==null;){u=M;var f=u.sibling,m=u.return;if(iw(u),u===c){M=null;break}if(f!==null){f.return=m,M=f;break}M=m}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}M=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,M=i;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,M=y;break e}M=o.return}}var v=e.current;for(M=v;M!==null;){i=M;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,M=x;else e:for(i=v;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mc(9,a)}}catch(E){Se(a,a.return,E)}if(a===i){M=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,M=S;break e}M=a.return}}if(ee=s,jr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(ac,e)}catch{}r=!0}return r}finally{oe=n,At.transition=t}}return!1}function Cm(e,t,n){t=bo(n,t),t=Qv(e,t,1),e=vr(e,t,1),t=Ze(),e!==null&&(oa(e,1,t),ft(e,t))}function Se(e,t,n){if(e.tag===3)Cm(e,e,n);else for(;t!==null;){if(t.tag===3){Cm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){e=bo(n,e),e=Jv(t,e,1),t=vr(t,e,1),e=Ze(),t!==null&&(oa(t,1,e),ft(t,e));break}}t=t.return}}function BE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(Fe&n)===n&&(Oe===4||Oe===3&&(Fe&130023424)===Fe&&500>_e()-xh?ts(e,0):bh|=n),ft(e,t)}function gw(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var n=Ze();e=Nn(e,t),e!==null&&(oa(e,t,n),ft(e,n))}function qE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gw(e,n)}function WE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),gw(e,n)}var yw;yw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,AE(e,t,n);ct=!!(e.flags&131072)}else ct=!1,he&&t.flags&1048576&&xv(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ll(e,t),e=t.pendingProps;var s=go(t,He.current);Gs(t,n),s=ph(null,t,r,e,s,n);var o=mh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(o=!0,Al(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ch(t),s.updater=pc,t.stateNode=s,s._reactInternals=t,_d(t,r,e,n),t=kd(null,t,r,!0,o,n)):(t.tag=0,he&&o&&nh(t),Xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ll(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=VE(r),e=Ft(r,e),s){case 0:t=Cd(null,t,r,e,n);break e;case 1:t=mm(null,t,r,e,n);break e;case 11:t=hm(null,t,r,e,n);break e;case 14:t=pm(null,t,r,Ft(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Cd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),mm(e,t,r,s,n);case 3:e:{if(ew(t),e===null)throw Error(O(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Pv(e,t),Ll(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=bo(Error(O(423)),t),t=gm(e,t,r,n,s);break e}else if(r!==s){s=bo(Error(O(424)),t),t=gm(e,t,r,n,s);break e}else for(wt=yr(t.stateNode.containerInfo.firstChild),bt=t,he=!0,qt=null,n=Cv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),r===s){t=Mn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Rv(t),e===null&&bd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,md(r,s)?i=null:o!==null&&md(r,o)&&(t.flags|=32),Zv(e,t),Xe(e,t,i,n),t.child;case 6:return e===null&&bd(t),null;case 13:return tw(e,t,n);case 4:return uh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vo(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),hm(e,t,r,s,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,le(Nl,r._currentValue),r._currentValue=i,o!==null)if(Vt(o.value,i)){if(o.children===s.children&&!ut.current){t=Mn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=jn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xd(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(O(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),xd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gs(t,n),s=Nt(s),r=r(s),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,s=Ft(r,t.pendingProps),s=Ft(r.type,s),pm(e,t,r,s,n);case 15:return Xv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),ll(e,t),t.tag=1,dt(r)?(e=!0,Al(t)):e=!1,Gs(t,n),Gv(t,r,s),_d(t,r,s,n),kd(null,t,r,!0,e,n);case 19:return nw(e,t,n);case 22:return Yv(e,t,n)}throw Error(O(156,t.tag))};function vw(e,t){return Hy(e,t)}function HE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new HE(e,t,n,r)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VE(e){if(typeof e=="function")return Ch(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wf)return 11;if(e===Hf)return 14}return 2}function xr(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ch(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Is:return ns(n.children,s,o,t);case qf:i=8,s|=8;break;case Ku:return e=jt(12,n,t,s|2),e.elementType=Ku,e.lanes=o,e;case Gu:return e=jt(13,n,t,s),e.elementType=Gu,e.lanes=o,e;case Qu:return e=jt(19,n,t,s),e.elementType=Qu,e.lanes=o,e;case Ry:return yc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ky:i=10;break e;case Py:i=9;break e;case Wf:i=11;break e;case Hf:i=14;break e;case Qn:i=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=jt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ns(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function yc(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Ry,e.lanes=n,e.stateNode={isHidden:!1},e}function vu(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function wu(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kh(e,t,n,r,s,o,i,a,l){return e=new KE(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(o),e}function GE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ww(e){if(!e)return Cr;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(dt(n))return wv(e,n,t)}return t}function bw(e,t,n,r,s,o,i,a,l){return e=kh(n,r,!0,e,s,o,i,a,l),e.context=ww(null),n=e.current,r=Ze(),s=br(n),o=jn(r,s),o.callback=t??null,vr(n,o,s),e.current.lanes=s,oa(e,s,r),ft(e,r),e}function vc(e,t,n,r){var s=t.current,o=Ze(),i=br(s);return n=ww(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vr(s,t,i),e!==null&&(Ht(e,s,i,o),ol(e,s,i)),i}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ph(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function QE(){return null}var xw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rh(e){this._internalRoot=e}wc.prototype.render=Rh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));vc(e,t,null,null)};wc.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ls(function(){vc(null,e,null,null)}),t[In]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&ev(e)}};function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function JE(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Wl(i);o.call(c)}}var i=bw(t,r,e,0,null,!1,!1,"",Pm);return e._reactRootContainer=i,e[In]=i.current,Ni(e.nodeType===8?e.parentNode:e),ls(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Wl(l);a.call(c)}}var l=kh(e,0,!1,null,null,!1,!1,"",Pm);return e._reactRootContainer=l,e[In]=l.current,Ni(e.nodeType===8?e.parentNode:e),ls(function(){vc(t,l,n,r)}),l}function xc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Wl(i);a.call(l)}}vc(t,i,e,s)}else i=JE(n,t,e,s,r);return Wl(i)}Jy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ai(t.pendingLanes);n!==0&&(Gf(t,n|1),ft(t,_e()),!(ee&6)&&(xo=_e()+500,jr()))}break;case 13:ls(function(){var r=Nn(e,1);if(r!==null){var s=Ze();Ht(r,e,1,s)}}),Ph(e,1)}};Qf=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=Ze();Ht(t,e,134217728,n)}Ph(e,134217728)}};Xy=function(e){if(e.tag===13){var t=br(e),n=Nn(e,t);if(n!==null){var r=Ze();Ht(n,e,t,r)}Ph(e,t)}};Yy=function(){return oe};Zy=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};od=function(e,t,n){switch(t){case"input":if(Yu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=dc(r);if(!s)throw Error(O(90));jy(r),Yu(r,s)}}}break;case"textarea":Oy(e,n);break;case"select":t=n.value,t!=null&&Ws(e,!!n.multiple,t,!1)}};$y=Sh;Uy=ls;var XE={usingClientEntryPoint:!1,Events:[aa,Ds,dc,Dy,Fy,Sh]},Yo={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qy(e),e===null?null:e.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||QE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{ac=Da.inject(YE),ln=Da}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XE;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(t))throw Error(O(200));return GE(e,t,null,n)};_t.createRoot=function(e,t){if(!Th(e))throw Error(O(299));var n=!1,r="",s=xw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kh(e,1,!1,null,null,n,!1,r,s),e[In]=t.current,Ni(e.nodeType===8?e.parentNode:e),new Rh(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=qy(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return ls(e)};_t.hydrate=function(e,t,n){if(!bc(t))throw Error(O(200));return xc(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!Th(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=xw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=bw(t,null,e,1,n??null,s,!1,o,i),e[In]=t.current,Ni(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wc(t)};_t.render=function(e,t,n){if(!bc(t))throw Error(O(200));return xc(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!bc(e))throw Error(O(40));return e._reactRootContainer?(ls(function(){xc(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};_t.unstable_batchedUpdates=Sh;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bc(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return xc(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(e){console.error(e)}}Sw(),Sy.exports=_t;var Sc=Sy.exports;const ZE=uy(Sc);var _w,Rm=Sc;_w=Rm.createRoot,Rm.hydrateRoot;const e1="modulepreload",t1=function(e){return"/wet-trades-app/"+e},Tm={},fe=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=t1(l),l in Tm)return;Tm[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":e1,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const jm="popstate";function n1(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:a="",hash:l=""}=ms(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Fd("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:Hl(o))}function r(s,o){jh(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return s1(t,n,r,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r1(){return Math.random().toString(36).substr(2,8)}function Am(e,t){return{usr:e.state,key:e.key,idx:t}}function Fd(e,t,n,r){return n===void 0&&(n=null),qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ms(t):t,{state:n,key:t&&t.key||r||r1()})}function Hl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ms(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s1(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=hr.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(qi({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function d(){a=hr.Pop;let w=u(),y=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:y})}function f(w,y){a=hr.Push;let v=Fd(g.location,w,y);n&&n(v,w),c=u()+1;let x=Am(v,c),S=g.createHref(v);try{i.pushState(x,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}o&&l&&l({action:a,location:g.location,delta:1})}function m(w,y){a=hr.Replace;let v=Fd(g.location,w,y);n&&n(v,w),c=u();let x=Am(v,c),S=g.createHref(v);i.replaceState(x,"",S),o&&l&&l({action:a,location:g.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:Hl(w);return v=v.replace(/ $/,"%20"),Ee(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return a},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jm,d),l=w,()=>{s.removeEventListener(jm,d),l=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(w){return i.go(w)}};return g}var Om;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Om||(Om={}));function o1(e,t,n){return n===void 0&&(n="/"),i1(e,t,n)}function i1(e,t,n,r){let s=typeof t=="string"?ms(t):t,o=Ah(s.pathname||"/",n);if(o==null)return null;let i=Ew(e);a1(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=w1(o);a=g1(i[l],c)}return a}function Ew(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Sr([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Ee(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ew(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:p1(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of Cw(o.path))s(o,i,l)}),t}function Cw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Cw(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function a1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:m1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l1=/^:[\w-]+$/,c1=3,u1=2,d1=1,f1=10,h1=-2,Im=e=>e==="*";function p1(e,t){let n=e.split("/"),r=n.length;return n.some(Im)&&(r+=h1),t&&(r+=u1),n.filter(s=>!Im(s)).reduce((s,o)=>s+(l1.test(o)?c1:o===""?d1:f1),r)}function m1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function g1(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=y1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:Sr([o,d.pathname]),pathnameBase:_1(Sr([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Sr([o,d.pathnameBase]))}return i}function y1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=v1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let g=a[d]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=a[d];return m&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function v1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function w1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ah(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function b1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ms(e):e;return{pathname:n?n.startsWith("/")?n:x1(n,t):t,search:E1(r),hash:C1(s)}}function x1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oh(e,t){let n=S1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ih(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ms(e):(s=qi({},e),Ee(!s.pathname||!s.pathname.includes("?"),bu("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),bu("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),bu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=b1(s,a),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),_1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function k1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kw=["post","put","patch","delete"];new Set(kw);const P1=["get",...kw];new Set(P1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wi.apply(this,arguments)}const Nh=p.createContext(null),R1=p.createContext(null),Ar=p.createContext(null),_c=p.createContext(null),Un=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Pw=p.createContext(null);function T1(e,t){let{relative:n}=t===void 0?{}:t;jo()||Ee(!1);let{basename:r,navigator:s}=p.useContext(Ar),{hash:o,pathname:i,search:a}=Tw(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Sr([r,i])),s.createHref({pathname:l,search:a,hash:o})}function jo(){return p.useContext(_c)!=null}function gs(){return jo()||Ee(!1),p.useContext(_c).location}function Rw(e){p.useContext(Ar).static||p.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=p.useContext(Un);return e?B1():j1()}function j1(){jo()||Ee(!1);let e=p.useContext(Nh),{basename:t,future:n,navigator:r}=p.useContext(Ar),{matches:s}=p.useContext(Un),{pathname:o}=gs(),i=JSON.stringify(Oh(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return Rw(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Ih(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,o,e])}function KL(){let{matches:e}=p.useContext(Un),t=e[e.length-1];return t?t.params:{}}function Tw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Ar),{matches:s}=p.useContext(Un),{pathname:o}=gs(),i=JSON.stringify(Oh(s,r.v7_relativeSplatPath));return p.useMemo(()=>Ih(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function A1(e,t){return O1(e,t)}function O1(e,t,n,r){jo()||Ee(!1);let{navigator:s}=p.useContext(Ar),{matches:o}=p.useContext(Un),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=gs(),u;if(t){var d;let w=typeof t=="string"?ms(t):t;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Ee(!1),u=w}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=o1(e,{pathname:m}),g=D1(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Sr([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Sr([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&g?p.createElement(_c.Provider,{value:{location:Wi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hr.Pop}},g):g}function I1(){let e=z1(),t=k1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const N1=p.createElement(I1,null);class M1 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Un.Provider,{value:this.props.routeContext},p.createElement(Pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L1(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(Nh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Un.Provider,{value:t},r)}function D1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ee(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,b=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let m,b=!1,g=null,w=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||N1,l&&(c<0&&f===0?(q1("route-fallback"),b=!0,w=null):c===f&&(b=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,f+1)),v=()=>{let x;return m?x=g:b?x=w:d.route.Component?x=p.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,p.createElement(L1,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?p.createElement(M1,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var jw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jw||{}),Aw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Aw||{});function F1(e){let t=p.useContext(Nh);return t||Ee(!1),t}function $1(e){let t=p.useContext(R1);return t||Ee(!1),t}function U1(e){let t=p.useContext(Un);return t||Ee(!1),t}function Ow(e){let t=U1(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function z1(){var e;let t=p.useContext(Pw),n=$1(),r=Ow();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function B1(){let{router:e}=F1(jw.UseNavigateStable),t=Ow(Aw.UseNavigateStable),n=p.useRef(!1);return Rw(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wi({fromRouteId:t},o)))},[e,t])}const Nm={};function q1(e,t,n){Nm[e]||(Nm[e]=!0)}function W1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mm(e){let{to:t,replace:n,state:r,relative:s}=e;jo()||Ee(!1);let{future:o,static:i}=p.useContext(Ar),{matches:a}=p.useContext(Un),{pathname:l}=gs(),c=Or(),u=Ih(t,Oh(a,o.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return p.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function pe(e){Ee(!1)}function H1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=hr.Pop,navigator:o,static:i=!1,future:a}=e;jo()&&Ee(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:o,static:i,future:Wi({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=ms(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:b="default"}=r,g=p.useMemo(()=>{let w=Ah(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:b},navigationType:s}},[l,u,d,f,m,b,s]);return g==null?null:p.createElement(Ar.Provider,{value:c},p.createElement(_c.Provider,{children:n,value:g}))}function V1(e){let{children:t,location:n}=e;return A1($d(t),n)}new Promise(()=>{});function $d(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,$d(r.props.children,o));return}r.type!==pe&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=$d(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(this,arguments)}function K1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function G1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q1(e,t){return e.button===0&&(!t||t==="_self")&&!G1(e)}function zd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function J1(e,t){let n=zd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const X1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y1="6";try{window.__reactRouterVersion=Y1}catch{}const Z1="startTransition",Lm=$f[Z1];function eC(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=n1({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=p.useCallback(d=>{c&&Lm?Lm(()=>l(d)):l(d)},[l,c]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.useEffect(()=>W1(r),[r]),p.createElement(H1,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const tC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,f=K1(t,X1),{basename:m}=p.useContext(Ar),b,g=!1;if(typeof c=="string"&&nC.test(c)&&(b=c,tC))try{let x=new URL(window.location.href),S=c.startsWith("//")?new URL(x.protocol+c):new URL(c),E=Ah(S.pathname,m);S.origin===x.origin&&E!=null?c=E+S.search+S.hash:g=!0}catch{}let w=T1(c,{relative:s}),y=rC(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function v(x){r&&r(x),x.defaultPrevented||y(x)}return p.createElement("a",Ud({},f,{href:b||w,onClick:g||o?r:v,ref:n,target:l}))});var Dm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dm||(Dm={}));var Fm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fm||(Fm={}));function rC(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=Or(),c=gs(),u=Tw(e,{relative:i});return p.useCallback(d=>{if(Q1(d,n)){d.preventDefault();let f=r!==void 0?r:Hl(c)===Hl(u);l(e,{replace:f,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,u,r,s,n,e,o,i,a])}function GL(e){let t=p.useRef(zd(e)),n=p.useRef(!1),r=gs(),s=p.useMemo(()=>J1(r.search,n.current?null:t.current),[r.search]),o=Or(),i=p.useCallback((a,l)=>{const c=zd(typeof a=="function"?a(s):a);n.current=!0,o("?"+c,l)},[o,s]);return[s,i]}const sC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fe(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Mh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class oC extends Mh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iC extends Mh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class aC extends Mh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bd||(Bd={}));var lC=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class cC{constructor(t,{headers:n={},customFetch:r,region:s=Bd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=sC(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return lC(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(b=>{throw new oC(b)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new iC(u);if(!u.ok)throw new aC(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield u.json():f==="application/octet-stream"?m=yield u.blob():f==="text/event-stream"?m=u:f==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var lt={},Lh={},Ec={},ca={},Cc={},kc={},uC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=uC();const dC=So.fetch,Iw=So.fetch.bind(So),Nw=So.Headers,fC=So.Request,hC=So.Response,Ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nw,Request:fC,Response:hC,default:Iw,fetch:dC},Symbol.toStringTag,{value:"Module"})),pC=PS(Ao);var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});let mC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pc.default=mC;var Mw=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kc,"__esModule",{value:!0});const gC=Mw(pC),yC=Mw(Pc);let vC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,u=null,d=null,f=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,m="OK")}catch{o.status===404&&g===""?(f=204,m="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new yC.default(c)}return{error:c,data:u,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};kc.default=vC;var wC=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const bC=wC(kc);let xC=class extends bC.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cc.default=xC;var SC=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const _C=SC(Cc);let EC=class extends _C.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ca.default=EC;var CC=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});const Zo=CC(ca);let kC=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Zo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Zo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Zo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Zo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ec.default=kC;var Rc={},Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.version=void 0;Tc.version="0.0.0-automated";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.DEFAULT_HEADERS=void 0;const PC=Tc;Rc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PC.version}`};var Lw=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lh,"__esModule",{value:!0});const RC=Lw(Ec),TC=Lw(ca),jC=Rc;let AC=class Dw{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},jC.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new RC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new TC.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Lh.default=AC;var Oo=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const Fw=Oo(Lh);lt.PostgrestClient=Fw.default;const $w=Oo(Ec);lt.PostgrestQueryBuilder=$w.default;const Uw=Oo(ca);lt.PostgrestFilterBuilder=Uw.default;const zw=Oo(Cc);lt.PostgrestTransformBuilder=zw.default;const Bw=Oo(kc);lt.PostgrestBuilder=Bw.default;const qw=Oo(Pc);lt.PostgrestError=qw.default;var OC=lt.default={PostgrestClient:Fw.default,PostgrestQueryBuilder:$w.default,PostgrestFilterBuilder:Uw.default,PostgrestTransformBuilder:zw.default,PostgrestBuilder:Bw.default,PostgrestError:qw.default};const{PostgrestClient:IC,PostgrestQueryBuilder:eD,PostgrestFilterBuilder:tD,PostgrestTransformBuilder:nD,PostgrestBuilder:rD,PostgrestError:sD}=OC;var xu,$m;function NC(){return $m||($m=1,xu=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),xu}let qd;typeof window>"u"?qd=NC():qd=window.WebSocket;const MC="2.11.10",LC={"X-Client-Info":`realtime-js/${MC}`},DC="1.0.0",Ww=1e4,FC=1e3;var Js;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Js||(Js={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var Bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bt||(Bt={}));var Wd;(function(e){e.websocket="websocket"})(Wd||(Wd={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class $C{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Hw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Um=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=UC(i,e,t,s),o),{})},UC=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Vw(o,i):Hd(i)},Vw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return WC(t,n)}switch(e){case ae.bool:return zC(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return BC(t);case ae.json:case ae.jsonb:return qC(t);case ae.timestamp:return HC(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Hd(t);default:return Hd(t)}},Hd=e=>e,zC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WC=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Vw(t,a))}return e},HC=e=>typeof e=="string"?e.replace(" ","T"):e,Kw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Su{constructor(t,n,r={},s=Ww){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zm||(zm={}));class Si{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Si.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Si.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Si.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const d=o[c];if(d){const f=u.map(w=>w.presence_ref),m=d.map(w=>w.presence_ref),b=u.filter(w=>m.indexOf(w.presence_ref)<0),g=d.filter(w=>f.indexOf(w.presence_ref)<0);b.length>0&&(a[c]=b),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(m=>m.presence_ref),f=u.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bm||(Bm={}));var qm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qm||(qm={}));var En;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class Dh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Su(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new Hw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Si(this),this.broadcastEndpointURL=Kw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>t==null?void 0:t(En.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(En.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(En.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,b=[];for(let g=0;g<m;g++){const w=f[g],{filter:{event:y,schema:v,table:x,filter:S}}=w,E=u&&u[g];if(E&&E.event===y&&E.schema===v&&E.table===x&&E.filter===S)b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Ge.errored,t==null||t(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(En.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ge.errored,t==null||t(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Su(this,Bt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Su(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Bt;if(r&&[a,l,c,u].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,g,w;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(g=m.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(m=>m.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var b,g,w,y,v,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const S=m.id,E=(b=m.filter)===null||b===void 0?void 0:b.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:x}=b;f=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(b))}m.callback(f,r)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Dh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bt.close,{},t)}_onError(t){this._on(Bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Um(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Um(t.columns,t.old_record)),n}}const Wm=()=>{},VC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KC{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=LC,this.params={},this.timeout=Ww,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wm,this.ref=0,this.logger=Wm,this.conn=null,this.sendBuffer=[],this.serializer=new $C,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>fe(async()=>{const{default:l}=await Promise.resolve().then(()=>Ao);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Wd.websocket}`,this.httpEndpoint=Kw(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=qd),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new GC(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DC}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Js.connecting:return Ur.Connecting;case Js.open:return Ur.Open;case Js.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Dh(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Bt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(FC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([VC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class GC{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Js.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Fh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QC extends Fh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vd extends Fh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var JC=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Gw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fe(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},XC=()=>JC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fe(()=>Promise.resolve().then(()=>Ao),void 0)).Response:Response}),Kd=e=>{if(Array.isArray(e))return e.map(n=>Kd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Kd(r)}),t};var ys=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const _u=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YC=(e,t,n)=>ys(void 0,void 0,void 0,function*(){const r=yield XC();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new QC(_u(s),e.status||500))}).catch(s=>{t(new Vd(_u(s),s))}):t(new Vd(_u(e),e))}),ZC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ua(e,t,n,r,s,o){return ys(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,ZC(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>YC(l,a,r))})})}function Kl(e,t,n,r){return ys(this,void 0,void 0,function*(){return ua(e,"GET",t,n,r)})}function Xn(e,t,n,r,s){return ys(this,void 0,void 0,function*(){return ua(e,"POST",t,r,s,n)})}function ek(e,t,n,r,s){return ys(this,void 0,void 0,function*(){return ua(e,"PUT",t,r,s,n)})}function tk(e,t,n,r){return ys(this,void 0,void 0,function*(){return ua(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Qw(e,t,n,r,s){return ys(this,void 0,void 0,function*(){return ua(e,"DELETE",t,r,s,n)})}var st=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const nk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Gw(s)}uploadOrUpdate(t,n,r,s){return st(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Hm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}upload(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return st(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Hm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return st(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Fh("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}update(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}copy(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return st(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Xn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return st(this,void 0,void 0,function*(){try{const s=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}download(t,n){return st(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Kl(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}info(t){return st(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Kl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kd(r),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}exists(t){return st(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield tk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ne(r)&&r instanceof Vd){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield Qw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}list(t,n,r){return st(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},nk),n),{prefix:t||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const sk="2.7.1",ok={"X-Client-Info":`storage-js/${sk}`};var Ss=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class ik{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},ok),n),this.fetch=Gw(r)}listBuckets(){return Ss(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ne(t))return{data:null,error:t};throw t}})}getBucket(t){return Ss(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ss(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ss(this,void 0,void 0,function*(){try{return{data:yield ek(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ss(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ss(this,void 0,void 0,function*(){try{return{data:yield Qw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}}class ak extends ik{constructor(t,n={},r){super(t,n,r)}from(t){return new rk(this.url,this.headers,t,this.fetch)}}const lk="2.50.0";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const ck={"X-Client-Info":`supabase-js-${ci}/${lk}`},uk={headers:ck},dk={schema:"public"},fk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hk={};var pk=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const mk=e=>{let t;return e?t=e:typeof fetch>"u"?t=Iw:t=fetch,(...n)=>t(...n)},gk=()=>typeof Headers>"u"?Nw:Headers,yk=(e,t,n)=>{const r=mk(n),s=gk();return(o,i)=>pk(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var vk=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function wk(e){return e.endsWith("/")?e:e+"/"}function bk(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vk(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Jw="2.70.0",js=30*1e3,Gd=3,Eu=Gd*js,xk="http://localhost:9999",Sk="supabase.auth.token",_k={"X-Client-Info":`gotrue-js/${Jw}`},Qd="X-Supabase-Api-Version",Xw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ek=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ck=6e5;class $h extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kk extends $h{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pk(e){return V(e)&&e.name==="AuthApiError"}class Yw extends $h{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ir extends $h{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Hn extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rk(e){return V(e)&&e.name==="AuthSessionMissingError"}class Fa extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $a extends Ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ua extends Ir{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tk(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vm extends Ir{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jd extends Ir{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cu(e){return V(e)&&e.name==="AuthRetryableFetchError"}class Km extends Ir{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class _i extends Ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gm=` 	
\r=`.split(""),jk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gm.length;t+=1)e[Gm[t].charCodeAt(0)]=-2;for(let t=0;t<Gl.length;t+=1)e[Gl[t].charCodeAt(0)]=t;return e})();function Qm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gl[r]),t.queuedBits-=6}}function Zw(e,t,n){const r=jk[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jm(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Ik(i,r,n)};for(let i=0;i<e.length;i+=1)Zw(e.charCodeAt(i),s,o);return t.join("")}function Ak(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ok(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Ak(r,t)}}function Ik(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Nk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Zw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Mk(e){const t=[];return Ok(e,n=>t.push(n)),new Uint8Array(t)}function Lk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Qm(s,n,r)),Qm(null,n,r),t.join("")}function Dk(e){return Math.round(Date.now()/1e3)+e}function Fk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dt=()=>typeof window<"u"&&typeof document<"u",Lr={tested:!1,writable:!1},Ei=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lr.tested)return Lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lr.tested=!0,Lr.writable=!0}catch{Lr.tested=!0,Lr.writable=!1}return Lr.writable};function $k(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const e0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fe(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Uk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",t0=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},za=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ba=async(e,t)=>{await e.removeItem(t)};class jc{constructor(){this.promise=new jc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jc.promiseConstructor=Promise;function ku(e){const t=e.split(".");if(t.length!==3)throw new _i("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ek.test(t[r]))throw new _i("JWT not in base64url format");return{header:JSON.parse(Jm(t[0])),payload:JSON.parse(Jm(t[1])),signature:Nk(t[2]),raw:{header:t[0],payload:t[1]}}}async function zk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bk(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function qk(e){return("0"+e.toString(16)).substr(-2)}function Wk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,qk).join("")}async function Hk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Vk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Hk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(e,t,n=!1){const r=Wk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await t0(e,`${t}-code-verifier`,s);const o=await Vk(r);return[o,r===o?"plain":"s256"]}const Kk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gk(e){const t=e.headers.get(Qd);if(!t||!t.match(Kk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Jk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Es(e){if(!Xk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Yk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const $r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zk=[502,503,504];async function Xm(e){var t;if(!Uk(e))throw new Jd($r(e),0);if(Zk.includes(e.status))throw new Jd($r(e),e.status);let n;try{n=await e.json()}catch(o){throw new Yw($r(o),o)}let r;const s=Gk(e);if(s&&s.getTime()>=Xw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Km($r(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Hn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Km($r(n),e.status,n.weak_password.reasons);throw new kk($r(n),e.status||500,r)}const eP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function J(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Qd]||(o[Qd]=Xw["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await tP(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tP(e,t,n,r,s,o){const i=eP(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new Jd($r(l),0)}if(a.ok||await Xm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Xm(l)}}function bn(e){var t;let n=null;oP(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Dk(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ym(e){const t=bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nP(e){return{data:e,error:null}}function rP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Yk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function sP(e){return e}function oP(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pu=["global","local","others"];var iP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class aP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=e0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Pu[0]){if(Pu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:er})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=iP(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:sP});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);c[`${w}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Es(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Es(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:er})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Es(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:er})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Es(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Es(t.userId),Es(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const lP={getItem:e=>Ei()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ei()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ei()&&globalThis.localStorage.removeItem(e)}};function Zm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function cP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cs={debug:!!(globalThis&&Ei()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uP extends n0{}async function dP(e,t,n){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}cP();const fP={url:xk,storageKey:Sk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_k,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function eg(e,t,n){return await n()}class Hi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hi.nextInstanceID,Hi.nextInstanceID+=1,this.instanceID>0&&Dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},fP),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new aP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=e0(s.fetch),this.lock=s.lock||eg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dP:this.lock=eg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ei()?this.storage=lP:(this.memoryStorage={},this.storage=Zm(this.memoryStorage)):(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$k(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Tk(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new Yw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:bn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(V(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await _s(this.storage,this.storageKey)),o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:bn})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bn})}else throw new $a("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(V(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ym})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ym})}else throw new $a("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,l,c,u,d,f,m;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:x}=t;let S;if(Dt())if(typeof y=="object")S=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)b=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:w,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Lk(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:bn});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Fa}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(V(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await za(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bn});if(await Ba(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(V(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await _s(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new $a("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:bn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await _s(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:nP})}catch(o){if(V(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Hn;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new $a("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Eu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:er})})}catch(n){if(V(n))return Rk(n)&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Hn;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await _s(this.storage,this.storageKey));const{data:c,error:u}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:er});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=ku(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Hn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Dt())throw new Ua("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ua(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ua("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vm("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new Ua("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const m=f-u;m*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const b=f-d;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:f,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(Pk(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ba(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Fk(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await _s(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(V(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Bk(async s=>(s>0&&await zk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Cu(o)&&Date.now()+i-r<js})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await za(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Eu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Eu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Cu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Hn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),V(o)){const i={session:null,error:o};return Cu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await t0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ba(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${js}ms, refresh threshold is ${Gd} ticks`),s<=Gd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await _s(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ku(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+Ck>Date.now()))return r;const{data:s,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new _i("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new _i("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};r=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=ku(r);if(Qk(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const c=Jk(s.alg),u=await this.fetchJwk(s.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,Mk(`${a}.${l}`)))throw new _i("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}}Hi.nextInstanceID=0;const hP=Hi;class pP extends hP{constructor(t){super(t)}}var mP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class gP{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=wk(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:dk,realtime:hk,auth:Object.assign(Object.assign({},fk),{storageKey:c}),global:uk},d=bk(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=yk(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new IC(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new cC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ak(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return mP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pP({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new KC(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yP=(e,t,n)=>new gP(e,t,n),Uh="https://mcjdeqfqbucfterqzglp.supabase.co",Ql="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jamRlcWZxYnVjZnRlcnF6Z2xwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxNzIzMjcsImV4cCI6MjA2NDc0ODMyN30.rg_2g5w9TidNCnTBsVtF2WTYZOXdgfPXSiIgnDJeTcw";console.log("Supabase client initializing with URL:",Uh);console.log("Supabase key (first 20 chars):",Ql.substring(0,20)+"...");const vP=async()=>{try{console.log("Testing connectivity to Supabase...");const e=await fetch(`${Uh}/rest/v1/`,{method:"GET",headers:{apikey:Ql,Authorization:`Bearer ${Ql}`}});console.log("Connectivity test response status:",e.status),console.log("Connectivity test response headers:",Object.fromEntries(e.headers.entries()))}catch(e){console.error("Connectivity test failed:",e)}};vP();const W=yP(Uh,Ql,{auth:{storage:window.localStorage,persistSession:!0,autoRefreshToken:!0,debug:!0},global:{headers:{"X-Client-Info":"construction-management-app"}}});console.log("Supabase client initialized successfully");W.auth.getSession().then(({data:e,error:t})=>{console.log("Initial session test:",{data:e,error:t})}).catch(e=>{console.error("Initial session test failed:",e)});class Vn{static async signUp(t,n,r){console.log("AuthService.signUp called with:",{email:t,fullName:r});try{console.log("Testing Supabase connection before signup...");const s=await W.auth.getSession();console.log("Health check result:",s);const{data:o,error:i}=await W.auth.signUp({email:t,password:n,options:{data:{full_name:r||""},emailRedirectTo:`${window.location.origin}/`}});if(console.log("SignUp response:",{data:o,error:i}),i)throw console.error("SignUp error:",i),console.error("SignUp error details:",{name:i.name,message:i.message,status:i.status}),i;return o}catch(s){throw console.error("SignUp catch block:",s),console.error("Error type:",typeof s),console.error("Error constructor:",s.constructor.name),s}}static async signIn(t,n){console.log("AuthService.signIn called with:",{email:t}),console.log("Current URL:",window.location.href),console.log("User agent:",navigator.userAgent);try{console.log("Testing basic fetch to Supabase URL...");const r="https://mcjdeqfqbucfterqzglp.supabase.co/rest/v1/";try{const i=await fetch(r,{method:"GET",headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jamRlcWZxYnVjZnRlcnF6Z2xwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxNzIzMjcsImV4cCI6MjA2NDc0ODMyN30.rg_2g5w9TidNCnTBsVtF2WTYZOXdgfPXSiIgnDJeTcw"}});console.log("Basic fetch test - Status:",i.status),console.log("Basic fetch test - Headers:",Object.fromEntries(i.headers.entries()))}catch(i){throw console.error("Basic fetch test failed:",i),new Error(`Network connectivity issue: ${i.message}`)}console.log("Attempting Supabase signIn...");const{data:s,error:o}=await W.auth.signInWithPassword({email:t,password:n});if(console.log("SignIn response:",{data:s,error:o}),o)throw console.error("SignIn error:",o),console.error("SignIn error details:",{name:o.name,message:o.message,status:o.status}),o;return s}catch(r){throw console.error("SignIn catch block:",r),console.error("Full error object:",JSON.stringify(r,Object.getOwnPropertyNames(r))),r}}static async signOut(){console.log("AuthService.signOut called");try{const{error:t}=await W.auth.signOut();if(console.log("SignOut response:",{error:t}),t)throw console.error("SignOut error:",t),t}catch(t){throw console.error("SignOut catch block:",t),t}}static async getCurrentUser(){console.log("AuthService.getCurrentUser called");try{const{data:{user:t},error:n}=await W.auth.getUser();if(console.log("GetCurrentUser response:",{user:t,error:n}),n)throw console.error("GetCurrentUser error:",n),n;return t}catch(t){throw console.error("GetCurrentUser catch block:",t),t}}static async getUserProfile(){console.log("AuthService.getUserProfile called");try{const t=await this.getCurrentUser();if(!t)return console.log("No user found, returning null"),null;const{data:n,error:r}=await W.from("user_profiles").select("*").eq("id",t.id).single();if(console.log("GetUserProfile response:",{data:n,error:r}),r)throw console.error("GetUserProfile error:",r),r;return n}catch(t){throw console.error("GetUserProfile catch block:",t),t}}static async updateProfile(t){console.log("AuthService.updateProfile called with:",t);try{const n=await this.getCurrentUser();if(!n){const o=new Error("No authenticated user");throw console.error("UpdateProfile error:",o),o}const{data:r,error:s}=await W.from("user_profiles").update({...t,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(console.log("UpdateProfile response:",{data:r,error:s}),s)throw console.error("UpdateProfile error:",s),s;return r}catch(n){throw console.error("UpdateProfile catch block:",n),n}}static onAuthStateChange(t){return console.log("AuthService.onAuthStateChange called"),W.auth.onAuthStateChange((n,r)=>{console.log("Auth state change:",{event:n,session:r}),t((r==null?void 0:r.user)||null)})}static async getSession(){console.log("AuthService.getSession called");try{const{data:{session:t},error:n}=await W.auth.getSession();if(console.log("GetSession response:",{session:t,error:n}),n)throw console.error("GetSession error:",n),n;return t}catch(t){throw console.error("GetSession catch block:",t),t}}}const wP=Vn;var Io=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cs=typeof window>"u"||"Deno"in globalThis;function Ye(){}function bP(e,t){return typeof e=="function"?e(t):e}function Xd(e){return typeof e=="number"&&e>=0&&e!==1/0}function r0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _r(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){return typeof e=="function"?e(t):e}function tg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==zh(i,t.options))return!1}else if(!Vi(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function ng(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(us(t.options.mutationKey)!==us(o))return!1}else if(!Vi(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function zh(e,t){return((t==null?void 0:t.queryKeyHashFn)||us)(e)}function us(e){return JSON.stringify(e,(t,n)=>Yd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Vi(e[n],t[n])):!1}function s0(e,t){if(e===t)return e;const n=rg(e)&&rg(t);if(n||Yd(e)&&Yd(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<i;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=s0(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Jl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function rg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yd(e){if(!sg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!sg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sg(e){return Object.prototype.toString.call(e)==="[object Object]"}function xP(e){return new Promise(t=>{setTimeout(t,e)})}function Zd(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?s0(e,t):t}function SP(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function _P(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Bh=Symbol();function o0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function i0(e,t){return typeof e=="function"?e(...t):!!e}var Vr,tr,no,ey,EP=(ey=class extends Io{constructor(){super();z(this,Vr);z(this,tr);z(this,no);N(this,no,t=>{if(!cs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,tr)||this.setEventListener(_(this,no))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,tr))==null||t.call(this),N(this,tr,void 0))}setEventListener(t){var n;N(this,no,t),(n=_(this,tr))==null||n.call(this),N(this,tr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,Vr)!==t&&(N(this,Vr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,Vr)=="boolean"?_(this,Vr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vr=new WeakMap,tr=new WeakMap,no=new WeakMap,ey),qh=new EP,ro,nr,so,ty,CP=(ty=class extends Io{constructor(){super();z(this,ro,!0);z(this,nr);z(this,so);N(this,so,t=>{if(!cs&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,nr)||this.setEventListener(_(this,so))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,nr))==null||t.call(this),N(this,nr,void 0))}setEventListener(t){var n;N(this,so,t),(n=_(this,nr))==null||n.call(this),N(this,nr,t(this.setOnline.bind(this)))}setOnline(t){_(this,ro)!==t&&(N(this,ro,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,ro)}},ro=new WeakMap,nr=new WeakMap,so=new WeakMap,ty),Xl=new CP;function ef(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function kP(e){return Math.min(1e3*2**e,3e4)}function a0(e){return(e??"online")==="online"?Xl.isOnline():!0}var l0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ru(e){return e instanceof l0}function c0(e){let t=!1,n=0,r=!1,s;const o=ef(),i=g=>{var w;r||(f(new l0(g)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>qh.isFocused()&&(e.networkMode==="always"||Xl.isOnline())&&e.canRun(),u=()=>a0(e.networkMode)&&e.canRun(),d=g=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},f=g=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},m=()=>new Promise(g=>{var w;s=y=>{(r||c())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(r)return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var C;if(r)return;const v=e.retry??(cs?0:3),x=e.retryDelay??kP,S=typeof x=="function"?x(n,y):x,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!E){f(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),xP(S).then(()=>c()?void 0:m()).then(()=>{t?f(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?b():m().then(b),o)}}var PP=e=>setTimeout(e,0);function RP(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=PP;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ae=RP(),Kr,ny,u0=(ny=class{constructor(){z(this,Kr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xd(this.gcTime)&&N(this,Kr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cs?1/0:5*60*1e3))}clearGcTimeout(){_(this,Kr)&&(clearTimeout(_(this,Kr)),N(this,Kr,void 0))}},Kr=new WeakMap,ny),oo,Gr,kt,Qr,Be,ea,Jr,$t,xn,ry,TP=(ry=class extends u0{constructor(t){super();z(this,$t);z(this,oo);z(this,Gr);z(this,kt);z(this,Qr);z(this,Be);z(this,ea);z(this,Jr);N(this,Jr,!1),N(this,ea,t.defaultOptions),this.setOptions(t.options),this.observers=[],N(this,Qr,t.client),N(this,kt,_(this,Qr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,N(this,oo,jP(this.options)),this.state=t.state??_(this,oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Be))==null?void 0:t.promise}setOptions(t){this.options={..._(this,ea),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,kt).remove(this)}setData(t,n){const r=Zd(this.state.data,t,this.options);return Q(this,$t,xn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Q(this,$t,xn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=_(this,Be))==null?void 0:r.promise;return(s=_(this,Be))==null||s.cancel(t),n?n.then(Ye).catch(Ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,oo))}isActive(){return this.observers.some(t=>Pt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_r(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r0(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Be))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Be))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,kt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,Be)&&(_(this,Jr)?_(this,Be).cancel({revert:!0}):_(this,Be).cancelRetry()),this.scheduleGc()),_(this,kt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,$t,xn).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Be))return _(this,Be).continueRetry(),_(this,Be).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(N(this,Jr,!0),r.signal)})},o=()=>{const f=o0(this.options,n),b=(()=>{const g={client:_(this,Qr),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return N(this,Jr,!1),this.options.persister?this.options.persister(f,b,this):f(b)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,Qr),state:this.state,fetchFn:o};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),N(this,Gr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Q(this,$t,xn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var m,b,g,w;Ru(f)&&f.silent||Q(this,$t,xn).call(this,{type:"error",error:f}),Ru(f)||((b=(m=_(this,kt).config).onError)==null||b.call(m,f,this),(w=(g=_(this,kt).config).onSettled)==null||w.call(g,this.state.data,f,this)),this.scheduleGc()};return N(this,Be,c0({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,b,g,w;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(b=(m=_(this,kt).config).onSuccess)==null||b.call(m,f,this),(w=(g=_(this,kt).config).onSettled)==null||w.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Q(this,$t,xn).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Q(this,$t,xn).call(this,{type:"pause"})},onContinue:()=>{Q(this,$t,xn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),_(this,Be).start()}},oo=new WeakMap,Gr=new WeakMap,kt=new WeakMap,Qr=new WeakMap,Be=new WeakMap,ea=new WeakMap,Jr=new WeakMap,$t=new WeakSet,xn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d0(r.data,this.options),fetchMeta:t.meta??null};case"success":return N(this,Gr,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Ru(s)&&s.revert&&_(this,Gr)?{..._(this,Gr),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ae.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,kt).notify({query:this,type:"updated",action:t})})},ry);function d0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tn,sy,AP=(sy=class extends Io{constructor(t={}){super();z(this,tn);this.config=t,N(this,tn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??zh(s,n);let i=this.get(o);return i||(i=new TP({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){_(this,tn).has(t.queryHash)||(_(this,tn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,tn).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,tn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ae.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,tn).get(t)}getAll(){return[..._(this,tn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>tg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>tg(t,r)):n}notify(t){Ae.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ae.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ae.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tn=new WeakMap,sy),nn,Qe,Xr,rn,Kn,oy,OP=(oy=class extends u0{constructor(t){super();z(this,rn);z(this,nn);z(this,Qe);z(this,Xr);this.mutationId=t.mutationId,N(this,Qe,t.mutationCache),N(this,nn,[]),this.state=t.state||f0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,nn).includes(t)||(_(this,nn).push(t),this.clearGcTimeout(),_(this,Qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){N(this,nn,_(this,nn).filter(n=>n!==t)),this.scheduleGc(),_(this,Qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,nn).length||(this.state.status==="pending"?this.scheduleGc():_(this,Qe).remove(this))}continue(){var t;return((t=_(this,Xr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,u,d,f,m,b,g,w,y,v,x,S,E,C,k,R;const n=()=>{Q(this,rn,Kn).call(this,{type:"continue"})};N(this,Xr,c0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Q(this,rn,Kn).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Q(this,rn,Kn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Qe).canRun(this)}));const r=this.state.status==="pending",s=!_(this,Xr).canStart();try{if(r)n();else{Q(this,rn,Kn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=_(this,Qe).config).onMutate)==null?void 0:i.call(o,t,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));A!==this.state.context&&Q(this,rn,Kn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const I=await _(this,Xr).start();return await((u=(c=_(this,Qe).config).onSuccess)==null?void 0:u.call(c,I,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,I,t,this.state.context)),await((b=(m=_(this,Qe).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,I,null,t,this.state.context)),Q(this,rn,Kn).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(y=_(this,Qe).config).onError)==null?void 0:v.call(y,I,t,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,I,t,this.state.context)),await((C=(E=_(this,Qe).config).onSettled)==null?void 0:C.call(E,void 0,I,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,I,t,this.state.context)),I}finally{Q(this,rn,Kn).call(this,{type:"error",error:I})}}finally{_(this,Qe).runNext(this)}}},nn=new WeakMap,Qe=new WeakMap,Xr=new WeakMap,rn=new WeakSet,Kn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ae.batch(()=>{_(this,nn).forEach(r=>{r.onMutationUpdate(t)}),_(this,Qe).notify({mutation:this,type:"updated",action:t})})},oy);function f0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kn,Ut,ta,iy,IP=(iy=class extends Io{constructor(t={}){super();z(this,kn);z(this,Ut);z(this,ta);this.config=t,N(this,kn,new Set),N(this,Ut,new Map),N(this,ta,0)}build(t,n,r){const s=new OP({mutationCache:this,mutationId:++ba(this,ta)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){_(this,kn).add(t);const n=qa(t);if(typeof n=="string"){const r=_(this,Ut).get(n);r?r.push(t):_(this,Ut).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,kn).delete(t)){const n=qa(t);if(typeof n=="string"){const r=_(this,Ut).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&_(this,Ut).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qa(t);if(typeof n=="string"){const r=_(this,Ut).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=qa(t);if(typeof n=="string"){const s=(r=_(this,Ut).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ae.batch(()=>{_(this,kn).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,kn).clear(),_(this,Ut).clear()})}getAll(){return Array.from(_(this,kn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ng(n,r))}findAll(t={}){return this.getAll().filter(n=>ng(t,n))}notify(t){Ae.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ae.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ye))))}},kn=new WeakMap,Ut=new WeakMap,ta=new WeakMap,iy);function qa(e){var t;return(t=e.options.scope)==null?void 0:t.id}function og(e){return{onFetch:(t,n)=>{var u,d,f,m,b;const r=t.options,s=(f=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=o0(t.options,t.fetchOptions),v=async(x,S,E)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:S,direction:E?"backward":"forward",meta:t.options.meta};return w(B),B})(),R=await y(k),{maxPages:I}=t.options,A=E?_P:SP;return{pages:A(x.pages,R,I),pageParams:A(x.pageParams,S,I)}};if(s&&o.length){const x=s==="backward",S=x?NP:ig,E={pages:o,pageParams:i},C=S(r,E);a=await v(E,C,x)}else{const x=e??o.length;do{const S=l===0?i[0]??r.initialPageParam:ig(r,a);if(l>0&&S==null)break;a=await v(a,S),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function ig(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function NP(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var xe,rr,sr,io,ao,or,lo,co,ay,MP=(ay=class{constructor(e={}){z(this,xe);z(this,rr);z(this,sr);z(this,io);z(this,ao);z(this,or);z(this,lo);z(this,co);N(this,xe,e.queryCache||new AP),N(this,rr,e.mutationCache||new IP),N(this,sr,e.defaultOptions||{}),N(this,io,new Map),N(this,ao,new Map),N(this,or,0)}mount(){ba(this,or)._++,_(this,or)===1&&(N(this,lo,qh.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,xe).onFocus())})),N(this,co,Xl.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,xe).onOnline())})))}unmount(){var e,t;ba(this,or)._--,_(this,or)===0&&((e=_(this,lo))==null||e.call(this),N(this,lo,void 0),(t=_(this,co))==null||t.call(this),N(this,co,void 0))}isFetching(e){return _(this,xe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,rr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,xe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=_(this,xe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_r(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return _(this,xe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=_(this,xe).get(r.queryHash),o=s==null?void 0:s.state.data,i=bP(t,o);if(i!==void 0)return _(this,xe).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Ae.batch(()=>_(this,xe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,xe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,xe);Ae.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,xe);return Ae.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ae.batch(()=>_(this,xe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ye).catch(Ye)}invalidateQueries(e,t={}){return Ae.batch(()=>(_(this,xe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ae.batch(()=>_(this,xe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ye)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ye)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,xe).build(this,t);return n.isStaleByTime(_r(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ye).catch(Ye)}fetchInfiniteQuery(e){return e.behavior=og(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ye).catch(Ye)}ensureInfiniteQueryData(e){return e.behavior=og(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xl.isOnline()?_(this,rr).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,xe)}getMutationCache(){return _(this,rr)}getDefaultOptions(){return _(this,sr)}setDefaultOptions(e){N(this,sr,e)}setQueryDefaults(e,t){_(this,io).set(us(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,io).values()],n={};return t.forEach(r=>{Vi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){_(this,ao).set(us(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,ao).values()],n={};return t.forEach(r=>{Vi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,sr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,sr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,xe).clear(),_(this,rr).clear()}},xe=new WeakMap,rr=new WeakMap,sr=new WeakMap,io=new WeakMap,ao=new WeakMap,or=new WeakMap,lo=new WeakMap,co=new WeakMap,ay),ot,Y,na,Je,Yr,uo,ir,ar,ra,fo,ho,Zr,es,lr,po,ne,ui,tf,nf,rf,sf,of,af,lf,h0,ly,LP=(ly=class extends Io{constructor(t,n){super();z(this,ne);z(this,ot);z(this,Y);z(this,na);z(this,Je);z(this,Yr);z(this,uo);z(this,ir);z(this,ar);z(this,ra);z(this,fo);z(this,ho);z(this,Zr);z(this,es);z(this,lr);z(this,po,new Set);this.options=n,N(this,ot,t),N(this,ar,null),N(this,ir,ef()),this.options.experimental_prefetchInRender||_(this,ir).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Y).addObserver(this),ag(_(this,Y),this.options)?Q(this,ne,ui).call(this):this.updateResult(),Q(this,ne,sf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cf(_(this,Y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cf(_(this,Y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,ne,of).call(this),Q(this,ne,af).call(this),_(this,Y).removeObserver(this)}setOptions(t){const n=this.options,r=_(this,Y);if(this.options=_(this,ot).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pt(this.options.enabled,_(this,Y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Q(this,ne,lf).call(this),_(this,Y).setOptions(this.options),n._defaulted&&!Jl(this.options,n)&&_(this,ot).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Y),observer:this});const s=this.hasListeners();s&&lg(_(this,Y),r,this.options,n)&&Q(this,ne,ui).call(this),this.updateResult(),s&&(_(this,Y)!==r||Pt(this.options.enabled,_(this,Y))!==Pt(n.enabled,_(this,Y))||_r(this.options.staleTime,_(this,Y))!==_r(n.staleTime,_(this,Y)))&&Q(this,ne,tf).call(this);const o=Q(this,ne,nf).call(this);s&&(_(this,Y)!==r||Pt(this.options.enabled,_(this,Y))!==Pt(n.enabled,_(this,Y))||o!==_(this,lr))&&Q(this,ne,rf).call(this,o)}getOptimisticResult(t){const n=_(this,ot).getQueryCache().build(_(this,ot),t),r=this.createResult(n,t);return FP(this,r)&&(N(this,Je,r),N(this,uo,this.options),N(this,Yr,_(this,Y).state)),r}getCurrentResult(){return _(this,Je)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){_(this,po).add(t)}getCurrentQuery(){return _(this,Y)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=_(this,ot).defaultQueryOptions(t),r=_(this,ot).getQueryCache().build(_(this,ot),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Q(this,ne,ui).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Je)))}createResult(t,n){var I;const r=_(this,Y),s=this.options,o=_(this,Je),i=_(this,Yr),a=_(this,uo),c=t!==r?t.state:_(this,na),{state:u}=t;let d={...u},f=!1,m;if(n._optimisticResults){const A=this.hasListeners(),B=!A&&ag(t,n),D=A&&lg(t,r,n,s);(B||D)&&(d={...d,...d0(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:w}=d;m=d.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let A;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(A=o.data,y=!0):A=typeof n.placeholderData=="function"?n.placeholderData((I=_(this,ho))==null?void 0:I.state.data,_(this,ho)):n.placeholderData,A!==void 0&&(w="success",m=Zd(o==null?void 0:o.data,A,n),f=!0)}if(n.select&&m!==void 0&&!y)if(o&&m===(i==null?void 0:i.data)&&n.select===_(this,ra))m=_(this,fo);else try{N(this,ra,n.select),m=n.select(m),m=Zd(o==null?void 0:o.data,m,n),N(this,fo,m),N(this,ar,null)}catch(A){N(this,ar,A)}_(this,ar)&&(b=_(this,ar),m=_(this,fo),g=Date.now(),w="error");const v=d.fetchStatus==="fetching",x=w==="pending",S=w==="error",E=x&&v,C=m!==void 0,R={status:w,fetchStatus:d.fetchStatus,isPending:x,isSuccess:w==="success",isError:S,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:S&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&C,isStale:Wh(t,n),refetch:this.refetch,promise:_(this,ir),isEnabled:Pt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=F=>{R.status==="error"?F.reject(R.error):R.data!==void 0&&F.resolve(R.data)},B=()=>{const F=N(this,ir,R.promise=ef());A(F)},D=_(this,ir);switch(D.status){case"pending":t.queryHash===r.queryHash&&A(D);break;case"fulfilled":(R.status==="error"||R.data!==D.value)&&B();break;case"rejected":(R.status!=="error"||R.error!==D.reason)&&B();break}}return R}updateResult(){const t=_(this,Je),n=this.createResult(_(this,Y),this.options);if(N(this,Yr,_(this,Y).state),N(this,uo,this.options),_(this,Yr).data!==void 0&&N(this,ho,_(this,Y)),Jl(n,t))return;N(this,Je,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!_(this,po).size)return!0;const i=new Set(o??_(this,po));return this.options.throwOnError&&i.add("error"),Object.keys(_(this,Je)).some(a=>{const l=a;return _(this,Je)[l]!==t[l]&&i.has(l)})};Q(this,ne,h0).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,ne,sf).call(this)}},ot=new WeakMap,Y=new WeakMap,na=new WeakMap,Je=new WeakMap,Yr=new WeakMap,uo=new WeakMap,ir=new WeakMap,ar=new WeakMap,ra=new WeakMap,fo=new WeakMap,ho=new WeakMap,Zr=new WeakMap,es=new WeakMap,lr=new WeakMap,po=new WeakMap,ne=new WeakSet,ui=function(t){Q(this,ne,lf).call(this);let n=_(this,Y).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ye)),n},tf=function(){Q(this,ne,of).call(this);const t=_r(this.options.staleTime,_(this,Y));if(cs||_(this,Je).isStale||!Xd(t))return;const r=r0(_(this,Je).dataUpdatedAt,t)+1;N(this,Zr,setTimeout(()=>{_(this,Je).isStale||this.updateResult()},r))},nf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Y)):this.options.refetchInterval)??!1},rf=function(t){Q(this,ne,af).call(this),N(this,lr,t),!(cs||Pt(this.options.enabled,_(this,Y))===!1||!Xd(_(this,lr))||_(this,lr)===0)&&N(this,es,setInterval(()=>{(this.options.refetchIntervalInBackground||qh.isFocused())&&Q(this,ne,ui).call(this)},_(this,lr)))},sf=function(){Q(this,ne,tf).call(this),Q(this,ne,rf).call(this,Q(this,ne,nf).call(this))},of=function(){_(this,Zr)&&(clearTimeout(_(this,Zr)),N(this,Zr,void 0))},af=function(){_(this,es)&&(clearInterval(_(this,es)),N(this,es,void 0))},lf=function(){const t=_(this,ot).getQueryCache().build(_(this,ot),this.options);if(t===_(this,Y))return;const n=_(this,Y);N(this,Y,t),N(this,na,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},h0=function(t){Ae.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(_(this,Je))}),_(this,ot).getQueryCache().notify({query:_(this,Y),type:"observerResultsUpdated"})})},ly);function DP(e,t){return Pt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ag(e,t){return DP(e,t)||e.state.data!==void 0&&cf(e,t,t.refetchOnMount)}function cf(e,t,n){if(Pt(t.enabled,e)!==!1&&_r(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Wh(e,t)}return!1}function lg(e,t,n,r){return(e!==t||Pt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Wh(e,n)}function Wh(e,t){return Pt(t.enabled,e)!==!1&&e.isStaleByTime(_r(t.staleTime,e))}function FP(e,t){return!Jl(e.getCurrentResult(),t)}var cr,ur,it,Pn,An,fl,uf,cy,$P=(cy=class extends Io{constructor(n,r){super();z(this,An);z(this,cr);z(this,ur);z(this,it);z(this,Pn);N(this,cr,n),this.setOptions(r),this.bindMethods(),Q(this,An,fl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=_(this,cr).defaultMutationOptions(n),Jl(this.options,r)||_(this,cr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,it),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&us(r.mutationKey)!==us(this.options.mutationKey)?this.reset():((s=_(this,it))==null?void 0:s.state.status)==="pending"&&_(this,it).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,it))==null||n.removeObserver(this)}onMutationUpdate(n){Q(this,An,fl).call(this),Q(this,An,uf).call(this,n)}getCurrentResult(){return _(this,ur)}reset(){var n;(n=_(this,it))==null||n.removeObserver(this),N(this,it,void 0),Q(this,An,fl).call(this),Q(this,An,uf).call(this)}mutate(n,r){var s;return N(this,Pn,r),(s=_(this,it))==null||s.removeObserver(this),N(this,it,_(this,cr).getMutationCache().build(_(this,cr),this.options)),_(this,it).addObserver(this),_(this,it).execute(n)}},cr=new WeakMap,ur=new WeakMap,it=new WeakMap,Pn=new WeakMap,An=new WeakSet,fl=function(){var r;const n=((r=_(this,it))==null?void 0:r.state)??f0();N(this,ur,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},uf=function(n){Ae.batch(()=>{var r,s,o,i,a,l,c,u;if(_(this,Pn)&&this.hasListeners()){const d=_(this,ur).variables,f=_(this,ur).context;(n==null?void 0:n.type)==="success"?((s=(r=_(this,Pn)).onSuccess)==null||s.call(r,n.data,d,f),(i=(o=_(this,Pn)).onSettled)==null||i.call(o,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(a=_(this,Pn)).onError)==null||l.call(a,n.error,d,f),(u=(c=_(this,Pn)).onSettled)==null||u.call(c,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(_(this,ur))})})},cy),p0=p.createContext(void 0),No=e=>{const t=p.useContext(p0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UP=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(p0.Provider,{value:e,children:t})),m0=p.createContext(!1),zP=()=>p.useContext(m0);m0.Provider;function BP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qP=p.createContext(BP()),WP=()=>p.useContext(qP),HP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},VP=e=>{p.useEffect(()=>{e.clearReset()},[e])},KP=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||i0(n,[e.error,r])),GP=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},QP=(e,t)=>e.isLoading&&e.isFetching&&!t,JP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cg=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function XP(e,t,n){var d,f,m,b,g;const r=zP(),s=WP(),o=No(),i=o.defaultQueryOptions(e);(f=(d=o.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=r?"isRestoring":"optimistic",GP(i),HP(i,s),VP(s);const a=!o.getQueryCache().get(i.queryHash),[l]=p.useState(()=>new t(o,i)),c=l.getOptimisticResult(i),u=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(w=>{const y=u?l.subscribe(Ae.batchCalls(w)):Ye;return l.updateResult(),y},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setOptions(i)},[i,l]),JP(i,c))throw cg(i,l,s);if(KP({result:c,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((b=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,i,c),i.experimental_prefetchInRender&&!cs&&QP(c,r)){const w=a?cg(i,l,s):(g=o.getQueryCache().get(i.queryHash))==null?void 0:g.promise;w==null||w.catch(Ye).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?c:l.trackResult(c)}function Ln(e,t){return XP(e,LP)}function df(e,t){const n=No(),[r]=p.useState(()=>new $P(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const s=p.useSyncExternalStore(p.useCallback(i=>r.subscribe(Ae.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=p.useCallback((i,a)=>{r.mutate(i,a).catch(Ye)},[r]);if(s.error&&i0(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const g0=p.createContext(void 0);function YP({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(null),[o,i]=p.useState(null),[a,l]=p.useState(!0),c=No();p.useEffect(()=>{const{data:{subscription:w}}=Vn.onAuthStateChange(y=>{n(y),i(null),y?setTimeout(()=>{u(y.id)},0):(s(null),c.clear()),l(!1)});return Vn.getSession().then(y=>{const v=y;s(v),n((v==null?void 0:v.user)??null),v!=null&&v.user&&u(v.user.id),l(!1)}).catch(y=>{console.error("AuthProvider: Error getting initial session:",y),l(!1)}),()=>{w.unsubscribe()}},[]);const u=async w=>{try{i(null);const y=await Vn.getUserProfile();i(y)}catch(y){console.error("AuthProvider: Error fetching user profile:",y)}},g={user:t,session:r,profile:o,loading:a,signIn:async(w,y)=>{try{c.clear(),i(null);const v=await Vn.signIn(w,y),x=v==null?void 0:v.user,S=v==null?void 0:v.session;return n(x),s(S),x&&(await u(x.id),c.invalidateQueries()),{error:null}}catch(v){return console.error("AuthProvider: Sign in catch:",v),{error:v}}},signUp:async(w,y,v)=>{try{const x=await Vn.signUp(w,y,v);return{error:null}}catch(x){return console.error("AuthProvider: Sign up catch:",x),{error:x}}},signOut:async()=>{try{await Vn.signOut(),n(null),s(null),i(null),c.clear()}catch(w){throw console.error("AuthProvider: Sign out error:",w),w}},updateProfile:async w=>{try{const y=await Vn.updateProfile(w);return i(y),c.invalidateQueries({queryKey:["userProfile"]}),c.invalidateQueries({queryKey:["users"]}),y}catch(y){throw console.error("AuthProvider: Update profile error:",y),y}}};return h.jsx(g0.Provider,{value:g,children:e})}function Ac(){const e=p.useContext(g0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function y0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=y0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function v0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=y0(e))&&(r&&(r+=" "),r+=t);return r}const Hh="-",ZP=e=>{const t=tR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Hh);return a[0]===""&&a.length!==1&&a.shift(),w0(a,t)||eR(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},w0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?w0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Hh);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},ug=/^\[(.+)\]$/,eR=e=>{if(ug.test(e)){const t=ug.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},tR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return rR(Object.entries(e.classGroups),n).forEach(([o,i])=>{ff(i,r,o,t)}),r},ff=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:dg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(nR(s)){ff(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{ff(i,dg(t,o),n,r)})})},dg=(e,t)=>{let n=e;return t.split(Hh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nR=e=>e.isThemeGetter,rR=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,sR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},b0="!",oR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,u=0,d;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===s&&(r||a.slice(w,w+o)===t)){l.push(a.slice(u,w)),u=w+o;continue}if(y==="/"){d=w;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(b0),b=m?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:i}):i},iR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},aR=e=>({cache:sR(e.cacheSize),parseClassName:oR(e),...ZP(e)}),lR=/\s+/,cR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(lR);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let b=!!m,g=r(b?f.substring(0,m):f);if(!g){if(!b){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}b=!1}const w=iR(u).join(":"),y=d?w+b0:w,v=y+g;if(o.includes(v))continue;o.push(v);const x=s(g,b);for(let S=0;S<x.length;++S){const E=x[S];o.push(y+E)}a=c+(a.length>0?" "+a:a)}return a};function uR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=x0(t))&&(r&&(r+=" "),r+=n);return r}const x0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=x0(e[r]))&&(n&&(n+=" "),n+=t);return n};function dR(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((u,d)=>d(u),e());return n=aR(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=cR(l,n);return s(l,u),u}return function(){return o(uR.apply(null,arguments))}}const ce=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},S0=/^\[(?:([a-z-]+):)?(.+)\]$/i,fR=/^\d+\/\d+$/,hR=new Set(["px","full","screen"]),pR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wn=e=>Xs(e)||hR.has(e)||fR.test(e),qn=e=>Mo(e,"length",kR),Xs=e=>!!e&&!Number.isNaN(Number(e)),Tu=e=>Mo(e,"number",Xs),ei=e=>!!e&&Number.isInteger(Number(e)),wR=e=>e.endsWith("%")&&Xs(e.slice(0,-1)),G=e=>S0.test(e),Wn=e=>pR.test(e),bR=new Set(["length","size","percentage"]),xR=e=>Mo(e,bR,_0),SR=e=>Mo(e,"position",_0),_R=new Set(["image","url"]),ER=e=>Mo(e,_R,RR),CR=e=>Mo(e,"",PR),ti=()=>!0,Mo=(e,t,n)=>{const r=S0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},kR=e=>mR.test(e)&&!gR.test(e),_0=()=>!1,PR=e=>yR.test(e),RR=e=>vR.test(e),TR=()=>{const e=ce("colors"),t=ce("spacing"),n=ce("blur"),r=ce("brightness"),s=ce("borderColor"),o=ce("borderRadius"),i=ce("borderSpacing"),a=ce("borderWidth"),l=ce("contrast"),c=ce("grayscale"),u=ce("hueRotate"),d=ce("invert"),f=ce("gap"),m=ce("gradientColorStops"),b=ce("gradientColorStopPositions"),g=ce("inset"),w=ce("margin"),y=ce("opacity"),v=ce("padding"),x=ce("saturate"),S=ce("scale"),E=ce("sepia"),C=ce("skew"),k=ce("space"),R=ce("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",G,t],D=()=>[G,t],F=()=>["",wn,qn],$=()=>["auto",Xs,G],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",G],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Xs,G];return{cacheSize:500,separator:":",theme:{colors:[ti],spacing:[wn,qn],blur:["none","",Wn,G],brightness:q(),borderColor:[e],borderRadius:["none","","full",Wn,G],borderSpacing:D(),borderWidth:F(),contrast:q(),grayscale:j(),hueRotate:q(),invert:j(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[wR,qn],inset:B(),margin:B(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:j(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),G]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ei,G]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ei,G]}],"grid-cols":[{"grid-cols":[ti]}],"col-start-end":[{col:["auto",{span:["full",ei,G]},G]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ti]}],"row-start-end":[{row:["auto",{span:[ei,G]},G]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,t]}],"min-w":[{"min-w":[G,t,"min","max","fit"]}],"max-w":[{"max-w":[G,t,"none","full","min","max","fit","prose",{screen:[Wn]},Wn]}],h:[{h:[G,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wn,qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tu]}],"font-family":[{font:[ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",Xs,Tu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wn,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wn,qn]}],"underline-offset":[{"underline-offset":["auto",wn,G]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),SR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ER]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[wn,G]}],"outline-w":[{outline:[wn,qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[wn,qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,CR]}],"shadow-color":[{shadow:[ti]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wn,G]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ei,G]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wn,qn,Tu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jR=dR(TR);function re(...e){return jR(v0(e))}const Nr=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Nr.displayName="Card";const vs=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));vs.displayName="CardHeader";const Lo=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Lo.displayName="CardTitle";const Vh=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Vh.displayName="CardDescription";const Mr=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));Mr.displayName="CardContent";const Kh=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));Kh.displayName="CardFooter";function be({children:e,requireAuth:t=!0}){const{user:n,loading:r}=Ac();return r?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:h.jsx(Nr,{className:"w-full max-w-md",children:h.jsxs(Mr,{className:"p-8 text-center space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-primary border-t-transparent mx-auto"}),h.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-muted"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-medium",children:"Authenticating..."}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Please wait while we verify your credentials"})]})]})})}):t&&!n?h.jsx(Mm,{to:"/login",replace:!0}):!t&&n?h.jsx(Mm,{to:"/dashboard",replace:!0}):h.jsx(h.Fragment,{children:e})}function fg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oc(...e){return t=>{let n=!1;const r=e.map(s=>{const o=fg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():fg(e[s],null)}}}}function mt(...e){return p.useCallback(Oc(...e),e)}function Ki(e){const t=OR(e),n=p.forwardRef((r,s)=>{const{children:o,...i}=r,a=p.Children.toArray(o),l=a.find(IR);if(l){const c=l.props.children,u=a.map(d=>d===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:d);return h.jsx(t,{...i,ref:s,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return h.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var AR=Ki("Slot");function OR(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const i=MR(s),a=NR(o,s.props);return s.type!==p.Fragment&&(a.ref=r?Oc(r,i):i),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var E0=Symbol("radix.slottable");function iD(e){const t=({children:n})=>h.jsx(h.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=E0,t}function IR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===E0}function NR(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function MR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const hg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pg=v0,Gh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return pg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=hg(u)||hg(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...m}=u;return Object.entries(m).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...o,...a}[g]):{...o,...a}[g]===w})?[...c,d,f]:c},[]);return pg(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},LR=Gh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fn=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?AR:"button";return h.jsx(i,{className:re(LR({variant:t,size:n,className:e})),ref:o,...s})});fn.displayName="Button";const Ys=p.forwardRef(({className:e,type:t,...n},r)=>h.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ys.displayName="Input";var DR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=DR.reduce((e,t)=>{const n=Ki(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function C0(e,t){e&&Sc.flushSync(()=>e.dispatchEvent(t))}var FR="Label",k0=p.forwardRef((e,t)=>h.jsx(Ie.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));k0.displayName=FR;var P0=k0;const $R=Gh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zs=p.forwardRef(({className:e,...t},n)=>h.jsx(P0,{ref:n,className:re($R(),e),...t}));Zs.displayName=P0.displayName;const UR=1,zR=1e6;let ju=0;function BR(){return ju=(ju+1)%Number.MAX_SAFE_INTEGER,ju.toString()}const Au=new Map,mg=e=>{if(Au.has(e))return;const t=setTimeout(()=>{Au.delete(e),Ci({type:"REMOVE_TOAST",toastId:e})},zR);Au.set(e,t)},qR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,UR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mg(n):e.toasts.forEach(r=>{mg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},hl=[];let pl={toasts:[]};function Ci(e){pl=qR(pl,e),hl.forEach(t=>{t(pl)})}function WR({...e}){const t=BR(),n=s=>Ci({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ci({type:"DISMISS_TOAST",toastId:t});return Ci({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function mn(){const[e,t]=p.useState(pl);return p.useEffect(()=>(hl.push(t),()=>{const n=hl.indexOf(t);n>-1&&hl.splice(n,1)}),[e]),{...e,toast:WR,dismiss:n=>Ci({type:"DISMISS_TOAST",toastId:n})}}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>p.createElement("svg",{ref:l,...VR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:R0("lucide",s),...a},[...i.map(([c,u])=>p.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(KR,{ref:o,iconNode:t,className:R0(`lucide-${HR(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ve("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function hT(e,t,n,r,s=1){const o=()=>{try{const c=t.getItem(e);if(c){const u=JSON.parse(c),d=Date.now(),f=u.timestamp+s*60*60*1e3;if(d>f)return t.removeItem(e),{};const m={};return Object.entries(u.data||{}).forEach(([b,g])=>{g!=null&&g!==""&&(m[b]=g)}),m}}catch(c){console.warn("Failed to load from storage:",c),t.removeItem(e)}return{}},i=c=>{try{const u={};if(Object.entries(c).forEach(([d,f])=>{!r.includes(d)&&f!==null&&f!==void 0&&f!==""&&(u[d]=f)}),Object.keys(u).length>0){const d={data:u,timestamp:Date.now(),version:"1.0"};t.setItem(e,JSON.stringify(d))}else a()}catch(u){console.warn("Failed to save to storage:",u)}},a=()=>{try{t.removeItem(e)}catch(c){console.warn("Failed to clear storage:",c)}};return{loadFromStorage:o,saveToStorage:i,clearStorage:a,isStorageExpired:()=>{try{const c=t.getItem(e);if(!c)return!1;const u=JSON.parse(c),d=Date.now(),f=u.timestamp+s*60*60*1e3;return d>f}catch{return!0}}}}function pT(e,t){let n;return r=>{clearTimeout(n),n=setTimeout(()=>{e(r)},t)}}function mT(e,t){return{loadFromUrl:o=>{if(!e)return{};try{const i=new URLSearchParams(o),a={};return i.forEach((l,c)=>{if(!t.includes(c)&&l!==""&&l!==null)try{a[c]=JSON.parse(l)}catch{a[c]=l}}),a}catch(i){return console.warn("Failed to load from URL:",i),{}}},updateUrl:(o,i)=>{if(!(!e||typeof window>"u"))try{const a=new URLSearchParams(i.search);Object.entries(o).forEach(([u,d])=>{if(!t.includes(u)&&d!==void 0&&d!==null&&d!==""){const f=typeof d=="object"?JSON.stringify(d):String(d);a.set(u,f)}else a.delete(u)});const l=a.toString(),c=`${i.pathname}${l?`?${l}`:""}`;c!==`${i.pathname}${i.search}`&&window.history.replaceState({},"",c)}catch(a){console.warn("Failed to update URL:",a)}},clearUrl:o=>{if(!(!e||typeof window>"u"))try{window.history.replaceState({},"",o)}catch(i){console.warn("Failed to clear URL:",i)}}}}function gT(e,t,n){const r=p.useCallback(m=>({value:String(e[m]||""),onChange:b=>t(m,b.target.value)}),[e,t]),s=p.useCallback(m=>({value:String(e[m]||""),onValueChange:b=>t(m,b)}),[e,t]),o=p.useCallback(m=>({checked:!!e[m],onCheckedChange:b=>t(m,b)}),[e,t]),i=p.useCallback(m=>({checked:!!e[m],onCheckedChange:b=>t(m,b)}),[e,t]),a=p.useCallback((m,b)=>({value:b,onValueChange:g=>t(m,g)}),[t]),l=p.useCallback(m=>({value:e[m]||"",onChange:b=>{const g=b.target.value;t(m,g===""?"":Number(g))}}),[e,t]),c=p.useCallback(m=>({value:e[m]||"",onChange:b=>t(m,b.target.value)}),[e,t]),u=p.useCallback(m=>({value:e[m]||[],onChange:b=>t(m,b)}),[e,t]),d=p.useCallback(m=>{t(m,n[m])},[t,n]),f=p.useCallback(()=>{Object.keys(e).forEach(m=>{t(m,n[m])})},[e,t,n]);return{getInputProps:r,getSelectProps:s,getCheckboxProps:o,getSwitchProps:i,getRadioProps:a,getNumberInputProps:l,getDateInputProps:c,getMultiSelectProps:u,clearField:d,clearAllFields:f}}function I0(e,t={}){const{customKey:n,syncWithUrl:r=!1,storageType:s="localStorage",debounceMs:o=300,excludeFields:i=[],expirationHours:a=1,enableReset:l=!0}=t,c=typeof window<"u"?window.location.pathname:"/",u=n||`form-state-${c}`,d=s==="localStorage"?localStorage:sessionStorage,f=p.useRef(!1),{loadFromStorage:m,saveToStorage:b,clearStorage:g,isStorageExpired:w}=hT(u,d,e,i,a),{loadFromUrl:y,updateUrl:v,clearUrl:x}=mT(r,i),S=p.useCallback(()=>{try{let F={...e};if(w())g();else{const $=m();$&&Object.keys($).length>0&&(F={...F,...$})}if(r&&typeof window<"u"){const $=y(window.location.search);$&&Object.keys($).length>0&&(F={...F,...$})}return i.forEach($=>{$ in F&&(F[$]=e[$])}),F}catch(F){return console.warn("Failed to load persisted form state:",F),e}},[e,u,r,w,m,y,g,i]),[E,C]=p.useState(()=>{const F=S();return f.current=!0,F}),k=pT(b,o),R=p.useCallback((F,$)=>{C(te=>{const H={...te,[F]:$};return k(H),r&&typeof window<"u"&&v(H,{pathname:window.location.pathname,search:window.location.search}),H})},[k,v,r]),I=p.useCallback(F=>{C($=>{const te={...$,...F};return k(te),r&&typeof window<"u"&&v(te,{pathname:window.location.pathname,search:window.location.search}),te})},[k,v,r]),A=p.useCallback(()=>{C(e),g(),r&&typeof window<"u"&&x(window.location.pathname)},[e,g,x,r]),B=p.useCallback(()=>Object.keys(E).some(F=>{const $=E[F],te=e[F];return $!==te&&$!==""&&$!==null&&$!==void 0}),[E,e]);p.useEffect(()=>{if(!f.current)return;const F=()=>{if(w())g(),C(e);else{const te=S();C(te)}},$=()=>{document.hidden||F()};return window.addEventListener("focus",F),document.addEventListener("visibilitychange",$),()=>{window.removeEventListener("focus",F),document.removeEventListener("visibilitychange",$)}},[S,w,g,e]),p.useEffect(()=>{w()&&g()},[w,g]);const D=gT(E,R,e);return{formValues:E,handleChange:R,handleBatchChange:I,resetForm:A,hasPersistedData:B,isExpired:w,...D}}function N0({onReset:e,hasData:t=!0,variant:n="outline",size:r="default",className:s,children:o}){return t?h.jsxs(fn,{type:"button",variant:n,size:r,onClick:e,className:s,children:[h.jsx(iT,{className:"h-4 w-4 mr-2"}),o||"Reset Form"]}):null}const yT={email:"",password:""};function vT(){const e=Or(),{toast:t}=mn(),[n,r]=p.useState(!1),{formValues:s,getInputProps:o,resetForm:i,hasPersistedData:a}=I0(yT,{customKey:"login-form",syncWithUrl:!1,excludeFields:["password"],expirationHours:1,debounceMs:100}),l=async c=>{c.preventDefault(),r(!0);try{const{data:u,error:d}=await W.auth.signInWithPassword({email:s.email,password:s.password});if(d){t({title:"Login failed",description:d.message,variant:"destructive"});return}u.user&&(t({title:"Welcome back!",description:"You have been successfully logged in."}),i(),e("/"))}catch{t({title:"An error occurred",description:"Please try again later.",variant:"destructive"})}finally{r(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs(Nr,{className:"w-full max-w-md",children:[h.jsxs(vs,{className:"space-y-1",children:[h.jsx(Lo,{className:"text-2xl font-bold text-center",children:"Sign in"}),h.jsx(Vh,{className:"text-center",children:"Enter your email and password to access your account"})]}),h.jsxs("form",{onSubmit:l,children:[h.jsxs(Mr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Zs,{htmlFor:"email",children:"Email"}),h.jsx(Ys,{id:"email",type:"email",placeholder:"Enter your email",required:!0,disabled:n,...o("email")})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Zs,{htmlFor:"password",children:"Password"}),h.jsx(Ys,{id:"password",type:"password",placeholder:"Enter your password",required:!0,disabled:n,...o("password")})]})]}),h.jsxs(Kh,{className:"flex flex-col space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center w-full",children:[h.jsx(N0,{onReset:i,hasData:a(),variant:"outline",size:"sm",children:"Clear Form"}),h.jsxs(fn,{type:"submit",disabled:n,className:"flex-1 ml-2",children:[n&&h.jsx(A0,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign in"]})]}),h.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",h.jsx(Vl,{to:"/signup",className:"text-primary hover:underline",children:"Sign up here"})]})]})]})]})})}function wT(){const{user:e,profile:t,loading:n}=Ac();return n?h.jsx("div",{children:"Loading auth state..."}):h.jsxs(Nr,{className:"max-w-md mx-auto mt-4",children:[h.jsx(vs,{children:h.jsx(Lo,{children:"User Role Debugging"})}),h.jsx(Mr,{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[h.jsx("div",{className:"font-semibold",children:"User ID:"}),h.jsx("div",{children:(e==null?void 0:e.id)||"Not logged in"}),h.jsx("div",{className:"font-semibold",children:"Email:"}),h.jsx("div",{children:(e==null?void 0:e.email)||"N/A"}),h.jsx("div",{className:"font-semibold",children:"Role:"}),h.jsx("div",{children:(t==null?void 0:t.role)||"Not set"}),h.jsx("div",{className:"font-semibold",children:"Full Name:"}),h.jsx("div",{children:(t==null?void 0:t.full_name)||"Not set"}),h.jsx("div",{className:"font-semibold",children:"Can Modify:"}),h.jsx("div",{children:(t==null?void 0:t.role)!=="viewer"?"Yes":"No"})]})})]})}function bT(){return h.jsx(be,{requireAuth:!1,children:h.jsxs("div",{className:"space-y-8",children:[h.jsx(vT,{}),h.jsx(wT,{})]})})}const xT={email:"",password:"",confirmPassword:""};function ST(){const e=Or(),{toast:t}=mn(),[n,r]=p.useState(!1),{formValues:s,getInputProps:o,resetForm:i,hasPersistedData:a}=I0(xT,{customKey:"signup-form",syncWithUrl:!1,excludeFields:["password","confirmPassword"],expirationHours:1,debounceMs:100}),l=async c=>{if(c.preventDefault(),s.password!==s.confirmPassword){t({title:"Password mismatch",description:"Please make sure your passwords match.",variant:"destructive"});return}r(!0);try{const u=`${window.location.origin}/`,{data:d,error:f}=await W.auth.signUp({email:s.email,password:s.password,options:{emailRedirectTo:u}});if(f){t({title:"Sign up failed",description:f.message,variant:"destructive"});return}d.user&&(t({title:"Account created successfully!",description:"Please check your email to verify your account."}),i(),e("/login"))}catch{t({title:"An error occurred",description:"Please try again later.",variant:"destructive"})}finally{r(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs(Nr,{className:"w-full max-w-md",children:[h.jsxs(vs,{className:"space-y-1",children:[h.jsx(Lo,{className:"text-2xl font-bold text-center",children:"Create Account"}),h.jsx(Vh,{className:"text-center",children:"Enter your details to create a new account"})]}),h.jsxs("form",{onSubmit:l,children:[h.jsxs(Mr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Zs,{htmlFor:"email",children:"Email"}),h.jsx(Ys,{id:"email",type:"email",placeholder:"Enter your email",required:!0,disabled:n,...o("email")})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Zs,{htmlFor:"password",children:"Password"}),h.jsx(Ys,{id:"password",type:"password",placeholder:"Enter your password",required:!0,disabled:n,...o("password")})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Zs,{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsx(Ys,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",required:!0,disabled:n,...o("confirmPassword")})]})]}),h.jsxs(Kh,{className:"flex flex-col space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center w-full",children:[h.jsx(N0,{onReset:i,hasData:a(),variant:"outline",size:"sm",children:"Clear Form"}),h.jsxs(fn,{type:"submit",disabled:n,className:"flex-1 ml-2",children:[n&&h.jsx(A0,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]}),h.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",h.jsx(Vl,{to:"/login",className:"text-primary hover:underline",children:"Sign in here"})]})]})]})]})})}function _T(){return h.jsx(be,{requireAuth:!1,children:h.jsx(ST,{})})}class M0 extends p.Component{constructor(n){super(n);vn(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});vn(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){var s,o;console.error("ErrorBoundary caught an error:",n,r),(o=(s=this.props).onError)==null||o.call(s,n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:h.jsxs(Nr,{className:"w-full max-w-md",children:[h.jsxs(vs,{className:"text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(lT,{className:"h-12 w-12 text-destructive"})}),h.jsx(Lo,{className:"text-xl",children:"Something went wrong"})]}),h.jsxs(Mr,{className:"space-y-4 text-center",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Please try again."}),!1,h.jsxs("div",{className:"flex gap-2 justify-center",children:[h.jsxs(fn,{onClick:this.handleRetry,variant:"default",size:"sm",className:"flex items-center gap-2",children:[h.jsx(O0,{className:"h-4 w-4"}),"Try Again"]}),h.jsxs(fn,{onClick:this.handleGoHome,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[h.jsx(j0,{className:"h-4 w-4"}),"Go Home"]})]})]})]})}):this.props.children}}function ET({pageName:e}){const t=Or();return h.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:h.jsxs(Nr,{className:"w-full max-w-lg",children:[h.jsxs(vs,{className:"text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(ZR,{className:"h-10 w-10 text-destructive"})}),h.jsx(Lo,{children:"Page Error"})]}),h.jsxs(Mr,{className:"space-y-4 text-center",children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:[e?`The ${e} page`:"This page"," encountered an error and couldn't load properly."]}),h.jsxs("div",{className:"flex gap-2 justify-center",children:[h.jsxs(fn,{onClick:()=>window.location.reload(),variant:"default",size:"sm",className:"flex items-center gap-2",children:[h.jsx(O0,{className:"h-4 w-4"}),"Reload Page"]}),h.jsxs(fn,{onClick:()=>t(-1),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[h.jsx(GR,{className:"h-4 w-4"}),"Go Back"]})]})]})]})})}function we({children:e,pageName:t}){return h.jsx(M0,{fallback:h.jsx(ET,{pageName:t}),children:e})}function aD(e,t){const n=p.createContext(t),r=o=>{const{children:i,...a}=o,l=p.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Do(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];const c=d=>{var y;const{scope:f,children:m,...b}=d,g=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,w=p.useMemo(()=>b,Object.values(b));return h.jsx(g.Provider,{value:w,children:m})};c.displayName=o+"Provider";function u(d,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,b=p.useContext(m);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,CT(s,...t)]}function CT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function hn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Kt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},L0={exports:{}},D0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=p;function kT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PT=typeof Object.is=="function"?Object.is:kT,RT=_o.useState,TT=_o.useEffect,jT=_o.useLayoutEffect,AT=_o.useDebugValue;function OT(e,t){var n=t(),r=RT({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return jT(function(){s.value=n,s.getSnapshot=t,Ou(s)&&o({inst:s})},[e,n,t]),TT(function(){return Ou(s)&&o({inst:s}),e(function(){Ou(s)&&o({inst:s})})},[e]),AT(n),n}function Ou(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!PT(e,n)}catch{return!0}}function IT(e,t){return t()}var NT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IT:OT;D0.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:NT;L0.exports=D0;var MT=L0.exports;function LT(){return MT.useSyncExternalStore(DT,()=>!0,()=>!1)}function DT(){return()=>{}}var Qh="Avatar",[FT,lD]=Do(Qh),[$T,F0]=FT(Qh),$0=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=p.useState("idle");return h.jsx($T,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:h.jsx(Ie.span,{...r,ref:t})})});$0.displayName=Qh;var U0="AvatarImage",z0=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=F0(U0,n),a=UT(r,o),l=hn(c=>{s(c),i.onImageLoadingStatusChange(c)});return Kt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(Ie.img,{...o,ref:t,src:r}):null});z0.displayName=U0;var B0="AvatarFallback",q0=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=F0(B0,n),[i,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?h.jsx(Ie.span,{...s,ref:t}):null});q0.displayName=B0;function gg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function UT(e,{referrerPolicy:t,crossOrigin:n}){const r=LT(),s=p.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=p.useState(()=>gg(o,e));return Kt(()=>{a(gg(o,e))},[o,e]),Kt(()=>{const l=d=>()=>{a(d)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,t]),i}var W0=$0,H0=z0,V0=q0;const hf=p.forwardRef(({className:e,...t},n)=>h.jsx(W0,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hf.displayName=W0.displayName;const pf=p.forwardRef(({className:e,...t},n)=>h.jsx(H0,{ref:n,className:re("aspect-square h-full w-full",e),...t}));pf.displayName=H0.displayName;const mf=p.forwardRef(({className:e,...t},n)=>h.jsx(V0,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));mf.displayName=V0.displayName;function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var zT=$f[" useInsertionEffect ".trim().toString()]||Kt;function K0({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=BT({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const u=p.useRef(e!==void 0);p.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=p.useCallback(u=>{var d;if(a){const f=qT(u)?u(e):u;f!==e&&((d=i.current)==null||d.call(i,f))}else o(u)},[a,e,o,i]);return[l,c]}function BT({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return zT(()=>{o.current=t},[t]),p.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function qT(e){return typeof e=="function"}function G0(e){const t=e+"CollectionProvider",[n,r]=Do(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:y}=g,v=Sn.useRef(null),x=Sn.useRef(new Map).current;return h.jsx(s,{scope:w,itemMap:x,collectionRef:v,children:y})};i.displayName=t;const a=e+"CollectionSlot",l=Ki(a),c=Sn.forwardRef((g,w)=>{const{scope:y,children:v}=g,x=o(a,y),S=mt(w,x.collectionRef);return h.jsx(l,{ref:S,children:v})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=Ki(u),m=Sn.forwardRef((g,w)=>{const{scope:y,children:v,...x}=g,S=Sn.useRef(null),E=mt(w,S),C=o(u,y);return Sn.useEffect(()=>(C.itemMap.set(S,{ref:S,...x}),()=>void C.itemMap.delete(S))),h.jsx(f,{[d]:"",ref:E,children:v})});m.displayName=u;function b(g){const w=o(e+"CollectionConsumer",g);return Sn.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((C,k)=>x.indexOf(C.ref.current)-x.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},b,r]}var WT=p.createContext(void 0);function Q0(e){const t=p.useContext(WT);return e||t||"ltr"}function HT(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var VT="DismissableLayer",gf="dismissableLayer.update",KT="dismissableLayer.pointerDownOutside",GT="dismissableLayer.focusOutside",yg,J0=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),X0=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=p.useContext(J0),[u,d]=p.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),b=mt(t,k=>d(k)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,E=XT(k=>{const R=k.target,I=[...c.branches].some(A=>A.contains(R));!S||I||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},f),C=YT(k=>{const R=k.target;[...c.branches].some(A=>A.contains(R))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},f);return HT(k=>{v===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),p.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=yg)}},[u,f,n,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vg())},[u,c]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(gf,k),()=>document.removeEventListener(gf,k)},[]),h.jsx(Ie.div,{...l,ref:b,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,E.onPointerDownCapture)})});X0.displayName=VT;var QT="DismissableLayerBranch",JT=p.forwardRef((e,t)=>{const n=p.useContext(J0),r=p.useRef(null),s=mt(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(Ie.div,{...e,ref:s})});JT.displayName=QT;function XT(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Y0(KT,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function YT(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&Y0(GT,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vg(){const e=new CustomEvent(gf);document.dispatchEvent(e)}function Y0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?C0(s,o):s.dispatchEvent(o)}var Iu=0;function ZT(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wg()),document.body.insertAdjacentElement("beforeend",e[1]??wg()),Iu++,()=>{Iu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Iu--}},[])}function wg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nu="focusScope.autoFocusOnMount",Mu="focusScope.autoFocusOnUnmount",bg={bubbles:!1,cancelable:!0},ej="FocusScope",Z0=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=p.useState(null),c=hn(s),u=hn(o),d=p.useRef(null),f=mt(t,g=>l(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const S=x.target;a.contains(S)?d.current=S:Gn(d.current,{select:!0})},w=function(x){if(m.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||Gn(d.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&Gn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){Sg.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(Nu,bg);a.addEventListener(Nu,c),a.dispatchEvent(y),y.defaultPrevented||(tj(ij(eb(a)),{select:!0}),document.activeElement===g&&Gn(a))}return()=>{a.removeEventListener(Nu,c),setTimeout(()=>{const y=new CustomEvent(Mu,bg);a.addEventListener(Mu,u),a.dispatchEvent(y),y.defaultPrevented||Gn(g??document.body,{select:!0}),a.removeEventListener(Mu,u),Sg.remove(m)},0)}}},[a,c,u,m]);const b=p.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[x,S]=nj(v);x&&S?!g.shiftKey&&y===S?(g.preventDefault(),n&&Gn(x,{select:!0})):g.shiftKey&&y===x&&(g.preventDefault(),n&&Gn(S,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return h.jsx(Ie.div,{tabIndex:-1,...i,ref:f,onKeyDown:b})});Z0.displayName=ej;function tj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Gn(r,{select:t}),document.activeElement!==n)return}function nj(e){const t=eb(e),n=xg(t,e),r=xg(t.reverse(),e);return[n,r]}function eb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xg(e,t){for(const n of e)if(!rj(n,{upTo:t}))return n}function rj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sj(e){return e instanceof HTMLInputElement&&"select"in e}function Gn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&sj(e)&&t&&e.select()}}var Sg=oj();function oj(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_g(e,t),e.unshift(t)},remove(t){var n;e=_g(e,t),(n=e[0])==null||n.resume()}}}function _g(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ij(e){return e.filter(t=>t.tagName!=="A")}var aj=$f[" useId ".trim().toString()]||(()=>{}),lj=0;function yf(e){const[t,n]=p.useState(aj());return Kt(()=>{n(r=>r??String(lj++))},[e]),t?`radix-${t}`:""}const cj=["top","right","bottom","left"],kr=Math.min,vt=Math.max,Yl=Math.round,Wa=Math.floor,un=e=>({x:e,y:e}),uj={left:"right",right:"left",bottom:"top",top:"bottom"},dj={start:"end",end:"start"};function vf(e,t,n){return vt(e,kr(t,n))}function Dn(e,t){return typeof e=="function"?e(t):e}function Fn(e){return e.split("-")[0]}function Fo(e){return e.split("-")[1]}function Jh(e){return e==="x"?"y":"x"}function Xh(e){return e==="y"?"height":"width"}function an(e){return["top","bottom"].includes(Fn(e))?"y":"x"}function Yh(e){return Jh(an(e))}function fj(e,t,n){n===void 0&&(n=!1);const r=Fo(e),s=Yh(e),o=Xh(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Zl(i)),[i,Zl(i)]}function hj(e){const t=Zl(e);return[wf(e),t,wf(t)]}function wf(e){return e.replace(/start|end/g,t=>dj[t])}function pj(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function mj(e,t,n,r){const s=Fo(e);let o=pj(Fn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(wf)))),o}function Zl(e){return e.replace(/left|right|bottom|top/g,t=>uj[t])}function gj(e){return{top:0,right:0,bottom:0,left:0,...e}}function tb(e){return typeof e!="number"?gj(e):{top:e,right:e,bottom:e,left:e}}function ec(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Eg(e,t,n){let{reference:r,floating:s}=e;const o=an(t),i=Yh(t),a=Xh(i),l=Fn(t),c=o==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-s.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Fo(t)){case"start":m[i]-=f*(n&&c?-1:1);break;case"end":m[i]+=f*(n&&c?-1:1);break}return m}const yj=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=Eg(c,r,l),f=r,m={},b=0;for(let g=0;g<a.length;g++){const{name:w,fn:y}=a[g],{x:v,y:x,data:S,reset:E}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});u=v??u,d=x??d,m={...m,[w]:{...m[w],...S}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:u,y:d}=Eg(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:m}};async function Gi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=Dn(t,e),b=tb(m),w=a[f?d==="floating"?"reference":"floating":d],y=ec(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},E=ec(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(y.top-E.top+b.top)/S.y,bottom:(E.bottom-y.bottom+b.bottom)/S.y,left:(y.left-E.left+b.left)/S.x,right:(E.right-y.right+b.right)/S.x}}const vj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Dn(e,t)||{};if(c==null)return{};const d=tb(u),f={x:n,y:r},m=Yh(s),b=Xh(m),g=await i.getDimensions(c),w=m==="y",y=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",S=o.reference[b]+o.reference[m]-f[m]-o.floating[b],E=f[m]-o.reference[m],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=C?C[x]:0;(!k||!await(i.isElement==null?void 0:i.isElement(C)))&&(k=a.floating[x]||o.floating[b]);const R=S/2-E/2,I=k/2-g[b]/2-1,A=kr(d[y],I),B=kr(d[v],I),D=A,F=k-g[b]-B,$=k/2-g[b]/2+R,te=vf(D,$,F),H=!l.arrow&&Fo(s)!=null&&$!==te&&o.reference[b]/2-($<D?A:B)-g[b]/2<0,ie=H?$<D?$-D:$-F:0;return{[m]:f[m]+ie,data:{[m]:te,centerOffset:$-te-ie,...H&&{alignmentOffset:ie}},reset:H}}}),wj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=Dn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Fn(s),v=an(a),x=Fn(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(x||!g?[Zl(a)]:hj(a)),C=b!=="none";!f&&C&&E.push(...mj(a,g,b,S));const k=[a,...E],R=await Gi(t,w),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(R[y]),d){const $=fj(s,i,S);I.push(R[$[0]],R[$[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every($=>$<=0)){var B,D;const $=(((B=o.flip)==null?void 0:B.index)||0)+1,te=k[$];if(te&&(!(d==="alignment"?v!==an(te):!1)||A.every(T=>T.overflows[0]>0&&an(T.placement)===v)))return{data:{index:$,overflows:A},reset:{placement:te}};let H=(D=A.filter(ie=>ie.overflows[0]<=0).sort((ie,T)=>ie.overflows[1]-T.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(m){case"bestFit":{var F;const ie=(F=A.filter(T=>{if(C){const j=an(T.placement);return j===v||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:F[0];ie&&(H=ie);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Cg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kg(e){return cj.some(t=>e[t]>=0)}const bj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Dn(e,t);switch(r){case"referenceHidden":{const o=await Gi(t,{...s,elementContext:"reference"}),i=Cg(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:kg(i)}}}case"escaped":{const o=await Gi(t,{...s,altBoundary:!0}),i=Cg(o,n.floating);return{data:{escapedOffsets:i,escaped:kg(i)}}}default:return{}}}}};async function xj(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Fn(n),a=Fo(n),l=an(n)==="y",c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,d=Dn(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const Sj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await xj(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},_j=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...l}=Dn(e,t),c={x:n,y:r},u=await Gi(t,l),d=an(Fn(s)),f=Jh(d);let m=c[f],b=c[d];if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+u[w],x=m-u[y];m=vf(v,m,x)}if(i){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=b+u[w],x=b-u[y];b=vf(v,b,x)}const g=a.fn({...t,[f]:m,[d]:b});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[d]:i}}}}}},Ej=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Dn(e,t),u={x:n,y:r},d=an(s),f=Jh(d);let m=u[f],b=u[d];const g=Dn(a,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",S=o.reference[f]-o.floating[x]+w.mainAxis,E=o.reference[f]+o.reference[x]-w.mainAxis;m<S?m=S:m>E&&(m=E)}if(c){var y,v;const x=f==="y"?"width":"height",S=["top","left"].includes(Fn(s)),E=o.reference[d]-o.floating[x]+(S&&((y=i.offset)==null?void 0:y[d])||0)+(S?0:w.crossAxis),C=o.reference[d]+o.reference[x]+(S?0:((v=i.offset)==null?void 0:v[d])||0)-(S?w.crossAxis:0);b<E?b=E:b>C&&(b=C)}return{[f]:m,[d]:b}}}},Cj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Dn(e,t),u=await Gi(t,c),d=Fn(s),f=Fo(s),m=an(s)==="y",{width:b,height:g}=o.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,w=f==="end"?"top":"bottom");const v=g-u.top-u.bottom,x=b-u.left-u.right,S=kr(g-u[w],v),E=kr(b-u[y],x),C=!t.middlewareData.shift;let k=S,R=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=v),C&&!f){const A=vt(u.left,0),B=vt(u.right,0),D=vt(u.top,0),F=vt(u.bottom,0);m?R=b-2*(A!==0||B!==0?A+B:vt(u.left,u.right)):k=g-2*(D!==0||F!==0?D+F:vt(u.top,u.bottom))}await l({...t,availableWidth:R,availableHeight:k});const I=await i.getDimensions(a.floating);return b!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Ic(){return typeof window<"u"}function $o(e){return nb(e)?(e.nodeName||"").toLowerCase():"#document"}function xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gn(e){var t;return(t=(nb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nb(e){return Ic()?e instanceof Node||e instanceof xt(e).Node:!1}function Gt(e){return Ic()?e instanceof Element||e instanceof xt(e).Element:!1}function pn(e){return Ic()?e instanceof HTMLElement||e instanceof xt(e).HTMLElement:!1}function Pg(e){return!Ic()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xt(e).ShadowRoot}function da(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Qt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function kj(e){return["table","td","th"].includes($o(e))}function Nc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Zh(e){const t=ep(),n=Gt(e)?Qt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Pj(e){let t=Pr(e);for(;pn(t)&&!Eo(t);){if(Zh(t))return t;if(Nc(t))return null;t=Pr(t)}return null}function ep(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Eo(e){return["html","body","#document"].includes($o(e))}function Qt(e){return xt(e).getComputedStyle(e)}function Mc(e){return Gt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pr(e){if($o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pg(e)&&e.host||gn(e);return Pg(t)?t.host:t}function rb(e){const t=Pr(e);return Eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:pn(t)&&da(t)?t:rb(t)}function Qi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=rb(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=xt(s);if(o){const a=bf(i);return t.concat(i,i.visualViewport||[],da(s)?s:[],a&&n?Qi(a):[])}return t.concat(s,Qi(s,[],n))}function bf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sb(e){const t=Qt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=pn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Yl(n)!==o||Yl(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function tp(e){return Gt(e)?e:e.contextElement}function eo(e){const t=tp(e);if(!pn(t))return un(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=sb(t);let i=(o?Yl(n.width):n.width)/r,a=(o?Yl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Rj=un(0);function ob(e){const t=xt(e);return!ep()||!t.visualViewport?Rj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xt(e)?!1:t}function ds(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=tp(e);let i=un(1);t&&(r?Gt(r)&&(i=eo(r)):i=eo(e));const a=Tj(o,n,r)?ob(o):un(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(o){const f=xt(o),m=r&&Gt(r)?xt(r):r;let b=f,g=bf(b);for(;g&&r&&m!==b;){const w=eo(g),y=g.getBoundingClientRect(),v=Qt(g),x=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,S=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=x,c+=S,b=xt(g),g=bf(b)}}return ec({width:u,height:d,x:l,y:c})}function np(e,t){const n=Mc(e).scrollLeft;return t?t.left+n:ds(gn(e)).left+n}function ib(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:np(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function jj(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=gn(r),a=t?Nc(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=un(1);const u=un(0),d=pn(r);if((d||!d&&!o)&&(($o(r)!=="body"||da(i))&&(l=Mc(r)),pn(r))){const m=ds(r);c=eo(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=i&&!d&&!o?ib(i,l,!0):un(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Aj(e){return Array.from(e.getClientRects())}function Oj(e){const t=gn(e),n=Mc(e),r=e.ownerDocument.body,s=vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+np(e);const a=-n.scrollTop;return Qt(r).direction==="rtl"&&(i+=vt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function Ij(e,t){const n=xt(e),r=gn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=ep();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function Nj(e,t){const n=ds(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=pn(e)?eo(e):un(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function Rg(e,t,n){let r;if(t==="viewport")r=Ij(e,n);else if(t==="document")r=Oj(gn(e));else if(Gt(t))r=Nj(t,n);else{const s=ob(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ec(r)}function ab(e,t){const n=Pr(e);return n===t||!Gt(n)||Eo(n)?!1:Qt(n).position==="fixed"||ab(n,t)}function Mj(e,t){const n=t.get(e);if(n)return n;let r=Qi(e,[],!1).filter(a=>Gt(a)&&$o(a)!=="body"),s=null;const o=Qt(e).position==="fixed";let i=o?Pr(e):e;for(;Gt(i)&&!Eo(i);){const a=Qt(i),l=Zh(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||da(i)&&!l&&ab(e,i))?r=r.filter(u=>u!==i):s=a,i=Pr(i)}return t.set(e,r),r}function Lj(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Nc(t)?[]:Mj(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const d=Rg(t,u,s);return c.top=vt(d.top,c.top),c.right=kr(d.right,c.right),c.bottom=kr(d.bottom,c.bottom),c.left=vt(d.left,c.left),c},Rg(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dj(e){const{width:t,height:n}=sb(e);return{width:t,height:n}}function Fj(e,t,n){const r=pn(t),s=gn(t),o=n==="fixed",i=ds(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=un(0);function c(){l.x=np(s)}if(r||!r&&!o)if(($o(t)!=="body"||da(s))&&(a=Mc(t)),r){const m=ds(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();o&&!r&&s&&c();const u=s&&!r&&!o?ib(s,a):un(0),d=i.left+a.scrollLeft-l.x-u.x,f=i.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function Lu(e){return Qt(e).position==="static"}function Tg(e,t){if(!pn(e)||Qt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gn(e)===n&&(n=n.ownerDocument.body),n}function lb(e,t){const n=xt(e);if(Nc(e))return n;if(!pn(e)){let s=Pr(e);for(;s&&!Eo(s);){if(Gt(s)&&!Lu(s))return s;s=Pr(s)}return n}let r=Tg(e,t);for(;r&&kj(r)&&Lu(r);)r=Tg(r,t);return r&&Eo(r)&&Lu(r)&&!Zh(r)?n:r||Pj(e)||n}const $j=async function(e){const t=this.getOffsetParent||lb,n=this.getDimensions,r=await n(e.floating);return{reference:Fj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Uj(e){return Qt(e).direction==="rtl"}const zj={convertOffsetParentRelativeRectToViewportRelativeRect:jj,getDocumentElement:gn,getClippingRect:Lj,getOffsetParent:lb,getElementRects:$j,getClientRects:Aj,getDimensions:Dj,getScale:eo,isElement:Gt,isRTL:Uj};function cb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bj(e,t){let n=null,r;const s=gn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:m}=c;if(a||t(),!f||!m)return;const b=Wa(d),g=Wa(s.clientWidth-(u+f)),w=Wa(s.clientHeight-(d+m)),y=Wa(u),x={rootMargin:-b+"px "+-g+"px "+-w+"px "+-y+"px",threshold:vt(0,kr(1,l))||1};let S=!0;function E(C){const k=C[0].intersectionRatio;if(k!==l){if(!S)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!cb(c,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(E,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,x)}n.observe(e)}return i(!0),o}function qj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=tp(e),u=s||o?[...c?Qi(c):[],...Qi(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=c&&a?Bj(c,n):null;let f=-1,m=null;i&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let b,g=l?ds(e):null;l&&w();function w(){const y=ds(e);g&&!cb(g,y)&&n(),g=y,b=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),d==null||d(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const Wj=Sj,Hj=_j,Vj=wj,Kj=Cj,Gj=bj,jg=vj,Qj=Ej,Jj=(e,t,n)=>{const r=new Map,s={platform:zj,...n},o={...s.platform,_c:r};return yj(e,t,{...s,platform:o})};var Xj=typeof document<"u",Yj=function(){},ml=Xj?p.useLayoutEffect:Yj;function tc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!tc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!tc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ub(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ag(e,t){const n=ub(e);return Math.round(t*n)/n}function Du(e){const t=p.useRef(e);return ml(()=>{t.current=e}),t}function Zj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);tc(f,r)||m(r);const[b,g]=p.useState(null),[w,y]=p.useState(null),v=p.useCallback(T=>{T!==C.current&&(C.current=T,g(T))},[]),x=p.useCallback(T=>{T!==k.current&&(k.current=T,y(T))},[]),S=o||b,E=i||w,C=p.useRef(null),k=p.useRef(null),R=p.useRef(u),I=l!=null,A=Du(l),B=Du(s),D=Du(c),F=p.useCallback(()=>{if(!C.current||!k.current)return;const T={placement:t,strategy:n,middleware:f};B.current&&(T.platform=B.current),Jj(C.current,k.current,T).then(j=>{const L={...j,isPositioned:D.current!==!1};$.current&&!tc(R.current,L)&&(R.current=L,Sc.flushSync(()=>{d(L)}))})},[f,t,n,B,D]);ml(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[c]);const $=p.useRef(!1);ml(()=>($.current=!0,()=>{$.current=!1}),[]),ml(()=>{if(S&&(C.current=S),E&&(k.current=E),S&&E){if(A.current)return A.current(S,E,F);F()}},[S,E,F,A,I]);const te=p.useMemo(()=>({reference:C,floating:k,setReference:v,setFloating:x}),[v,x]),H=p.useMemo(()=>({reference:S,floating:E}),[S,E]),ie=p.useMemo(()=>{const T={position:n,left:0,top:0};if(!H.floating)return T;const j=Ag(H.floating,u.x),L=Ag(H.floating,u.y);return a?{...T,transform:"translate("+j+"px, "+L+"px)",...ub(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:L}},[n,a,H.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:F,refs:te,elements:H,floatingStyles:ie}),[u,F,te,H,ie])}const eA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?jg({element:r.current,padding:s}).fn(n):{}:r?jg({element:r,padding:s}).fn(n):{}}}},tA=(e,t)=>({...Wj(e),options:[e,t]}),nA=(e,t)=>({...Hj(e),options:[e,t]}),rA=(e,t)=>({...Qj(e),options:[e,t]}),sA=(e,t)=>({...Vj(e),options:[e,t]}),oA=(e,t)=>({...Kj(e),options:[e,t]}),iA=(e,t)=>({...Gj(e),options:[e,t]}),aA=(e,t)=>({...eA(e),options:[e,t]});var lA="Arrow",db=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return h.jsx(Ie.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});db.displayName=lA;var cA=db;function uA(e){const[t,n]=p.useState(void 0);return Kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var rp="Popper",[fb,hb]=Do(rp),[dA,pb]=fb(rp),mb=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return h.jsx(dA,{scope:t,anchor:r,onAnchorChange:s,children:n})};mb.displayName=rp;var gb="PopperAnchor",yb=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=pb(gb,n),i=p.useRef(null),a=mt(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:h.jsx(Ie.div,{...s,ref:a})});yb.displayName=gb;var sp="PopperContent",[fA,hA]=fb(sp),vb=p.forwardRef((e,t)=>{var rt,Bo,Ct,qo,gp,yp;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...g}=e,w=pb(sp,n),[y,v]=p.useState(null),x=mt(t,Wo=>v(Wo)),[S,E]=p.useState(null),C=uA(S),k=(C==null?void 0:C.width)??0,R=(C==null?void 0:C.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(c)?c:[c],D=B.length>0,F={padding:A,boundary:B.filter(mA),altBoundary:D},{refs:$,floatingStyles:te,placement:H,isPositioned:ie,middlewareData:T}=Zj({strategy:"fixed",placement:I,whileElementsMounted:(...Wo)=>qj(...Wo,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[tA({mainAxis:s+R,alignmentAxis:i}),l&&nA({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?rA():void 0,...F}),l&&sA({...F}),oA({...F,apply:({elements:Wo,rects:vp,availableWidth:bS,availableHeight:xS})=>{const{width:SS,height:_S}=vp.reference,wa=Wo.floating.style;wa.setProperty("--radix-popper-available-width",`${bS}px`),wa.setProperty("--radix-popper-available-height",`${xS}px`),wa.setProperty("--radix-popper-anchor-width",`${SS}px`),wa.setProperty("--radix-popper-anchor-height",`${_S}px`)}}),S&&aA({element:S,padding:a}),gA({arrowWidth:k,arrowHeight:R}),f&&iA({strategy:"referenceHidden",...F})]}),[j,L]=xb(H),q=hn(b);Kt(()=>{ie&&(q==null||q())},[ie,q]);const se=(rt=T.arrow)==null?void 0:rt.x,Xt=(Bo=T.arrow)==null?void 0:Bo.y,gt=((Ct=T.arrow)==null?void 0:Ct.centerOffset)!==0,[zn,Ve]=p.useState();return Kt(()=>{y&&Ve(window.getComputedStyle(y).zIndex)},[y]),h.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:ie?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:zn,"--radix-popper-transform-origin":[(qo=T.transformOrigin)==null?void 0:qo.x,(gp=T.transformOrigin)==null?void 0:gp.y].join(" "),...((yp=T.hide)==null?void 0:yp.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(fA,{scope:n,placedSide:j,onArrowChange:E,arrowX:se,arrowY:Xt,shouldHideArrow:gt,children:h.jsx(Ie.div,{"data-side":j,"data-align":L,...g,ref:x,style:{...g.style,animation:ie?void 0:"none"}})})})});vb.displayName=sp;var wb="PopperArrow",pA={top:"bottom",right:"left",bottom:"top",left:"right"},bb=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=hA(wb,r),i=pA[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(cA,{...s,ref:n,style:{...s.style,display:"block"}})})});bb.displayName=wb;function mA(e){return e!==null}var gA=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=xb(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let b="",g="";return c==="bottom"?(b=i?d:`${f}px`,g=`${-l}px`):c==="top"?(b=i?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,g=i?d:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,g=i?d:`${m}px`),{data:{x:b,y:g}}}});function xb(e){const[t,n="center"]=e.split("-");return[t,n]}var yA=mb,vA=yb,wA=vb,bA=bb,xA="Portal",Sb=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=p.useState(!1);Kt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ZE.createPortal(h.jsx(Ie.div,{...r,ref:t}),i):null});Sb.displayName=xA;function SA(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var fa=e=>{const{present:t,children:n}=e,r=_A(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=mt(r.ref,EA(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};fa.displayName="Presence";function _A(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,l]=SA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Ha(r.current);o.current=a==="mounted"?c:"none"},[a]),Kt(()=>{const c=r.current,u=s.current;if(u!==e){const f=o.current,m=Ha(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Kt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=m=>{const g=Ha(r.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=m=>{m.target===t&&(o.current=Ha(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ha(e){return(e==null?void 0:e.animationName)||"none"}function EA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fu="rovingFocusGroup.onEntryFocus",CA={bubbles:!1,cancelable:!0},ha="RovingFocusGroup",[xf,_b,kA]=G0(ha),[PA,Eb]=Do(ha,[kA]),[RA,TA]=PA(ha),Cb=p.forwardRef((e,t)=>h.jsx(xf.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(xf.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(jA,{...e,ref:t})})}));Cb.displayName=ha;var jA=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=p.useRef(null),m=mt(t,f),b=Q0(o),[g,w]=K0({prop:i,defaultProp:a??null,onChange:l,caller:ha}),[y,v]=p.useState(!1),x=hn(c),S=_b(n),E=p.useRef(!1),[C,k]=p.useState(0);return p.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(Fu,x),()=>R.removeEventListener(Fu,x)},[x]),h.jsx(RA,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(R=>w(R),[w]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>k(R=>R-1),[]),children:h.jsx(Ie.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{E.current=!0}),onFocus:Z(e.onFocus,R=>{const I=!E.current;if(R.target===R.currentTarget&&I&&!y){const A=new CustomEvent(Fu,CA);if(R.currentTarget.dispatchEvent(A),!A.defaultPrevented){const B=S().filter(H=>H.focusable),D=B.find(H=>H.active),F=B.find(H=>H.id===g),te=[D,F,...B].filter(Boolean).map(H=>H.ref.current);Rb(te,u)}}E.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),kb="RovingFocusGroupItem",Pb=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=yf(),c=o||l,u=TA(kb,n),d=u.currentTabStopId===c,f=_b(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:g}=u;return p.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),h.jsx(xf.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:h.jsx(Ie.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=IA(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=f().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const S=x.indexOf(w.currentTarget);x=u.loop?NA(x,S+1):x.slice(S+1)}setTimeout(()=>Rb(x))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:g!=null}):i})})});Pb.displayName=kb;var AA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IA(e,t,n){const r=OA(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return AA[r]}function Rb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function NA(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MA=Cb,LA=Pb,DA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ks=new WeakMap,Va=new WeakMap,Ka={},$u=0,Tb=function(e){return e&&(e.host||Tb(e.parentNode))},FA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Tb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$A=function(e,t,n,r){var s=FA(t,Array.isArray(e)?e:[e]);Ka[n]||(Ka[n]=new WeakMap);var o=Ka[n],i=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var m=f.getAttribute(r),b=m!==null&&m!=="false",g=(ks.get(f)||0)+1,w=(o.get(f)||0)+1;ks.set(f,g),o.set(f,w),i.push(f),g===1&&b&&Va.set(f,!0),w===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),$u++,function(){i.forEach(function(d){var f=ks.get(d)-1,m=o.get(d)-1;ks.set(d,f),o.set(d,m),f||(Va.has(d)||d.removeAttribute(r),Va.delete(d)),m||d.removeAttribute(n)}),$u--,$u||(ks=new WeakMap,ks=new WeakMap,Va=new WeakMap,Ka={})}},UA=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=DA(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),$A(r,s,n,"aria-hidden")):function(){return null}},on=function(){return on=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},on.apply(this,arguments)};function jb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function zA(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var gl="right-scroll-bar-position",yl="width-before-scroll-bar",BA="with-scroll-bars-hidden",qA="--removed-body-scroll-bar-size";function Uu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WA(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var HA=typeof window<"u"?p.useLayoutEffect:p.useEffect,Og=new WeakMap;function VA(e,t){var n=WA(null,function(r){return e.forEach(function(s){return Uu(s,r)})});return HA(function(){var r=Og.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Uu(a,null)}),o.forEach(function(a){s.has(a)||Uu(a,i)})}Og.set(n,e)},[e]),n}function KA(e){return e}function GA(e,t){t===void 0&&(t=KA);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return s}function QA(e){e===void 0&&(e={});var t=GA(null);return t.options=on({async:!0,ssr:!1},e),t}var Ab=function(e){var t=e.sideCar,n=jb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,on({},n))};Ab.isSideCarExport=!0;function JA(e,t){return e.useMedium(t),Ab}var Ob=QA(),zu=function(){},Lc=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:zu,onWheelCapture:zu,onTouchMoveCapture:zu}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,m=e.noRelative,b=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,x=e.gapMode,S=jb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,C=VA([n,t]),k=on(on({},S),s);return p.createElement(p.Fragment,null,u&&p.createElement(E,{sideCar:Ob,removeScrollBar:c,shards:d,noRelative:m,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:x}),i?p.cloneElement(p.Children.only(a),on(on({},k),{ref:C})):p.createElement(v,on({},k,{className:l,ref:C}),a))});Lc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lc.classNames={fullWidth:yl,zeroRight:gl};var XA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XA();return t&&e.setAttribute("nonce",t),e}function ZA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=YA())&&(ZA(t,n),eO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nO=function(){var e=tO();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ib=function(){var e=nO(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},rO={left:0,top:0,right:0,gap:0},Bu=function(e){return parseInt(e||"",10)||0},sO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bu(n),Bu(r),Bu(s)]},oO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rO;var t=sO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},iO=Ib(),to="data-scroll-locked",aO=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(BA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(to,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yl," .").concat(yl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(to,`] {
    `).concat(qA,": ").concat(a,`px;
  }
`)},Ig=function(){var e=parseInt(document.body.getAttribute(to)||"0",10);return isFinite(e)?e:0},lO=function(){p.useEffect(function(){return document.body.setAttribute(to,(Ig()+1).toString()),function(){var e=Ig()-1;e<=0?document.body.removeAttribute(to):document.body.setAttribute(to,e.toString())}},[])},cO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;lO();var o=p.useMemo(function(){return oO(s)},[s]);return p.createElement(iO,{styles:aO(o,!t,s,n?"":"!important")})},Sf=!1;if(typeof window<"u")try{var Ga=Object.defineProperty({},"passive",{get:function(){return Sf=!0,!0}});window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Sf=!1}var Ps=Sf?{passive:!1}:!1,uO=function(e){return e.tagName==="TEXTAREA"},Nb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uO(e)&&n[t]==="visible")},dO=function(e){return Nb(e,"overflowY")},fO=function(e){return Nb(e,"overflowX")},Ng=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Mb(e,r);if(s){var o=Lb(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},pO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Mb=function(e,t){return e==="v"?dO(t):fO(t)},Lb=function(e,t){return e==="v"?hO(t):pO(t)},mO=function(e,t){return e==="h"&&t==="rtl"?-1:1},gO=function(e,t,n,r,s){var o=mO(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,u=i>0,d=0,f=0;do{if(!a)break;var m=Lb(e,a),b=m[0],g=m[1],w=m[2],y=g-w-o*b;(b||y)&&Mb(e,a)&&(d+=y,f+=b);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Qa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Mg=function(e){return[e.deltaX,e.deltaY]},Lg=function(e){return e&&"current"in e?e.current:e},yO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wO=0,Rs=[];function bO(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(wO++)[0],o=p.useState(Ib)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=zA([e.lockRef.current],(e.shards||[]).map(Lg),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Qa(g),v=n.current,x="deltaX"in g?g.deltaX:v[0]-y[0],S="deltaY"in g?g.deltaY:v[1]-y[1],E,C=g.target,k=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&k==="h"&&C.type==="range")return!1;var R=Ng(k,C);if(!R)return!0;if(R?E=k:(E=k==="v"?"h":"v",R=Ng(k,C)),!R)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=E),!E)return!0;var I=r.current||E;return gO(I,w,g,I==="h"?x:S)},[]),l=p.useCallback(function(g){var w=g;if(!(!Rs.length||Rs[Rs.length-1]!==o)){var y="deltaY"in w?Mg(w):Qa(w),v=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&yO(E.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(Lg).filter(Boolean).filter(function(E){return E.contains(w.target)}),S=x.length>0?a(w,x[0]):!i.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=p.useCallback(function(g,w,y,v){var x={name:g,delta:w,target:y,should:v,shadowParent:xO(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),u=p.useCallback(function(g){n.current=Qa(g),r.current=void 0},[]),d=p.useCallback(function(g){c(g.type,Mg(g),g.target,a(g,e.lockRef.current))},[]),f=p.useCallback(function(g){c(g.type,Qa(g),g.target,a(g,e.lockRef.current))},[]);p.useEffect(function(){return Rs.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ps),document.addEventListener("touchmove",l,Ps),document.addEventListener("touchstart",u,Ps),function(){Rs=Rs.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Ps),document.removeEventListener("touchmove",l,Ps),document.removeEventListener("touchstart",u,Ps)}},[]);var m=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(o,{styles:vO(s)}):null,m?p.createElement(cO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SO=JA(Ob,bO);var Db=p.forwardRef(function(e,t){return p.createElement(Lc,on({},e,{ref:t,sideCar:SO}))});Db.classNames=Lc.classNames;var _f=["Enter"," "],_O=["ArrowDown","PageUp","Home"],Fb=["ArrowUp","PageDown","End"],EO=[..._O,...Fb],CO={ltr:[..._f,"ArrowRight"],rtl:[..._f,"ArrowLeft"]},kO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pa="Menu",[Ji,PO,RO]=G0(pa),[ws,$b]=Do(pa,[RO,hb,Eb]),Dc=hb(),Ub=Eb(),[TO,bs]=ws(pa),[jO,ma]=ws(pa),zb=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=Dc(t),[l,c]=p.useState(null),u=p.useRef(!1),d=hn(o),f=Q0(s);return p.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),h.jsx(yA,{...a,children:h.jsx(TO,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:h.jsx(jO,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:i,children:r})})})};zb.displayName=pa;var AO="MenuAnchor",op=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Dc(n);return h.jsx(vA,{...s,...r,ref:t})});op.displayName=AO;var ip="MenuPortal",[OO,Bb]=ws(ip,{forceMount:void 0}),qb=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=bs(ip,t);return h.jsx(OO,{scope:t,forceMount:n,children:h.jsx(fa,{present:n||o.open,children:h.jsx(Sb,{asChild:!0,container:s,children:r})})})};qb.displayName=ip;var Ot="MenuContent",[IO,ap]=ws(Ot),Wb=p.forwardRef((e,t)=>{const n=Bb(Ot,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=bs(Ot,e.__scopeMenu),i=ma(Ot,e.__scopeMenu);return h.jsx(Ji.Provider,{scope:e.__scopeMenu,children:h.jsx(fa,{present:r||o.open,children:h.jsx(Ji.Slot,{scope:e.__scopeMenu,children:i.modal?h.jsx(NO,{...s,ref:t}):h.jsx(MO,{...s,ref:t})})})})}),NO=p.forwardRef((e,t)=>{const n=bs(Ot,e.__scopeMenu),r=p.useRef(null),s=mt(t,r);return p.useEffect(()=>{const o=r.current;if(o)return UA(o)},[]),h.jsx(lp,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),MO=p.forwardRef((e,t)=>{const n=bs(Ot,e.__scopeMenu);return h.jsx(lp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),LO=Ki("MenuContent.ScrollLock"),lp=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:m,disableOutsideScroll:b,...g}=e,w=bs(Ot,n),y=ma(Ot,n),v=Dc(n),x=Ub(n),S=PO(n),[E,C]=p.useState(null),k=p.useRef(null),R=mt(t,k,w.onContentChange),I=p.useRef(0),A=p.useRef(""),B=p.useRef(0),D=p.useRef(null),F=p.useRef("right"),$=p.useRef(0),te=b?Db:p.Fragment,H=b?{as:LO,allowPinchZoom:!0}:void 0,ie=j=>{var rt,Bo;const L=A.current+j,q=S().filter(Ct=>!Ct.disabled),se=document.activeElement,Xt=(rt=q.find(Ct=>Ct.ref.current===se))==null?void 0:rt.textValue,gt=q.map(Ct=>Ct.textValue),zn=GO(gt,L,Xt),Ve=(Bo=q.find(Ct=>Ct.textValue===zn))==null?void 0:Bo.ref.current;(function Ct(qo){A.current=qo,window.clearTimeout(I.current),qo!==""&&(I.current=window.setTimeout(()=>Ct(""),1e3))})(L),Ve&&setTimeout(()=>Ve.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),ZT();const T=p.useCallback(j=>{var q,se;return F.current===((q=D.current)==null?void 0:q.side)&&JO(j,(se=D.current)==null?void 0:se.area)},[]);return h.jsx(IO,{scope:n,searchRef:A,onItemEnter:p.useCallback(j=>{T(j)&&j.preventDefault()},[T]),onItemLeave:p.useCallback(j=>{var L;T(j)||((L=k.current)==null||L.focus(),C(null))},[T]),onTriggerLeave:p.useCallback(j=>{T(j)&&j.preventDefault()},[T]),pointerGraceTimerRef:B,onPointerGraceIntentChange:p.useCallback(j=>{D.current=j},[]),children:h.jsx(te,{...H,children:h.jsx(Z0,{asChild:!0,trapped:s,onMountAutoFocus:Z(o,j=>{var L;j.preventDefault(),(L=k.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:h.jsx(X0,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:m,children:h.jsx(MA,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:Z(l,j=>{y.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(wA,{role:"menu","aria-orientation":"vertical","data-state":ix(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:Z(g.onKeyDown,j=>{const q=j.target.closest("[data-radix-menu-content]")===j.currentTarget,se=j.ctrlKey||j.altKey||j.metaKey,Xt=j.key.length===1;q&&(j.key==="Tab"&&j.preventDefault(),!se&&Xt&&ie(j.key));const gt=k.current;if(j.target!==gt||!EO.includes(j.key))return;j.preventDefault();const Ve=S().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);Fb.includes(j.key)&&Ve.reverse(),VO(Ve)}),onBlur:Z(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(I.current),A.current="")}),onPointerMove:Z(e.onPointerMove,Xi(j=>{const L=j.target,q=$.current!==j.clientX;if(j.currentTarget.contains(L)&&q){const se=j.clientX>$.current?"right":"left";F.current=se,$.current=j.clientX}}))})})})})})})});Wb.displayName=Ot;var DO="MenuGroup",cp=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(Ie.div,{role:"group",...r,ref:t})});cp.displayName=DO;var FO="MenuLabel",Hb=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(Ie.div,{...r,ref:t})});Hb.displayName=FO;var nc="MenuItem",Dg="menu.itemSelect",Fc=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=p.useRef(null),i=ma(nc,e.__scopeMenu),a=ap(nc,e.__scopeMenu),l=mt(t,o),c=p.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(Dg,{bubbles:!0,cancelable:!0});d.addEventListener(Dg,m=>r==null?void 0:r(m),{once:!0}),C0(d,f),f.defaultPrevented?c.current=!1:i.onClose()}};return h.jsx(Vb,{...s,ref:l,disabled:n,onClick:Z(e.onClick,u),onPointerDown:d=>{var f;(f=e.onPointerDown)==null||f.call(e,d),c.current=!0},onPointerUp:Z(e.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:Z(e.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||_f.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Fc.displayName=nc;var Vb=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=ap(nc,n),a=Ub(n),l=p.useRef(null),c=mt(t,l),[u,d]=p.useState(!1),[f,m]=p.useState("");return p.useEffect(()=>{const b=l.current;b&&m((b.textContent??"").trim())},[o.children]),h.jsx(Ji.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:h.jsx(LA,{asChild:!0,...a,focusable:!r,children:h.jsx(Ie.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:Z(e.onPointerMove,Xi(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Xi(b=>i.onItemLeave(b))),onFocus:Z(e.onFocus,()=>d(!0)),onBlur:Z(e.onBlur,()=>d(!1))})})})}),$O="MenuCheckboxItem",Kb=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return h.jsx(Yb,{scope:e.__scopeMenu,checked:n,children:h.jsx(Fc,{role:"menuitemcheckbox","aria-checked":rc(n)?"mixed":n,...s,ref:t,"data-state":dp(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(rc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Kb.displayName=$O;var Gb="MenuRadioGroup",[UO,zO]=ws(Gb,{value:void 0,onValueChange:()=>{}}),Qb=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=hn(r);return h.jsx(UO,{scope:e.__scopeMenu,value:n,onValueChange:o,children:h.jsx(cp,{...s,ref:t})})});Qb.displayName=Gb;var Jb="MenuRadioItem",Xb=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=zO(Jb,e.__scopeMenu),o=n===s.value;return h.jsx(Yb,{scope:e.__scopeMenu,checked:o,children:h.jsx(Fc,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":dp(o),onSelect:Z(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});Xb.displayName=Jb;var up="MenuItemIndicator",[Yb,BO]=ws(up,{checked:!1}),Zb=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=BO(up,n);return h.jsx(fa,{present:r||rc(o.checked)||o.checked===!0,children:h.jsx(Ie.span,{...s,ref:t,"data-state":dp(o.checked)})})});Zb.displayName=up;var qO="MenuSeparator",ex=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ex.displayName=qO;var WO="MenuArrow",tx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Dc(n);return h.jsx(bA,{...s,...r,ref:t})});tx.displayName=WO;var HO="MenuSub",[cD,nx]=ws(HO),di="MenuSubTrigger",rx=p.forwardRef((e,t)=>{const n=bs(di,e.__scopeMenu),r=ma(di,e.__scopeMenu),s=nx(di,e.__scopeMenu),o=ap(di,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),h.jsx(op,{asChild:!0,...c,children:h.jsx(Vb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":ix(n.open),...e,ref:Oc(t,s.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Xi(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(e.onPointerLeave,Xi(d=>{var m,b;u();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(b=n.content)==null?void 0:b.dataset.side,w=g==="right",y=w?-5:5,v=f[w?"left":"right"],x=f[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:v,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,d=>{var m;const f=o.searchRef.current!=="";e.disabled||f&&d.key===" "||CO[r.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});rx.displayName=di;var sx="MenuSubContent",ox=p.forwardRef((e,t)=>{const n=Bb(Ot,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=bs(Ot,e.__scopeMenu),i=ma(Ot,e.__scopeMenu),a=nx(sx,e.__scopeMenu),l=p.useRef(null),c=mt(t,l);return h.jsx(Ji.Provider,{scope:e.__scopeMenu,children:h.jsx(fa,{present:r||o.open,children:h.jsx(Ji.Slot,{scope:e.__scopeMenu,children:h.jsx(lp,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Z(e.onKeyDown,u=>{var m;const d=u.currentTarget.contains(u.target),f=kO[i.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});ox.displayName=sx;function ix(e){return e?"open":"closed"}function rc(e){return e==="indeterminate"}function dp(e){return rc(e)?"indeterminate":e?"checked":"unchecked"}function VO(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function KO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function GO(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=KO(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function QO(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(s=!s)}return s}function JO(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return QO(n,t)}function Xi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XO=zb,YO=op,ZO=qb,eI=Wb,tI=cp,nI=Hb,rI=Fc,sI=Kb,oI=Qb,iI=Xb,aI=Zb,lI=ex,cI=tx,uI=rx,dI=ox,$c="DropdownMenu",[fI,uD]=Do($c,[$b]),nt=$b(),[hI,ax]=fI($c),lx=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=nt(t),c=p.useRef(null),[u,d]=K0({prop:s,defaultProp:o??!1,onChange:i,caller:$c});return h.jsx(hI,{scope:t,triggerId:yf(),triggerRef:c,contentId:yf(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:h.jsx(XO,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};lx.displayName=$c;var cx="DropdownMenuTrigger",ux=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=ax(cx,n),i=nt(n);return h.jsx(YO,{asChild:!0,...i,children:h.jsx(Ie.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Oc(t,o.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});ux.displayName=cx;var pI="DropdownMenuPortal",dx=e=>{const{__scopeDropdownMenu:t,...n}=e,r=nt(t);return h.jsx(ZO,{...r,...n})};dx.displayName=pI;var fx="DropdownMenuContent",hx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ax(fx,n),o=nt(n),i=p.useRef(!1);return h.jsx(eI,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hx.displayName=fx;var mI="DropdownMenuGroup",gI=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(tI,{...s,...r,ref:t})});gI.displayName=mI;var yI="DropdownMenuLabel",px=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(nI,{...s,...r,ref:t})});px.displayName=yI;var vI="DropdownMenuItem",mx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(rI,{...s,...r,ref:t})});mx.displayName=vI;var wI="DropdownMenuCheckboxItem",gx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(sI,{...s,...r,ref:t})});gx.displayName=wI;var bI="DropdownMenuRadioGroup",xI=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(oI,{...s,...r,ref:t})});xI.displayName=bI;var SI="DropdownMenuRadioItem",yx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(iI,{...s,...r,ref:t})});yx.displayName=SI;var _I="DropdownMenuItemIndicator",vx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(aI,{...s,...r,ref:t})});vx.displayName=_I;var EI="DropdownMenuSeparator",wx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(lI,{...s,...r,ref:t})});wx.displayName=EI;var CI="DropdownMenuArrow",kI=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(cI,{...s,...r,ref:t})});kI.displayName=CI;var PI="DropdownMenuSubTrigger",bx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(uI,{...s,...r,ref:t})});bx.displayName=PI;var RI="DropdownMenuSubContent",xx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nt(n);return h.jsx(dI,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xx.displayName=RI;var TI=lx,jI=ux,AI=dx,Sx=hx,_x=px,Ex=mx,Cx=gx,kx=yx,Px=vx,Rx=wx,Tx=bx,jx=xx;const Fg=TI,$g=jI,OI=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>h.jsxs(Tx,{ref:s,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,h.jsx(YR,{className:"ml-auto h-4 w-4"})]}));OI.displayName=Tx.displayName;const II=p.forwardRef(({className:e,...t},n)=>h.jsx(jx,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));II.displayName=jx.displayName;const Ef=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>h.jsx(AI,{children:h.jsx(Sx,{ref:r,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ef.displayName=Sx.displayName;const fi=p.forwardRef(({className:e,inset:t,...n},r)=>h.jsx(Ex,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));fi.displayName=Ex.displayName;const NI=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>h.jsxs(Cx,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Px,{children:h.jsx(XR,{className:"h-4 w-4"})})}),t]}));NI.displayName=Cx.displayName;const MI=p.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(kx,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Px,{children:h.jsx(eT,{className:"h-2 w-2 fill-current"})})}),t]}));MI.displayName=kx.displayName;const Cf=p.forwardRef(({className:e,inset:t,...n},r)=>h.jsx(_x,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Cf.displayName=_x.displayName;const kf=p.forwardRef(({className:e,...t},n)=>h.jsx(Rx,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));kf.displayName=Rx.displayName;function dn({table:e,queryKeys:t,events:n=["INSERT","UPDATE","DELETE"],onInsert:r,onUpdate:s,onDelete:o}){var l;const i=No(),a=p.useRef(null);return p.useEffect(()=>{const c=`realtime-${e}-${Date.now()}`;console.log(`Setting up real-time subscription for table: ${e}`);const u=W.channel(c).on("postgres_changes",{event:"*",schema:"public",table:e},d=>{switch(console.log(`Real-time event for ${e}:`,d),t.forEach(f=>{i.invalidateQueries({queryKey:f})}),d.eventType){case"INSERT":r==null||r(d);break;case"UPDATE":s==null||s(d);break;case"DELETE":o==null||o(d);break}}).subscribe(d=>{console.log(`Real-time subscription status for ${e}:`,d)});return a.current=u,()=>{console.log(`Cleaning up real-time subscription for table: ${e}`),a.current&&(W.removeChannel(a.current),a.current=null)}},[e,i,r,s,o]),{isConnected:((l=a.current)==null?void 0:l.state)==="joined"}}function LI(){const{data:e,isLoading:t,error:n}=Ln({queryKey:["userProfile"],queryFn:()=>wP.getUserProfile(),staleTime:3e5});return dn({table:"user_profiles",queryKeys:[["userProfile"]]}),{userProfile:e,isLoading:t,error:n}}const DI={admin:["read","create","update","delete","manage_users","view_reports","manage_projects","manage_subcontractors","manage_trades","manage_responsibilities","manage_subcontracts"],procurement_manager:["read","create","update","delete","view_reports","manage_projects","manage_subcontractors","manage_trades","manage_responsibilities","manage_subcontracts"],procurement_engineer:["read","create","update","delete","view_reports","manage_subcontractors","manage_trades","manage_responsibilities","manage_subcontracts"],viewer:["read","view_reports"]};function FI(){const{profile:e}=Ac(),t=(e==null?void 0:e.role)||"viewer",n=DI[t]||[],r=l=>n.includes(l),s=r("manage_users"),o=r("update")||r("create"),i=r("delete"),a=r("view_reports");return{userRole:t,userPermissions:n,hasPermission:r,canManageUsers:s,canModify:o,canDelete:i,canViewReports:a}}function Wr({className:e,...t}){return h.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const Ke={DASHBOARD:"/dashboard",PROJECTS:"/projects",SUBCONTRACTORS:"/subcontractors",TRADES:"/trades",RESPONSIBILITIES:"/responsibilities",SUBCONTRACTS:"/subcontracts",ALERTS:"/alerts",REPORT:"/report",RATE_ESTIMATOR:"/rate-estimator",USERS:"/users",ROLE_MANAGEMENT:"/admin/roles",PROFILE:"/profile",ACTIVITY_LOG:"/admin/activity-log"},$I=Gh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pf({className:e,variant:t,...n}){return h.jsx("div",{className:re($I({variant:t}),e),...n})}class yn{constructor(t){vn(this,"tableName");this.tableName=t}async getAll(){const{data:t,error:n}=await W.from(this.tableName).select("*").order("created_at",{ascending:!1});if(n)throw n;return t}async getById(t){const{data:n,error:r}=await W.from(this.tableName).select("*").eq("id",t).single();if(r)throw r;return n}async create(t){const{data:n,error:r}=await W.from(this.tableName).insert(t).select().single();if(r)throw r;return n}async update(t,n){const{data:r,error:s}=await W.from(this.tableName).update({...n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return r}async delete(t){const{error:n}=await W.from(this.tableName).delete().eq("id",t);if(n)throw n}}class UI extends yn{constructor(){super("alerts")}async getAlerts(){const{data:t,error:n}=await W.from("alerts").select("*").order("created_at",{ascending:!1});if(n)throw n;return t||[]}async getWithDetails(){const{data:t,error:n}=await W.from("alerts").select(`
        *,
        projects(name, code),
        subcontractors(company_name, representative_name)
      `).eq("is_dismissed",!1).order("created_at",{ascending:!1});if(n)throw n;return t}async markAsRead(t){const{error:n}=await W.from("alerts").update({is_read:!0}).eq("id",t);if(n)throw n}async markAsDismissed(t){const{error:n}=await W.from("alerts").update({is_dismissed:!0}).eq("id",t);if(n)throw n}async dismissAlert(t){const{error:n}=await W.from("alerts").update({is_dismissed:!0}).eq("id",t);if(n)throw n}async getUnreadCount(){const{count:t,error:n}=await W.from("alerts").select("*",{count:"exact",head:!0}).eq("is_read",!1).eq("is_dismissed",!1);if(n)throw n;return t||0}async sendEmailNotification(t){var n,r;try{console.log("Sending email notification for alert:",t.id);const[s,o]=await Promise.all([t.project_id?W.from("projects").select("name").eq("id",t.project_id).single():{data:null},t.subcontractor_id?W.from("subcontractors").select("company_name").eq("id",t.subcontractor_id).single():{data:null}]);console.log("Project data:",s.data),console.log("Subcontractor data:",o.data);const{data:i,error:a}=await W.functions.invoke("send-alert-notification",{body:{alertId:t.id,type:t.type,title:t.title,message:t.message,totalAmount:t.total_amount,thresholdAmount:t.threshold_amount,projectName:(n=s.data)==null?void 0:n.name,subcontractorName:(r=o.data)==null?void 0:r.company_name}});if(a)throw console.error("Failed to send alert notification:",a),a;console.log("Email notification sent successfully:",i)}catch(s){console.error("Error sending email notification:",s)}}async createWithNotification(t){console.log("Creating alert with notification:",t);const{data:n,error:r}=await W.from("alerts").insert(t).select().single();if(r)throw r;return console.log("Alert created:",n),this.sendEmailNotification(n),n}}const Ja=new UI;function zI(){const{toast:e}=mn(),t=No(),{data:n=[],isLoading:r}=Ln({queryKey:["alerts"],queryFn:()=>Ja.getWithDetails(),staleTime:0}),{data:s=0}=Ln({queryKey:["alerts","unread-count"],queryFn:()=>Ja.getUnreadCount(),staleTime:0});dn({table:"alerts",queryKeys:[["alerts"],["alerts","unread-count"]]});const o=df({mutationFn:a=>Ja.markAsRead(a),onSuccess:()=>{t.invalidateQueries({queryKey:["alerts"]}),t.invalidateQueries({queryKey:["alerts","unread-count"]})},onError:a=>{e({title:"Error",description:"Failed to mark alert as read",variant:"destructive"})}}),i=df({mutationFn:a=>Ja.markAsDismissed(a),onSuccess:()=>{t.invalidateQueries({queryKey:["alerts"]}),t.invalidateQueries({queryKey:["alerts","unread-count"]}),e({title:"Alert dismissed"})},onError:a=>{e({title:"Error",description:"Failed to dismiss alert",variant:"destructive"})}});return{alerts:n,unreadCount:s,isLoading:r,markAsRead:o.mutate,markAsDismissed:i.mutate}}function BI(){const{unreadCount:e}=zI(),t=Or(),n=()=>{t("/alerts")};return h.jsxs(fn,{variant:"ghost",size:"sm",className:"relative",onClick:n,children:[h.jsx(T0,{className:"h-5 w-5"}),e>0&&h.jsx(Pf,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:e>99?"99+":e})]})}function qI(){const[e,t]=p.useState(!1),[n,r]=p.useState("CLOSED");return p.useEffect(()=>{let s;return(()=>{s=W.channel("realtime-status").subscribe(i=>{console.log("Real-time connection status:",i),r(i),t(i==="SUBSCRIBED")})})(),()=>{s&&W.removeChannel(s)}},[]),!e&&n!=="CLOSED"?h.jsx(Pf,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Connecting..."}):h.jsx(Pf,{variant:e?"default":"destructive",className:e?"bg-green-100 text-green-800 border-green-200":"",children:e?"Live Updates Active":"Offline"})}function ke({children:e}){var m,b;const{signOut:t}=Ac(),{pathname:n}=gs(),r=Or(),[s,o]=p.useState(!0),{userProfile:i,isLoading:a}=LI(),{canManageUsers:l,hasPermission:c}=FI(),u=async()=>{await t(),r("/login")},d=()=>{o(!s)},f=[{to:Ke.DASHBOARD,label:"Dashboard",icon:j0},{to:Ke.PROJECTS,label:"Projects",icon:rT,permission:"manage_projects"},{to:Ke.SUBCONTRACTORS,label:"Subcontractors",icon:uT,permission:"manage_subcontractors"},{to:Ke.TRADES,label:"Trades",icon:dT,permission:"manage_trades"},{to:Ke.RESPONSIBILITIES,label:"Responsibilities",icon:tT,permission:"manage_responsibilities"},{to:Ke.SUBCONTRACTS,label:"Subcontracts",icon:nT,permission:"manage_subcontracts"},{to:Ke.ALERTS,label:"Alerts",icon:T0},{to:Ke.REPORT,label:"Reports",icon:JR,permission:"view_reports"},{to:Ke.RATE_ESTIMATOR,label:"AI Rate Estimator",icon:QR},...l?[{to:Ke.USERS,label:"Users",icon:cT,permission:"manage_users"},{to:Ke.ROLE_MANAGEMENT,label:"Role Management",icon:aT,permission:"manage_users"},{to:Ke.ACTIVITY_LOG,label:"Activity Log",icon:sT,permission:"manage_users"}]:[]].filter(g=>!g.permission||c(g.permission));return h.jsxs("div",{className:"flex flex-col bg-gray-100  h-screen",children:[h.jsxs("div",{className:"flex flex-1 h-80vh overflow-hidden",children:[h.jsx("div",{className:`${s?"w-64 lg:w-80":"w-16"} flex-shrink-0 bg-gray-50 border-r border-gray-200 transition-all duration-300`,children:h.jsxs("div",{className:"h-full px-4 py-6 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s&&h.jsx(Vl,{to:"/",className:"text-2xl font-bold text-primary",children:"Wet Trades"}),h.jsx(fn,{variant:"ghost",size:"sm",onClick:d,className:"ml-auto",children:s?h.jsx(fT,{className:"h-4 w-4"}):h.jsx(oT,{className:"h-4 w-4"})})]}),h.jsx("nav",{className:"flex flex-col space-y-2 flex-1",children:f.map(g=>{const w=g.icon,y=n===g.to||g.to!==Ke.DASHBOARD&&n.startsWith(g.to);return h.jsxs(Vl,{to:g.to,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors hover:bg-gray-100 ${y?"bg-gray-100 text-foreground":"text-muted-foreground"}`,title:s?void 0:g.label,children:[h.jsx(w,{className:"h-4 w-4 flex-shrink-0"}),s&&h.jsx("span",{className:"ml-3",children:g.label})]},g.to)})}),h.jsx("div",{className:"mt-auto",children:h.jsxs(Fg,{children:[h.jsx($g,{asChild:!0,children:h.jsxs("button",{className:`group flex items-center w-full rounded-md px-4 py-2 text-sm font-medium hover:bg-gray-100 transition-colors ${s?"":"justify-center"}`,children:[h.jsxs(hf,{className:"h-8 w-8 flex-shrink-0",children:[h.jsx(pf,{src:(i==null?void 0:i.avatar_url)||""}),h.jsx(mf,{children:a?h.jsx(Wr,{className:"h-8 w-8 rounded-full"}):(((m=i==null?void 0:i.full_name)==null?void 0:m.charAt(0))||"U").toUpperCase()})]}),s&&h.jsx("span",{className:"ml-3 flex-1 text-left",children:a?h.jsx(Wr,{className:"h-4 w-20"}):(i==null?void 0:i.full_name)||"User"})]})}),h.jsxs(Ef,{className:"w-56",align:"end",forceMount:!0,children:[h.jsx(Cf,{children:"My Account"}),h.jsx(kf,{}),h.jsx(fi,{onClick:()=>r(Ke.PROFILE),children:"Profile"}),h.jsx(fi,{onClick:u,children:"Sign Out"})]})]})})]})}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs("header",{className:"h-16 px-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsx("div",{})," ",h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(qI,{}),h.jsx(BI,{}),h.jsxs(Fg,{children:[h.jsx($g,{asChild:!0,children:h.jsxs("button",{className:"group flex items-center rounded-md px-4 py-2 text-sm font-medium hover:bg-gray-100 transition-colors",children:[h.jsxs(hf,{className:"mr-2 h-8 w-8",children:[h.jsx(pf,{src:(i==null?void 0:i.avatar_url)||""}),h.jsx(mf,{children:a?h.jsx(Wr,{className:"h-8 w-8 rounded-full"}):(((b=i==null?void 0:i.full_name)==null?void 0:b.charAt(0))||"U").toUpperCase()})]}),h.jsx("span",{className:"text-left",children:a?h.jsx(Wr,{className:"h-4 w-20"}):(i==null?void 0:i.full_name)||"User"})]})}),h.jsxs(Ef,{className:"w-56",align:"end",forceMount:!0,children:[h.jsx(Cf,{children:"My Account"}),h.jsx(kf,{}),h.jsx(fi,{onClick:()=>r(Ke.PROFILE),children:"Profile"}),h.jsx(fi,{onClick:u,children:"Sign Out"})]})]})]})]}),h.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]}),h.jsxs("footer",{className:"h-12 w-full border-t py-4 text-left my-auto text-sm text-gray-500 bg-white",children:[" ",new Date().getFullYear()," Developed by"," ",h.jsx("span",{className:"font-semibold text-gray-700",children:"Eng. Mostafa Ashraf"})]})]})}class WI extends yn{constructor(){super("projects")}}const Xa=new WI;class HI extends yn{constructor(){super("subcontractors")}}const Ya=new HI;class VI extends yn{constructor(){super("trades")}}const ni=new VI;class KI extends yn{constructor(){super("trade_items")}async getByTradeId(t){const{data:n,error:r}=await W.from("trade_items").select("*").eq("trade_id",t).order("created_at",{ascending:!1});if(r)throw r;return n}}const ri=new KI;class GI extends yn{constructor(){super("subcontracts")}async getWithDetails(t){const{data:n,error:r}=await W.from("subcontracts").select(`
        *,
        projects(name, code),
        subcontractors(name, contact_person)
      `).eq("id",t).single();if(r)throw r;return n}async getWithTradeItems(){const{data:t,error:n}=await W.from("subcontracts").select("*").order("created_at",{ascending:!1});if(n)throw n;return await Promise.all(t.map(async s=>{const o=await Co.getBySubcontractId(s.id),i=await ko.getBySubcontractId(s.id);return{...s,tradeItems:o,responsibilities:i}}))}}const ga=new GI;class QI extends yn{constructor(){super("subcontract_trade_items")}async getBySubcontractId(t){const{data:n,error:r}=await W.from("subcontract_trade_items").select(`
        *,
        trade_items(*, trades(*))
      `).eq("subcontract_id",t);if(r)throw r;return n}async createMany(t){const{data:n,error:r}=await W.from("subcontract_trade_items").insert(t).select();if(r)throw r;return n}async deleteBySubcontractId(t){const{error:n}=await W.from("subcontract_trade_items").delete().eq("subcontract_id",t);if(n)throw n}}const Co=new QI;class JI extends yn{constructor(){super("subcontract_responsibilities")}async getBySubcontractId(t){const{data:n,error:r}=await W.from("subcontract_responsibilities").select(`
        *,
        responsibilities(*)
      `).eq("subcontract_id",t);if(r)throw r;return n}async deleteBySubcontractId(t){const{error:n}=await W.from("subcontract_responsibilities").delete().eq("subcontract_id",t);if(n)throw n}async createMany(t){const{data:n,error:r}=await W.from("subcontract_responsibilities").insert(t).select();if(r)throw r;return n}}const ko=new JI;class XI extends yn{constructor(){super("responsibilities")}}const Za=new XI;class YI extends yn{constructor(){super("user_profiles")}}new YI;function Ax(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZI}=Object.prototype,{getPrototypeOf:fp}=Object,{iterator:Uc,toStringTag:Ox}=Symbol,zc=(e=>t=>{const n=ZI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jt=e=>(e=e.toLowerCase(),t=>zc(t)===e),Bc=e=>t=>typeof t===e,{isArray:Uo}=Array,Yi=Bc("undefined");function eN(e){return e!==null&&!Yi(e)&&e.constructor!==null&&!Yi(e.constructor)&&ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ix=Jt("ArrayBuffer");function tN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ix(e.buffer),t}const nN=Bc("string"),ht=Bc("function"),Nx=Bc("number"),qc=e=>e!==null&&typeof e=="object",rN=e=>e===!0||e===!1,vl=e=>{if(zc(e)!=="object")return!1;const t=fp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ox in e)&&!(Uc in e)},sN=Jt("Date"),oN=Jt("File"),iN=Jt("Blob"),aN=Jt("FileList"),lN=e=>qc(e)&&ht(e.pipe),cN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ht(e.append)&&((t=zc(e))==="formdata"||t==="object"&&ht(e.toString)&&e.toString()==="[object FormData]"))},uN=Jt("URLSearchParams"),[dN,fN,hN,pN]=["ReadableStream","Request","Response","Headers"].map(Jt),mN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ya(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Uo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function Mx(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lx=e=>!Yi(e)&&e!==Hr;function Rf(){const{caseless:e}=Lx(this)&&this||{},t={},n=(r,s)=>{const o=e&&Mx(t,s)||s;vl(t[o])&&vl(r)?t[o]=Rf(t[o],r):vl(r)?t[o]=Rf({},r):Uo(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ya(arguments[r],n);return t}const gN=(e,t,n,{allOwnKeys:r}={})=>(ya(t,(s,o)=>{n&&ht(s)?e[o]=Ax(s,n):e[o]=s},{allOwnKeys:r}),e),yN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vN=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},wN=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&fp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bN=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xN=e=>{if(!e)return null;if(Uo(e))return e;let t=e.length;if(!Nx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fp(Uint8Array)),_N=(e,t)=>{const r=(e&&e[Uc]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},EN=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},CN=Jt("HTMLFormElement"),kN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ug=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),PN=Jt("RegExp"),Dx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ya(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},RN=e=>{Dx(e,(t,n)=>{if(ht(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ht(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TN=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Uo(e)?r(e):r(String(e).split(t)),n},jN=()=>{},AN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ON(e){return!!(e&&ht(e.append)&&e[Ox]==="FormData"&&e[Uc])}const IN=e=>{const t=new Array(10),n=(r,s)=>{if(qc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=Uo(r)?[]:{};return ya(r,(i,a)=>{const l=n(i,s+1);!Yi(l)&&(o[a]=l)}),t[s]=void 0,o}}return r};return n(e,0)},NN=Jt("AsyncFunction"),MN=e=>e&&(qc(e)||ht(e))&&ht(e.then)&&ht(e.catch),Fx=((e,t)=>e?setImmediate:t?((n,r)=>(Hr.addEventListener("message",({source:s,data:o})=>{s===Hr&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Hr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ht(Hr.postMessage)),LN=typeof queueMicrotask<"u"?queueMicrotask.bind(Hr):typeof process<"u"&&process.nextTick||Fx,DN=e=>e!=null&&ht(e[Uc]),P={isArray:Uo,isArrayBuffer:Ix,isBuffer:eN,isFormData:cN,isArrayBufferView:tN,isString:nN,isNumber:Nx,isBoolean:rN,isObject:qc,isPlainObject:vl,isReadableStream:dN,isRequest:fN,isResponse:hN,isHeaders:pN,isUndefined:Yi,isDate:sN,isFile:oN,isBlob:iN,isRegExp:PN,isFunction:ht,isStream:lN,isURLSearchParams:uN,isTypedArray:SN,isFileList:aN,forEach:ya,merge:Rf,extend:gN,trim:mN,stripBOM:yN,inherits:vN,toFlatObject:wN,kindOf:zc,kindOfTest:Jt,endsWith:bN,toArray:xN,forEachEntry:_N,matchAll:EN,isHTMLForm:CN,hasOwnProperty:Ug,hasOwnProp:Ug,reduceDescriptors:Dx,freezeMethods:RN,toObjectSet:TN,toCamelCase:kN,noop:jN,toFiniteNumber:AN,findKey:Mx,global:Hr,isContextDefined:Lx,isSpecCompliantForm:ON,toJSONObject:IN,isAsyncFn:NN,isThenable:MN,setImmediate:Fx,asap:LN,isIterable:DN};function K(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}P.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const $x=K.prototype,Ux={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ux[e]={value:e}});Object.defineProperties(K,Ux);Object.defineProperty($x,"isAxiosError",{value:!0});K.from=(e,t,n,r,s,o)=>{const i=Object.create($x);return P.toFlatObject(e,i,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),K.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const FN=null;function Tf(e){return P.isPlainObject(e)||P.isArray(e)}function zx(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function zg(e,t,n){return e?e.concat(t).map(function(s,o){return s=zx(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function $N(e){return P.isArray(e)&&!e.some(Tf)}const UN=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Wc(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!P.isUndefined(w[g])});const r=n.metaTokens,s=n.visitor||u,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(P.isDate(b))return b.toISOString();if(P.isBoolean(b))return b.toString();if(!l&&P.isBlob(b))throw new K("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(b)||P.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,g,w){let y=b;if(b&&!w&&typeof b=="object"){if(P.endsWith(g,"{}"))g=r?g:g.slice(0,-2),b=JSON.stringify(b);else if(P.isArray(b)&&$N(b)||(P.isFileList(b)||P.endsWith(g,"[]"))&&(y=P.toArray(b)))return g=zx(g),y.forEach(function(x,S){!(P.isUndefined(x)||x===null)&&t.append(i===!0?zg([g],S,o):i===null?g:g+"[]",c(x))}),!1}return Tf(b)?!0:(t.append(zg(w,g,o),c(b)),!1)}const d=[],f=Object.assign(UN,{defaultVisitor:u,convertValue:c,isVisitable:Tf});function m(b,g){if(!P.isUndefined(b)){if(d.indexOf(b)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(b),P.forEach(b,function(y,v){(!(P.isUndefined(y)||y===null)&&s.call(t,y,P.isString(v)?v.trim():v,g,f))===!0&&m(y,g?g.concat(v):[v])}),d.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Bg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function hp(e,t){this._pairs=[],e&&Wc(e,this,t)}const Bx=hp.prototype;Bx.append=function(t,n){this._pairs.push([t,n])};Bx.toString=function(t){const n=t?function(r){return t.call(this,r,Bg)}:Bg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function zN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qx(e,t,n){if(!t)return e;const r=n&&n.encode||zN;P.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=P.isURLSearchParams(t)?t.toString():new hp(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class qg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Wx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BN=typeof URLSearchParams<"u"?URLSearchParams:hp,qN=typeof FormData<"u"?FormData:null,WN=typeof Blob<"u"?Blob:null,HN={isBrowser:!0,classes:{URLSearchParams:BN,FormData:qN,Blob:WN},protocols:["http","https","file","blob","url","data"]},pp=typeof window<"u"&&typeof document<"u",jf=typeof navigator=="object"&&navigator||void 0,VN=pp&&(!jf||["ReactNative","NativeScript","NS"].indexOf(jf.product)<0),KN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GN=pp&&window.location.href||"http://localhost",QN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pp,hasStandardBrowserEnv:VN,hasStandardBrowserWebWorkerEnv:KN,navigator:jf,origin:GN},Symbol.toStringTag,{value:"Module"})),We={...QN,...HN};function JN(e,t){return Wc(e,new We.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return We.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function XN(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YN(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function Hx(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&P.isArray(s)?s.length:i,l?(P.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!P.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&P.isArray(s[i])&&(s[i]=YN(s[i])),!a)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,s)=>{t(XN(r),s,n,0)}),n}return null}function ZN(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const va={transitional:Wx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=P.isObject(t);if(o&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return s?JSON.stringify(Hx(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return JN(t,this.formSerializer).toString();if((a=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wc(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),ZN(t)):t}],transformResponse:[function(t){const n=this.transitional||va.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{va.headers[e]={}});const eM=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tM=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&eM[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Wg=Symbol("internals");function si(e){return e&&String(e).trim().toLowerCase()}function wl(e){return e===!1||e==null?e:P.isArray(e)?e.map(wl):String(e)}function nM(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const rM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qu(e,t,n,r,s){if(P.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function sM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function oM(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let pt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,l,c){const u=si(l);if(!u)throw new Error("header name must be a non-empty string");const d=P.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=wl(a))}const i=(a,l)=>P.forEach(a,(c,u)=>o(c,u,l));if(P.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(P.isString(t)&&(t=t.trim())&&!rM(t))i(tM(t),n);else if(P.isObject(t)&&P.isIterable(t)){let a={},l,c;for(const u of t){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?P.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=si(t),t){const r=P.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return nM(s);if(P.isFunction(n))return n.call(this,s,r);if(P.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=si(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||qu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=si(i),i){const a=P.findKey(r,i);a&&(!n||qu(r,r[a],a,n))&&(delete r[a],s=!0)}}return P.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||qu(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return P.forEach(this,(s,o)=>{const i=P.findKey(r,o);if(i){n[i]=wl(s),delete n[o];return}const a=t?sM(o):String(o).trim();a!==o&&delete n[o],n[a]=wl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Wg]=this[Wg]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=si(i);r[a]||(oM(s,i),r[a]=!0)}return P.isArray(t)?t.forEach(o):o(t),this}};pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(pt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(pt);function Wu(e,t){const n=this||va,r=t||n,s=pt.from(r.headers);let o=r.data;return P.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Vx(e){return!!(e&&e.__CANCEL__)}function zo(e,t,n){K.call(this,e??"canceled",K.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(zo,K,{__CANCEL__:!0});function Kx(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aM(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[o];i||(i=c),n[s]=l,r[s]=c;let d=o,f=0;for(;d!==s;)f+=n[d++],d=d%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const m=u&&c-u;return m?Math.round(f*1e3/m):void 0}}function lM(e,t){let n=0,r=1e3/t,s,o;const i=(c,u=Date.now())=>{n=u,s=null,o&&(clearTimeout(o),o=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?i(c,u):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-d)))},()=>s&&i(s)]}const sc=(e,t,n=3)=>{let r=0;const s=aM(50,250);return lM(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-r,c=s(l),u=i<=a;r=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-i)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Hg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Vg=e=>(...t)=>P.asap(()=>e(...t)),cM=We.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,We.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,uM=We.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),P.isString(r)&&i.push("path="+r),P.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Gx(e,t,n){let r=!dM(t);return e&&(r||n==!1)?fM(e,t):t}const Kg=e=>e instanceof pt?{...e}:e;function fs(e,t){t=t||{};const n={};function r(c,u,d,f){return P.isPlainObject(c)&&P.isPlainObject(u)?P.merge.call({caseless:f},c,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function s(c,u,d,f){if(P.isUndefined(u)){if(!P.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!P.isUndefined(u))return r(void 0,u)}function i(c,u){if(P.isUndefined(u)){if(!P.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,u,d)=>s(Kg(c),Kg(u),d,!0)};return P.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||s,f=d(e[u],t[u],u);P.isUndefined(f)&&d!==a||(n[u]=f)}),n}const Qx=e=>{const t=fs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;t.headers=i=pt.from(i),t.url=qx(Gx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(We.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&cM(t.url))){const c=s&&o&&uM.read(o);c&&i.set(s,c)}return t},hM=typeof XMLHttpRequest<"u",pM=hM&&function(e){return new Promise(function(n,r){const s=Qx(e);let o=s.data;const i=pt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,m,b;function g(){m&&m(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function y(){if(!w)return;const x=pt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:e,request:w};Kx(function(k){n(k),g()},function(k){r(k),g()},E),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(r(new K("Request aborted",K.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Wx;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new K(S,E.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,w)),w=null},o===void 0&&i.setContentType(null),"setRequestHeader"in w&&P.forEach(i.toJSON(),function(S,E){w.setRequestHeader(E,S)}),P.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),c&&([f,b]=sc(c,!0),w.addEventListener("progress",f)),l&&w.upload&&([d,m]=sc(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=x=>{w&&(r(!x||x.type?new zo(null,e,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const v=iM(s.url);if(v&&We.protocols.indexOf(v)===-1){r(new K("Unsupported protocol "+v+":",K.ERR_BAD_REQUEST,e));return}w.send(o||null)})},mM=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof K?u:new zo(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>P.asap(a),l}},gM=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},yM=async function*(e,t){for await(const n of vM(e))yield*gM(n,t)},vM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Gg=(e,t,n,r)=>{const s=yM(e,t);let o=0,i,a=l=>{i||(i=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Jx=Hc&&typeof ReadableStream=="function",wM=Hc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Xx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bM=Jx&&Xx(()=>{let e=!1;const t=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Qg=64*1024,Af=Jx&&Xx(()=>P.isReadableStream(new Response("").body)),oc={stream:Af&&(e=>e.body)};Hc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!oc[t]&&(oc[t]=P.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new K(`Response type '${t}' is not supported`,K.ERR_NOT_SUPPORT,r)})})})(new Response);const xM=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(We.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await wM(e)).byteLength},SM=async(e,t)=>{const n=P.toFiniteNumber(e.getContentLength());return n??xM(t)},_M=Hc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Qx(e);c=c?(c+"").toLowerCase():"text";let m=mM([s,o&&o.toAbortSignal()],i),b;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&bM&&n!=="get"&&n!=="head"&&(w=await SM(u,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),C;if(P.isFormData(r)&&(C=E.headers.get("content-type"))&&u.setContentType(C),E.body){const[k,R]=Hg(w,sc(Vg(l)));r=Gg(E.body,Qg,k,R)}}P.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;b=new Request(t,{...f,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let v=await fetch(b,f);const x=Af&&(c==="stream"||c==="response");if(Af&&(a||x&&g)){const E={};["status","statusText","headers"].forEach(I=>{E[I]=v[I]});const C=P.toFiniteNumber(v.headers.get("content-length")),[k,R]=a&&Hg(C,sc(Vg(a),!0))||[];v=new Response(Gg(v.body,Qg,k,()=>{R&&R(),g&&g()}),E)}c=c||"text";let S=await oc[P.findKey(oc,c)||"text"](v,e);return!x&&g&&g(),await new Promise((E,C)=>{Kx(E,C,{data:S,headers:pt.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:b})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,e,b),{cause:y.cause||y}):K.from(y,y&&y.code,e,b)}}),Of={http:FN,xhr:pM,fetch:_M};P.forEach(Of,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jg=e=>`- ${e}`,EM=e=>P.isFunction(e)||e===null||e===!1,Yx={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!EM(n)&&(r=Of[(i=String(n)).toLowerCase()],r===void 0))throw new K(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Jg).join(`
`):" "+Jg(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Of};function Hu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zo(null,e)}function Xg(e){return Hu(e),e.headers=pt.from(e.headers),e.data=Wu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yx.getAdapter(e.adapter||va.adapter)(e).then(function(r){return Hu(e),r.data=Wu.call(e,e.transformResponse,r),r.headers=pt.from(r.headers),r},function(r){return Vx(r)||(Hu(e),r&&r.response&&(r.response.data=Wu.call(e,e.transformResponse,r.response),r.response.headers=pt.from(r.response.headers))),Promise.reject(r)})}const Zx="1.10.0",Vc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Yg={};Vc.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Zx+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new K(s(i," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!Yg[i]&&(Yg[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};Vc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function CM(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],l=a===void 0||i(a,o,e);if(l!==!0)throw new K("option "+o+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+o,K.ERR_BAD_OPTION)}}const bl={assertOptions:CM,validators:Vc},Zt=bl.validators;let rs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qg,response:new qg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=fs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&bl.assertOptions(r,{silentJSONParsing:Zt.transitional(Zt.boolean),forcedJSONParsing:Zt.transitional(Zt.boolean),clarifyTimeoutError:Zt.transitional(Zt.boolean)},!1),s!=null&&(P.isFunction(s)?n.paramsSerializer={serialize:s}:bl.assertOptions(s,{encode:Zt.function,serialize:Zt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),bl.assertOptions(n,{baseUrl:Zt.spelling("baseURL"),withXsrfToken:Zt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&P.merge(o.common,o[n.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),n.headers=pt.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!l){const b=[Xg.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,c),f=b.length,u=Promise.resolve(n);d<f;)u=u.then(b[d++],b[d++]);return u}f=a.length;let m=n;for(d=0;d<f;){const b=a[d++],g=a[d++];try{m=b(m)}catch(w){g.call(this,w);break}}try{u=Xg.call(this,m)}catch(b){return Promise.reject(b)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=fs(this.defaults,t);const n=Gx(t.baseURL,t.url,t.allowAbsoluteUrls);return qx(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){rs.prototype[t]=function(n,r){return this.request(fs(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(fs(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}rs.prototype[t]=n(),rs.prototype[t+"Form"]=n(!0)});let kM=class eS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new zo(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new eS(function(s){t=s}),cancel:t}}};function PM(e){return function(n){return e.apply(null,n)}}function RM(e){return P.isObject(e)&&e.isAxiosError===!0}const If={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(If).forEach(([e,t])=>{If[t]=e});function tS(e){const t=new rs(e),n=Ax(rs.prototype.request,t);return P.extend(n,rs.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return tS(fs(e,s))},n}const Ce=tS(va);Ce.Axios=rs;Ce.CanceledError=zo;Ce.CancelToken=kM;Ce.isCancel=Vx;Ce.VERSION=Zx;Ce.toFormData=Wc;Ce.AxiosError=K;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=PM;Ce.isAxiosError=RM;Ce.mergeConfig=fs;Ce.AxiosHeaders=pt;Ce.formToJSON=e=>Hx(P.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=Yx.getAdapter;Ce.HttpStatusCode=If;Ce.default=Ce;const{Axios:hD,AxiosError:pD,CanceledError:mD,isCancel:gD,CancelToken:yD,VERSION:vD,all:wD,Cancel:bD,isAxiosError:xD,spread:SD,toFormData:_D,AxiosHeaders:ED,HttpStatusCode:CD,formToJSON:kD,getAdapter:PD,mergeConfig:RD}=Ce,TM={retries:2,retryDelay:1e3,retryCondition:e=>!e.response||e.response.status>=500&&e.response.status<600};let jM=0;const AM=()=>`req_${Date.now()}_${++jM}`;function OM(e){e.interceptors.request.use(async t=>{t.metadata={...t.metadata,requestId:AM(),startTime:Date.now()};try{const{data:{session:n}}=await W.auth.getSession();n!=null&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.warn("Failed to get auth session for request:",n)}return t.headers["X-Request-ID"]=t.metadata.requestId,t.headers["X-Client-Version"]="1.0.0",t.headers["X-Timestamp"]=new Date().toISOString(),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t)))}function IM(e){e.interceptors.response.use(t=>{var i,a;const n=t.config,r=(i=n.metadata)==null?void 0:i.requestId,s=(a=n.metadata)==null?void 0:a.startTime,o=s?Date.now()-s:0;return t.metadata={requestId:r,duration:o,timestamp:new Date().toISOString()},t},async t=>{var c,u;const n=t.config,r=(c=n==null?void 0:n.metadata)==null?void 0:c.requestId,s=(u=n==null?void 0:n.metadata)==null?void 0:u.startTime,o=s?Date.now()-s:0,i={...TM,...n==null?void 0:n.retryConfig},a=(n==null?void 0:n.retryCount)||0;if(a<i.retries&&i.retryCondition(t)){n.retryCount=a+1;const d=i.retryDelay*Math.pow(2,a);return console.warn(`Retrying request [${r}] in ${d}ms (attempt ${n.retryCount}/${i.retries})`),await new Promise(f=>setTimeout(f,d)),e.request(n)}const l=NM(t,r,o);return await MM(l),Promise.reject(l)})}function NM(e,t,n){var s,o,i,a;const r={...e,metadata:{requestId:t,duration:n,timestamp:new Date().toISOString()},isNetworkError:!e.response,isServerError:e.response&&e.response.status>=500,isClientError:e.response&&e.response.status>=400&&e.response.status<500,isTimeout:e.code==="ECONNABORTED"};return r.isNetworkError?r.userMessage="Network connection failed. Please check your internet connection.":r.isTimeout?r.userMessage="Request timed out. Please try again.":r.isServerError?r.userMessage="Server error occurred. Please try again later.":((s=e.response)==null?void 0:s.status)===401?r.userMessage="Authentication required. Please log in again.":((o=e.response)==null?void 0:o.status)===403?r.userMessage="Access denied. You don't have permission to perform this action.":((i=e.response)==null?void 0:i.status)===404?r.userMessage="The requested resource was not found.":((a=e.response)==null?void 0:a.status)===422?r.userMessage="Invalid data provided. Please check your input.":r.userMessage="An unexpected error occurred. Please try again.",r}async function MM(e){var t,n,r;if(((t=e.response)==null?void 0:t.status)===401)try{const{error:s}=await W.auth.refreshSession();s&&(console.warn("Session refresh failed, redirecting to login"),window.location.href="/login")}catch(s){console.error("Error refreshing session:",s),window.location.href="/login"}if(((n=e.response)==null?void 0:n.status)===429){const s=e.response.headers["retry-after"];s&&console.warn(`Rate limited. Retry after ${s} seconds`)}((r=e.response)==null?void 0:r.status)===503&&console.warn("Service temporarily unavailable (maintenance mode)")}function LM(e){OM(e),IM(e)}class DM{constructor(){vn(this,"cache",new Map);vn(this,"maxSize",100)}generateKey(t,n){const r=n?JSON.stringify(n):"";return`${t}:${r}`}isValid(t){return Date.now()-t.timestamp<t.ttl}cleanup(){const t=Date.now();for(const[n,r]of this.cache.entries())t-r.timestamp>=r.ttl&&this.cache.delete(n)}evictIfNeeded(){if(this.cache.size>=this.maxSize){const t=Array.from(this.cache.entries());t.sort((r,s)=>r[1].timestamp-s[1].timestamp);const n=Math.floor(this.maxSize*.2);for(let r=0;r<n&&r<t.length;r++)this.cache.delete(t[r][0])}}get(t,n){this.cleanup();const r=this.generateKey(t,n),s=this.cache.get(r);return!s||!this.isValid(s)?null:s.data}set(t,n,r,s,o){if(!r.enabled)return;this.evictIfNeeded();const i=this.generateKey(t,s),a={data:n,timestamp:Date.now(),ttl:r.ttl,etag:o==null?void 0:o.etag,lastModified:o==null?void 0:o["last-modified"]};this.cache.set(i,a)}invalidate(t){for(const n of this.cache.keys())typeof t=="string"?n.includes(t)&&this.cache.delete(n):t.test(n)&&this.cache.delete(n)}clear(t,n){const r=this.generateKey(t,n);this.cache.delete(r)}clearAll(){this.cache.clear()}getStats(){this.cleanup();const t=Array.from(this.cache.values());return{totalEntries:t.length,validEntries:t.filter(n=>this.isValid(n)).length,expiredEntries:t.filter(n=>!this.isValid(n)).length,totalSize:JSON.stringify(Array.from(this.cache.entries())).length,oldestEntry:t.length>0?Math.min(...t.map(n=>n.timestamp)):null,newestEntry:t.length>0?Math.max(...t.map(n=>n.timestamp)):null}}has(t,n){const r=this.generateKey(t,n),s=this.cache.get(r);return s!==void 0&&this.isValid(s)}getMetadata(t,n){const r=this.generateKey(t,n),s=this.cache.get(r);return s?{timestamp:s.timestamp,ttl:s.ttl,isValid:this.isValid(s),age:Date.now()-s.timestamp,etag:s.etag,lastModified:s.lastModified}:null}}const Ts=new DM,FM={medium:{ttl:5*60*1e3}};class $M{constructor(t){vn(this,"instance");this.instance=Ce.create({baseURL:t||"https://mcjdeqfqbucfterqzglp.supabase.co",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),LM(this.instance)}buildQueryString(t){var r,s;const n=new URLSearchParams;return t.page&&n.set("page",t.page.toString()),t.limit&&n.set("limit",t.limit.toString()),t.search&&n.set("search",t.search),(r=t.sort)!=null&&r.length&&t.sort.forEach((o,i)=>{n.set(`sort[${i}][field]`,o.field),n.set(`sort[${i}][direction]`,o.direction)}),(s=t.filters)!=null&&s.length&&t.filters.forEach((o,i)=>{n.set(`filters[${i}][field]`,o.field),n.set(`filters[${i}][operator]`,o.operator),n.set(`filters[${i}][value]`,o.value.toString())}),n.toString()}async get(t,n={}){const{cache:r=!0,cacheTTL:s=FM.medium.ttl,params:o,...i}=n,a=o?this.buildQueryString(o):"",l=a?`${t}?${a}`:t;if(r){const u=Ts.get(l);if(u)return u}const c=await this.instance.get(l,i);return r&&c.status===200&&Ts.set(l,c.data,{enabled:!0,ttl:s,staleWhileRevalidate:!0,maxAge:s*2},o,c.headers),c.data}async post(t,n,r={}){const s=await this.instance.post(t,n,r);return this.invalidateRelatedCache(t,"POST"),s.data}async put(t,n,r={}){const s=await this.instance.put(t,n,r);return this.invalidateRelatedCache(t,"PUT"),s.data}async patch(t,n,r={}){const s=await this.instance.patch(t,n,r);return this.invalidateRelatedCache(t,"PATCH"),s.data}async delete(t,n={}){const r=await this.instance.delete(t,n);return this.invalidateRelatedCache(t,"DELETE"),r.data}async upload(t,n,r,s){const o=new FormData;return o.append("file",n),r&&Object.keys(r).forEach(a=>{o.append(a,r[a])}),(await this.instance.post(t,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(s&&a.total){const l=Math.round(a.loaded*100/a.total);s(l)}},timeout:5*60*1e3})).data}async download(t,n,r={}){const s=await this.instance.get(t,{...r,responseType:"blob"});if(n){const o=window.URL.createObjectURL(s.data),i=document.createElement("a");i.href=o,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)}return s.data}invalidateRelatedCache(t,n){const r=t.match(/^\/([^\/]+)/);if(r){const s=r[1];Ts.invalidate(new RegExp(`/${s}`))}["POST","PUT","PATCH","DELETE"].includes(n)&&Ts.invalidate(new RegExp(t.split("/")[1]||""))}async healthCheck(){return this.get("/health",{cache:!1})}getInstance(){return this.instance}clearCache(){Ts.clearAll()}getCacheStats(){return Ts.getStats()}}const UM=new $M;UM.getInstance();const U={auth:{all:["auth"],session:()=>[...U.auth.all,"session"],profile:()=>[...U.auth.all,"profile"],permissions:()=>[...U.auth.all,"permissions"]},users:{all:["users"],lists:()=>[...U.users.all,"list"],list:e=>[...U.users.lists(),e],details:()=>[...U.users.all,"detail"],detail:e=>[...U.users.details(),e],roles:()=>[...U.users.all,"roles"]},projects:{all:["projects"],lists:()=>[...U.projects.all,"list"],list:e=>[...U.projects.lists(),e],details:()=>[...U.projects.all,"detail"],detail:e=>[...U.projects.details(),e],statistics:()=>[...U.projects.all,"statistics"],subcontracts:e=>[...U.projects.detail(e),"subcontracts"]},subcontractors:{all:["subcontractors"],lists:()=>[...U.subcontractors.all,"list"],list:e=>[...U.subcontractors.lists(),e],details:()=>[...U.subcontractors.all,"detail"],detail:e=>[...U.subcontractors.details(),e],history:e=>[...U.subcontractors.detail(e),"history"],statistics:e=>[...U.subcontractors.detail(e),"statistics"]},subcontracts:{all:["subcontracts"],lists:()=>[...U.subcontracts.all,"list"],list:e=>[...U.subcontracts.lists(),e],details:()=>[...U.subcontracts.all,"detail"],detail:e=>[...U.subcontracts.details(),e],responsibilities:e=>[...U.subcontracts.detail(e),"responsibilities"],tradeItems:e=>[...U.subcontracts.detail(e),"trade-items"],documents:e=>[...U.subcontracts.detail(e),"documents"]},trades:{all:["trades"],lists:()=>[...U.trades.all,"list"],list:e=>[...U.trades.lists(),e],details:()=>[...U.trades.all,"detail"],detail:e=>[...U.trades.details(),e],items:e=>[...U.trades.detail(e),"items"]},tradeItems:{all:["trade-items"],lists:()=>[...U.tradeItems.all,"list"],list:e=>[...U.tradeItems.lists(),e],details:()=>[...U.tradeItems.all,"detail"],detail:e=>[...U.tradeItems.details(),e]},responsibilities:{all:["responsibilities"],lists:()=>[...U.responsibilities.all,"list"],list:e=>[...U.responsibilities.lists(),e],details:()=>[...U.responsibilities.all,"detail"],detail:e=>[...U.responsibilities.details(),e]},alerts:{all:["alerts"],lists:()=>[...U.alerts.all,"list"],list:e=>[...U.alerts.lists(),e],unread:()=>[...U.alerts.all,"unread"],count:()=>[...U.alerts.all,"count"]},reports:{all:["reports"],subcontracts:e=>[...U.reports.all,"subcontracts",e],projects:e=>[...U.reports.all,"projects",e],financial:e=>[...U.reports.all,"financial",e]},settings:{all:["settings"],general:()=>[...U.settings.all,"general"],notifications:()=>[...U.settings.all,"notifications"],permissions:()=>[...U.settings.all,"permissions"]}},Zi={getMatchingKeys:e=>t=>e.every((n,r)=>t[r]===n),invalidateEntity:e=>U[e].all,invalidateEntityLists:e=>{var n;const t=U[e];return((n=t.lists)==null?void 0:n.call(t))||t.all},invalidateEntityDetail:(e,t)=>{var r;const n=U[e];return((r=n.detail)==null?void 0:r.call(n,t))||n.all}};function zM(e,t,n={}){mn();const{showErrorToast:r=!0,errorMessage:s,onError:o,onSuccess:i,...a}=n,l=Ln({queryKey:e,queryFn:t,...a}),c={data:l.data??null,error:l.error,loading:l.isLoading,status:l.isLoading?"loading":l.error?"error":l.data?"success":"idle"};return{...l,asyncState:c,refresh:l.refetch,clearError:()=>l.error&&l.refetch()}}function BM(e,t,n={}){var o;const r=U[e],s=((o=r.lists)==null?void 0:o.call(r))||r.all;return zM(s,t,{staleTime:5*60*1e3,...n})}function mp(e,t={}){const{toast:n}=mn(),r=No(),{showSuccessToast:s=!0,showErrorToast:o=!0,successMessage:i="Operation completed successfully",errorMessage:a="An error occurred",invalidateQueries:l="auto",updateCache:c,optimisticUpdate:u,rollbackOptimistic:d,onSuccess:f,onError:m,onMutate:b,...g}=t,w=df({mutationFn:e,onMutate:async v=>(u&&u(v),await(b==null?void 0:b(v))),onSuccess:async(v,x,S)=>{s&&n({title:"Success",description:i,variant:"default"}),c&&c(v,x),await VM(v,x,l,r),f==null||f(v,x,S)},onError:(v,x,S)=>{o&&n({title:"Error",description:KM(v)||a,variant:"destructive"}),d&&d(v,x,S),m==null||m(v,x,S)},...g}),y={data:w.data??null,error:w.error,loading:w.isPending,status:w.isPending?"loading":w.error?"error":w.data?"success":"idle"};return{data:w.data,error:w.error,isPending:w.isPending,mutateAsync:w.mutateAsync,asyncState:y,clearError:w.reset,executeAsync:async v=>await w.mutateAsync(v)}}function qM(e,t,n={}){return mp(t,{successMessage:`${e} created successfully`,invalidateQueries:[Zi.invalidateEntityLists(e)],...n})}function WM(e,t,n={}){return mp(t,{successMessage:`${e} updated successfully`,invalidateQueries:(r,s)=>[Zi.invalidateEntityLists(e),Zi.invalidateEntityDetail(e,s.id)],...n})}function HM(e,t,n={}){return mp(t,{successMessage:`${e} deleted successfully`,invalidateQueries:(r,s)=>[Zi.invalidateEntityLists(e),Zi.invalidateEntityDetail(e,s.id)],...n})}async function VM(e,t,n,r){if(!n)return;let s;n==="auto"?s=[["users"],["projects"],["subcontractors"],["subcontracts"],["trades"],["responsibilities"],["alerts"]]:typeof n=="function"?s=n(e,t):s=n;for(const o of s)await r.invalidateQueries({queryKey:o})}function KM(e){var t,n;if(typeof e=="string")return e;if(e!=null&&e.message)return e.message;if(e!=null&&e.userMessage)return e.userMessage;if((n=(t=e==null?void 0:e.response)==null?void 0:t.data)!=null&&n.message)return e.response.data.message}function GM(){const e=BM("projects",()=>Xa.getAll(),{staleTime:3e5});dn({table:"projects",queryKeys:[["projects"]]});const t=qM("projects",s=>Xa.create({name:s.name,code:s.code,location:s.location}),{successMessage:"Project created successfully"}),n=WM("projects",({id:s,...o})=>Xa.update(s,{name:o.name,code:o.code,location:o.location}),{successMessage:"Project updated successfully"}),r=HM("projects",({id:s})=>Xa.delete(s),{successMessage:"Project deleted successfully"});return{projects:(e.data||[]).map(s=>({...s,createdAt:s.created_at,updatedAt:s.updated_at})),isLoading:e.isLoading,error:e.error,addProject:t.mutateAsync,updateProject:(s,o)=>n.mutateAsync({id:s,...o}),deleteProject:s=>r.mutateAsync({id:s}),isCreating:t.isPending,isUpdating:n.isPending,isDeleting:r.isPending,refresh:e.refetch,asyncState:e.asyncState}}const nS=p.createContext(void 0);function QM({children:e}){const{projects:t,addProject:n,updateProject:r,deleteProject:s,isLoading:o}=GM(),i={projects:t||[],addProject:async a=>{await n(a)},updateProject:async(a,l)=>{await r(a,l)},deleteProject:async a=>{await s(a)},isLoading:o};return h.jsx(nS.Provider,{value:i,children:e})}function rS(){const e=p.useContext(nS);if(e===void 0)throw new Error("useProjectContext must be used within a ProjectProvider");return e}function JM(){const{toast:e}=mn(),{data:t=[],refetch:n,isLoading:r}=Ln({queryKey:["subcontractors"],queryFn:()=>Ya.getAll(),staleTime:5*60*1e3});dn({table:"subcontractors",queryKeys:[["subcontractors"]]});const s=async a=>{try{await Ya.create({company_name:a.companyName,representative_name:a.representativeName,commercial_registration:a.commercialRegistration,tax_card_no:a.taxCardNo,email:a.email,phone:a.phone}),n(),e({title:"Success",description:"Subcontractor created successfully"})}catch(l){throw console.error("Error adding subcontractor:",l),e({title:"Error",description:"Failed to add subcontractor",variant:"destructive"}),l}},o=async(a,l)=>{try{await Ya.update(a,{company_name:l.companyName,representative_name:l.representativeName,commercial_registration:l.commercialRegistration,tax_card_no:l.taxCardNo,email:l.email,phone:l.phone}),n(),e({title:"Success",description:"Subcontractor updated successfully"})}catch(c){throw console.error("Error updating subcontractor:",c),e({title:"Error",description:"Failed to update subcontractor",variant:"destructive"}),c}},i=async a=>{try{await Ya.delete(a),n(),e({title:"Success",description:"Subcontractor deleted successfully"})}catch(l){throw console.error("Error deleting subcontractor:",l),e({title:"Error",description:"Failed to delete subcontractor",variant:"destructive"}),l}};return{subcontractors:t.map(a=>({id:a.id,name:a.company_name||"Unnamed Company",companyName:a.company_name||"Unnamed Company",representativeName:a.representative_name||"",commercialRegistration:a.commercial_registration||"",taxCardNo:a.tax_card_no||"",email:a.email||"",phone:a.phone||"",status:"active",totalProjects:0,currentProjects:0,registrationDate:a.created_at,createdAt:a.created_at,updatedAt:a.updated_at})),addSubcontractor:s,updateSubcontractor:o,deleteSubcontractor:i,isLoading:r}}const sS=p.createContext(void 0);function XM({children:e}){const{subcontractors:t,addSubcontractor:n,updateSubcontractor:r,deleteSubcontractor:s,isLoading:o}=JM(),i={subcontractors:t||[],addSubcontractor:n,updateSubcontractor:r,deleteSubcontractor:s,isLoading:o};return h.jsx(sS.Provider,{value:i,children:e})}function YM(){const e=p.useContext(sS);if(e===void 0)throw new Error("useSubcontractorContext must be used within a SubcontractorProvider");return e}function ZM(){const{toast:e}=mn(),{data:t=[],refetch:n,isLoading:r}=Ln({queryKey:["trades"],queryFn:()=>ni.getAll(),staleTime:5*60*1e3});dn({table:"trades",queryKeys:[["trades"]]});const s=async l=>{try{await ni.create({name:l.name,category:l.category,description:l.description}),n(),e({title:"Success",description:"Trade created successfully"})}catch(c){throw console.error("Error adding trade:",c),e({title:"Error",description:"Failed to add trade",variant:"destructive"}),c}},o=async(l,c)=>{try{await ni.update(l,{name:c.name,category:c.category,description:c.description}),n(),e({title:"Success",description:"Trade updated successfully"})}catch(u){throw console.error("Error updating trade:",u),e({title:"Error",description:"Failed to update trade",variant:"destructive"}),u}},i=async l=>{try{await ni.delete(l),n(),e({title:"Success",description:"Trade deleted successfully"})}catch(c){throw console.error("Error deleting trade:",c),e({title:"Error",description:"Failed to delete trade",variant:"destructive"}),c}},a=async l=>{try{await Promise.all(l.map(c=>ni.delete(c))),n(),e({title:"Success",description:`${l.length} trades deleted successfully`})}catch(c){throw console.error("Error bulk deleting trades:",c),e({title:"Error",description:"Failed to delete trades",variant:"destructive"}),c}};return{trades:t.map(l=>({...l,createdAt:l.created_at,updatedAt:l.updated_at,created_at:l.created_at,updated_at:l.updated_at})),addTrade:s,updateTrade:o,deleteTrade:i,bulkDeleteTrades:a,isLoading:r}}function eL(){const{toast:e}=mn(),{data:t=[],refetch:n,isLoading:r}=Ln({queryKey:["tradeItems"],queryFn:()=>ri.getAll(),staleTime:5*60*1e3});dn({table:"trade_items",queryKeys:[["tradeItems"]]});const s=async l=>{try{await ri.create({trade_id:l.trade_id,name:l.name,unit:l.unit,description:l.description}),n(),e({title:"Success",description:"Trade item created successfully"})}catch(c){throw console.error("Error adding trade item:",c),e({title:"Error",description:"Failed to add trade item",variant:"destructive"}),c}},o=async(l,c)=>{try{await ri.update(l,{trade_id:c.trade_id,name:c.name,unit:c.unit,description:c.description}),n(),e({title:"Success",description:"Trade item updated successfully"})}catch(u){throw console.error("Error updating trade item:",u),e({title:"Error",description:"Failed to update trade item",variant:"destructive"}),u}},i=async l=>{try{await ri.delete(l),n(),e({title:"Success",description:"Trade item deleted successfully"})}catch(c){throw console.error("Error deleting trade item:",c),e({title:"Error",description:"Failed to delete trade item",variant:"destructive"}),c}},a=async l=>{try{await Promise.all(l.map(c=>ri.delete(c))),n(),e({title:"Success",description:`${l.length} trade items deleted successfully`})}catch(c){throw console.error("Error bulk deleting trade items:",c),e({title:"Error",description:"Failed to delete trade items",variant:"destructive"}),c}};return{tradeItems:t.map(l=>({...l,createdAt:l.created_at,updatedAt:l.updated_at,created_at:l.created_at,updated_at:l.updated_at})),addTradeItem:s,updateTradeItem:o,deleteTradeItem:i,bulkDeleteTradeItems:a,isLoading:r}}const oS=p.createContext(void 0);function tL({children:e}){const{trades:t,addTrade:n,updateTrade:r,deleteTrade:s,bulkDeleteTrades:o,isLoading:i}=ZM(),{tradeItems:a,addTradeItem:l,updateTradeItem:c,deleteTradeItem:u,bulkDeleteTradeItems:d,isLoading:f}=eL(),b={trades:t||[],addTrade:n,updateTrade:r,deleteTrade:s,bulkDeleteTrades:o,tradeItems:a||[],addTradeItem:l,updateTradeItem:c,deleteTradeItem:u,bulkDeleteTradeItems:d,isLoading:i||f};return h.jsx(oS.Provider,{value:b,children:e})}function iS(){const e=p.useContext(oS);if(e===void 0)throw new Error("useTradeContext must be used within a TradeProvider");return e}function nL(){const{toast:e}=mn(),{data:t=[],refetch:n,isLoading:r}=Ln({queryKey:["responsibilities"],queryFn:()=>Za.getAll(),staleTime:5*60*1e3});dn({table:"responsibilities",queryKeys:[["responsibilities"]]});const s=async a=>{try{await Za.create({name:a.name,description:a.description,category:a.category}),n(),e({title:"Success",description:"Responsibility created successfully"})}catch(l){throw console.error("Error adding responsibility:",l),e({title:"Error",description:"Failed to add responsibility",variant:"destructive"}),l}},o=async(a,l)=>{try{await Za.update(a,{name:l.name,description:l.description,category:l.category}),n(),e({title:"Success",description:"Responsibility updated successfully"})}catch(c){throw console.error("Error updating responsibility:",c),e({title:"Error",description:"Failed to update responsibility",variant:"destructive"}),c}},i=async a=>{try{await Za.delete(a),n(),e({title:"Success",description:"Responsibility deleted successfully"})}catch(l){throw console.error("Error deleting responsibility:",l),e({title:"Error",description:"Failed to delete responsibility",variant:"destructive"}),l}};return{responsibilities:t.map(a=>({id:a.id,name:a.name,description:a.description||"",category:a.category||"",isActive:!0,createdAt:a.created_at,updatedAt:a.updated_at})),addResponsibility:s,updateResponsibility:o,deleteResponsibility:i,isLoading:r}}const aS=p.createContext(void 0);function rL({children:e}){const{responsibilities:t,addResponsibility:n,updateResponsibility:r,deleteResponsibility:s,isLoading:o}=nL(),i={responsibilities:t||[],addResponsibility:n,updateResponsibility:r,deleteResponsibility:s,isLoading:o};return h.jsx(aS.Provider,{value:i,children:e})}function lS(){const e=p.useContext(aS);if(e===void 0)throw new Error("useResponsibilityContext must be used within a ResponsibilityProvider");return e}function sL(e){console.log("Mapping DB row to frontend:",e);const t=e.contractType||e.contract_type||"subcontract",n=e.addendumNumber||e.addendum_number||void 0,r=e.parentSubcontractId||e.parent_subcontract_id||void 0;let s=[];e.tradeItems&&Array.isArray(e.tradeItems)&&(s=e.tradeItems.map(l=>{console.log("Processing trade item:",l);const c=l.trade_items||l,u=(c==null?void 0:c.trades)||{},d=l.quantity||0,f=l.unit_price||0,m=d*f;return{id:l.id||crypto.randomUUID(),trade:u.name||(c==null?void 0:c.trade)||"Unknown Trade",item:(c==null?void 0:c.name)||"Unknown Item",unit:(c==null?void 0:c.unit)||"Each",quantity:d,unitPrice:f,total:m,wastagePercentage:l.wastage_percentage||0}}));let o=[];e.responsibilities&&Array.isArray(e.responsibilities)&&(o=e.responsibilities.map(l=>{if(l.responsibilities&&l.responsibilities.name)return l.responsibilities.name;if(typeof l=="string")return l}).filter(Boolean));const i=s.reduce((l,c)=>l+(c.total||0),0),a={id:e.id,contractId:e.contractId||e.contract_number||"",project:e.project||e.project_id||"",subcontractor:e.subcontractor||e.subcontractor_id||"",tradeItems:s,responsibilities:o,totalValue:i,status:e.status||"draft",startDate:e.startDate||e.start_date||"",endDate:e.endDate||e.end_date||"",dateOfIssuing:e.dateOfIssuing||e.date_of_issuing||"",description:e.description||"",pdfUrl:e.pdfUrl||e.pdf_url||"",createdAt:e.createdAt||e.created_at||"",updatedAt:e.updatedAt||e.updated_at||"",contractType:t,addendumNumber:n===null?void 0:n,parentSubcontractId:r===null?void 0:r};return console.log("Mapped subcontract:",a),a}function cS(e,t,n){var r;return(r=(e||[]).find(s=>s.trade_id===t&&s.name===n))==null?void 0:r.id}function uS(e,t){var n;return(n=(e||[]).find(r=>r.name===t))==null?void 0:n.id}async function oL(e,t=[]){console.log("Getting next addendum number for parent contract:",e);const n=new RegExp(`^${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}-ADD(\\d{2})$`),r=t.filter(i=>i.contractId&&i.contractId.match(n)&&i.contractType==="ADD");console.log("Found existing addendums:",r.length);let s=0;r.forEach(i=>{if(i.contractId){const a=i.contractId.match(n);if(a){const l=parseInt(a[1],10);l>s&&(s=l)}}});const o=(s+1).toString().padStart(2,"0");return console.log("Next addendum number:",o),o}async function iL(e,t,n,r=[],s=new Set){console.log("Generating contract ID:",{contractType:e,projectCode:t,parentSubcontractId:n}),console.log("Existing contracts for ID generation:",r.length),console.log("Generated IDs in session:",Array.from(s));{const o=`ID-${t}-`,i=new Set;r.forEach(u=>{u.contractId&&u.contractId.startsWith(o)&&u.contractType==="subcontract"&&i.add(u.contractId)}),s.forEach(u=>{u.startsWith(o)&&i.add(u)}),console.log("All project contract IDs:",Array.from(i));let a=0;i.forEach(u=>{const d=u.match(new RegExp(`^ID-${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}-(\\d{4})$`));if(d){const f=parseInt(d[1],10);f>a&&(a=f)}});const l=(a+1).toString().padStart(4,"0"),c=`ID-${t}-${l}`;return console.log("Generated subcontract ID:",c),c}}function aL(e){return/^.+-ADD\d{2}$/.test(e)}function lL(e,t){return new RegExp(`^ID-${t}-\\d{4}$`).test(e)}const As=new Set,cL=async(e,t,n,r,s=[],o=[],i=[])=>{if(console.log("Creating subcontract with data:",e),console.log("Existing contracts count:",o.length),console.log("Session generated IDs:",Array.from(As)),!e.project||!e.subcontractor){const d=new Error("Project and subcontractor are required");throw console.error("Validation error:",d),r({title:"Project & Subcontractor missing",description:"You must select a Project and Subcontractor.",variant:"destructive"}),d}let a=e.contractId,l;if(!a||a.startsWith("SC-")||a.startsWith("TEMP-")||a===""){if(e.contractType==="ADD"){if(!e.parentSubcontractId){const b=new Error("Parent contract is required for addendums");throw console.error("Parent contract error:",b),r({title:"Parent Contract Missing",description:"Please select a parent contract for this addendum.",variant:"destructive"}),b}const f=o.find(b=>b.id===e.parentSubcontractId);if(!f||!f.contractId){const b=new Error("Parent contract not found or missing contract ID");throw console.error("Parent contract not found:",b),r({title:"Parent Contract Not Found",description:"The selected parent contract could not be found or is missing a contract ID.",variant:"destructive"}),b}const m=await oL(f.contractId,o);a=`${f.contractId}-ADD${m}`,l=m,console.log("Generated addendum ID:",a,"with addendum number:",l)}else{const f=i.find(m=>m.id===e.project);if(!f||!f.code){const m=new Error("Project code is required for contract ID generation");throw console.error("Project code error:",m),r({title:"Project Code Missing",description:"The selected project doesn't have a valid project code.",variant:"destructive"}),m}a=await iL("subcontract",f.code,void 0,o,As),console.log("Generated regular contract ID:",a)}if(new Set([...o.map(f=>f.contractId).filter(Boolean),...As]).has(a)){const f=new Error("Contract ID conflict detected");throw console.error("Contract ID conflict:",f),r({title:"Contract ID Conflict",description:"Generated contract ID already exists. Please try again.",variant:"destructive"}),f}As.add(a)}if(e.contractType==="ADD"){if(!aL(a)){const d=new Error("Invalid addendum contract ID format");throw console.error("Format validation error:",d),r({title:"Invalid Addendum Format",description:"Addendum contract ID must follow format: [parent-contract-number]-ADDXX",variant:"destructive"}),d}}else{const d=i.find(f=>f.id===e.project);if(d&&d.code&&!lL(a,d.code)){const f=new Error("Invalid contract ID format");throw console.error("Format validation error:",f),r({title:"Invalid Contract Format",description:`Contract ID must follow format: ID-${d.code}-XXXX`,variant:"destructive"}),f}}const c={contract_number:a,project_id:e.project,subcontractor_id:e.subcontractor,status:e.status||"draft",total_value:e.totalValue||0,start_date:e.startDate,end_date:e.endDate,description:e.description||"",contract_type:e.contractType||"subcontract",addendum_number:e.contractType==="ADD"?l:null,parent_subcontract_id:e.contractType==="ADD"&&e.parentSubcontractId||null,date_of_issuing:e.dateOfIssuing||null,pdf_url:e.pdfUrl||null};console.log("Supabase insert payload:",c);let u;try{u=await ga.create(c),console.log("Subcontract created successfully:",u),u.contractId=a}catch(d){throw As.delete(a),console.error("Error creating subcontract in Supabase:",d),r({title:"Save Failed",description:`Could not save subcontract: ${d instanceof Error?d.message:"Unknown error"}`,variant:"destructive"}),d}if(e.tradeItems&&e.tradeItems.length>0){console.log("Processing trade items:",e.tradeItems);const d=e.tradeItems.map((f,m)=>{var w;const b=(w=t.find(y=>y.name===f.trade))==null?void 0:w.id,g=cS(n,b||"",f.item);return console.log(`Trade item ${m}:`,{tradeName:f.trade,tradeId:b,itemName:f.item,tradeItemId:g,quantity:f.quantity,unitPrice:f.unitPrice,total:f.total,wastagePercentage:f.wastagePercentage??0}),{subcontract_id:u.id,trade_item_id:g||"",quantity:f.quantity,unit_price:f.unitPrice,total_price:f.total,wastage_percentage:f.wastagePercentage??0}}).filter(f=>f.trade_item_id);if(d.length>0)try{await Co.createMany(d),console.log("Trade items saved successfully")}catch(f){console.error("Error saving trade items:",f),r({title:"Partial Success",description:"Subcontract created but some trade items could not be saved.",variant:"destructive"})}}if(e.responsibilities&&e.responsibilities.length>0){console.log("Processing responsibilities:",e.responsibilities);const d=e.responsibilities.map(f=>{const m=uS(s,f);return{subcontract_id:u.id,responsibility_id:m||""}}).filter(f=>f.responsibility_id);if(d.length>0)try{await ko.createMany(d),console.log("Responsibilities saved successfully")}catch(f){console.error("Error saving responsibilities:",f),r({title:"Partial Success",description:"Subcontract created but some responsibilities could not be saved.",variant:"destructive"})}}return console.log("Subcontract creation completed successfully"),u},TD=()=>{As.clear(),console.log("Session generated IDs cleared")},uL=async(e,t,n,r,s=[])=>{console.log("Updating subcontract:",e,t);const o={contract_number:t.contractId,project_id:t.project,subcontractor_id:t.subcontractor,status:t.status,total_value:t.totalValue,start_date:t.startDate,end_date:t.endDate,description:t.description||"",pdf_url:t.pdfUrl};if(await ga.update(e,o),t.tradeItems&&(await Co.deleteBySubcontractId(e),t.tradeItems.length>0)){const i=t.tradeItems.map(a=>{var u;const l=(u=n.find(d=>d.name===a.trade))==null?void 0:u.id,c=cS(r,l||"",a.item);return{subcontract_id:e,trade_item_id:c||"",quantity:a.quantity,unit_price:a.unitPrice,total_price:a.total,wastage_percentage:a.wastagePercentage??0}}).filter(a=>a.trade_item_id);i.length>0&&await Co.createMany(i)}if(t.responsibilities&&(await ko.deleteBySubcontractId(e),t.responsibilities.length>0)){const i=t.responsibilities.map(a=>{const l=uS(s,a);return{subcontract_id:e,responsibility_id:l||""}}).filter(a=>a.responsibility_id);i.length>0&&await ko.createMany(i)}},dL=async e=>{await ko.deleteBySubcontractId(e),await Co.deleteBySubcontractId(e),await ga.delete(e)},fL=async e=>{for(const t of e)await ko.deleteBySubcontractId(t),await Co.deleteBySubcontractId(t),await ga.delete(t)};function hL(e=[],t=[],n=[],r=[]){const{toast:s}=mn(),{data:o=[],refetch:i,isLoading:a}=Ln({queryKey:["subcontracts"],queryFn:async()=>{console.log("Fetching subcontracts from database...");const m=await ga.getWithTradeItems();return console.log("Raw subcontracts from database:",m),m},staleTime:5*60*1e3});dn({table:"subcontracts",queryKeys:[["subcontracts"]]}),dn({table:"subcontract_trade_items",queryKeys:[["subcontracts"]]}),dn({table:"subcontract_responsibilities",queryKeys:[["subcontracts"]]});const l=o.map(sL),c=async m=>{console.log("Adding subcontract with data:",m);try{const b=await cL(m,e,t,s,n,l,r);return console.log("Subcontract created successfully, refetching data..."),await i(),s({title:"Success",description:"Subcontract created successfully"}),b}catch(b){throw console.error("Error adding subcontract:",b),b}},u=async(m,b)=>{try{await uL(m,b,e,t,n),await i(),s({title:"Success",description:"Subcontract updated successfully"})}catch(g){throw console.error("Error updating subcontract:",g),s({title:"Error",description:"Failed to update subcontract",variant:"destructive"}),g}},d=async m=>{try{await dL(m),await i(),s({title:"Success",description:"Subcontract deleted successfully"})}catch(b){throw console.error("Error deleting subcontract:",b),s({title:"Error",description:"Failed to delete subcontract",variant:"destructive"}),b}},f=async m=>{try{await fL(m),await i(),s({title:"Deleted",description:"Subcontracts deleted successfully"})}catch(b){throw console.error("Error bulk deleting subcontracts:",b),s({title:"Error",description:"Failed to delete selected subcontracts",variant:"destructive"}),b}};return console.log("Final mapped subcontracts:",l),{subcontracts:l,addSubcontract:c,updateSubcontract:u,deleteSubcontract:d,deleteManySubcontracts:f,isLoading:a}}const dS=p.createContext(void 0);function pL({children:e}){const{projects:t,isLoading:n}=rS(),{trades:r,tradeItems:s,isLoading:o}=iS(),{responsibilities:i,isLoading:a}=lS(),l=!o&&!a&&!n,{subcontracts:c,addSubcontract:u,updateSubcontract:d,deleteSubcontract:f,deleteManySubcontracts:m,isLoading:b}=hL(l?r:[],l?s:[],l?i:[],l?t:[]),w={subcontracts:c||[],addSubcontract:u,updateSubcontract:d,deleteSubcontract:f,deleteManySubcontracts:m,isLoading:n||o||a||b};return h.jsx(dS.Provider,{value:w,children:e})}function mL(){const e=p.useContext(dS);if(e===void 0)throw new Error("useSubcontractContext must be used within a SubcontractProvider");return e}class gL{constructor(){vn(this,"isListening",!1);vn(this,"emailChannel",null)}async startListening(){var n,r;if(this.isListening)return;console.log("Starting alert notification listener...");const t=await W.auth.getSession();console.log("Current user session:",((r=(n=t.data.session)==null?void 0:n.user)==null?void 0:r.email)||"No user logged in"),this.isListening=!0,this.emailChannel=W.channel("alert_email_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"alerts"},async s=>{console.log("New alert created, sending email notification:",s.new),s.new&&await this.sendEmailNotification(s.new)}).subscribe(),console.log("Alert notification listener started")}async sendEmailNotification(t){try{console.log("Sending email notification for alert:",t.id);const{data:n,error:r}=await W.functions.invoke("send-alert-notification",{body:{alertId:t.id,type:t.type,title:t.title,message:t.message,totalAmount:t.total_amount,thresholdAmount:t.threshold_amount,projectName:t.project_name,subcontractorName:t.subcontractor_name}});r?console.error("Failed to send alert notification:",r):console.log("Email notification sent successfully:",n)}catch(n){console.error("Error sending email notification:",n)}}stopListening(){this.emailChannel&&(W.removeChannel(this.emailChannel),this.emailChannel=null),this.isListening=!1,console.log("Alert notification listener stopped")}}const Zg=new gL,fS=p.createContext(void 0);function yL({children:e}){const t=rS(),n=YM(),r=iS(),s=lS(),o=mL(),i=t.isLoading||n.isLoading||r.isLoading||s.isLoading||o.isLoading,a={projects:t.projects,addProject:t.addProject,updateProject:t.updateProject,deleteProject:t.deleteProject,subcontractors:n.subcontractors,addSubcontractor:n.addSubcontractor,updateSubcontractor:n.updateSubcontractor,deleteSubcontractor:n.deleteSubcontractor,trades:r.trades,addTrade:r.addTrade,updateTrade:r.updateTrade,deleteTrade:r.deleteTrade,bulkDeleteTrades:r.bulkDeleteTrades,tradeItems:r.tradeItems,addTradeItem:r.addTradeItem,updateTradeItem:r.updateTradeItem,deleteTradeItem:r.deleteTradeItem,bulkDeleteTradeItems:r.bulkDeleteTradeItems,responsibilities:s.responsibilities,addResponsibility:s.addResponsibility,updateResponsibility:s.updateResponsibility,deleteResponsibility:s.deleteResponsibility,subcontracts:o.subcontracts,addSubcontract:o.addSubcontract,updateSubcontract:o.updateSubcontract,deleteSubcontract:o.deleteSubcontract,deleteManySubcontracts:o.deleteManySubcontracts,isLoading:i};return h.jsx(fS.Provider,{value:a,children:e})}function Pe({children:e}){return p.useEffect(()=>(Zg.startListening(),()=>{Zg.stopListening()}),[]),h.jsx(QM,{children:h.jsx(XM,{children:h.jsx(rL,{children:h.jsx(tL,{children:h.jsx(pL,{children:h.jsx(yL,{children:e})})})})})})}function jD(){const e=p.useContext(fS);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e}const hS=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));hS.displayName="Table";const pS=p.forwardRef(({className:e,...t},n)=>h.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));pS.displayName="TableHeader";const mS=p.forwardRef(({className:e,...t},n)=>h.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));mS.displayName="TableBody";const vL=p.forwardRef(({className:e,...t},n)=>h.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));vL.displayName="TableFooter";const Nf=p.forwardRef(({className:e,...t},n)=>h.jsx("tr",{ref:n,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Nf.displayName="TableRow";const gS=p.forwardRef(({className:e,...t},n)=>h.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));gS.displayName="TableHead";const yS=p.forwardRef(({className:e,...t},n)=>h.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yS.displayName="TableCell";const wL=p.forwardRef(({className:e,...t},n)=>h.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));wL.displayName="TableCaption";function vS({columns:e,rows:t=5,showHeader:n=!0,className:r}){return h.jsxs(Nr,{className:r,children:[n&&h.jsx(vs,{children:h.jsx(Wr,{className:"h-6 w-48"})}),h.jsx(Mr,{children:h.jsxs(hS,{children:[h.jsx(pS,{children:h.jsx(Nf,{children:Array.from({length:e}).map((s,o)=>h.jsx(gS,{children:h.jsx(Wr,{className:"h-4 w-full"})},o))})}),h.jsx(mS,{children:Array.from({length:t}).map((s,o)=>h.jsx(Nf,{children:Array.from({length:e}).map((i,a)=>h.jsx(yS,{children:h.jsx(Wr,{className:`h-4 ${a===0?"w-8":a===e-1?"w-20":"w-full"}`})},a))},o))})]})})]})}function AD(){return h.jsx(vS,{columns:12,rows:5,showHeader:!0,className:"mt-4"})}const bL=p.lazy(()=>fe(()=>import("./Index-MF6ccnj5.js"),[])),xL=p.lazy(()=>fe(()=>import("./Projects-BkM_B0aK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(e=>({default:e.Projects}))),SL=p.lazy(()=>fe(()=>import("./ProjectDetail-DR5gveOn.js"),__vite__mapDeps([14,15,9,16])).then(e=>({default:e.ProjectDetail}))),_L=p.lazy(()=>fe(()=>import("./Subcontractors-kXY_Z35M.js"),__vite__mapDeps([17,1,2,18,19,4,5,6,7,8,9,10,11,20,21,22])).then(e=>({default:e.Subcontractors}))),EL=p.lazy(()=>fe(()=>import("./SubcontractorDetail-Duzq_45K.js"),__vite__mapDeps([23,15,9,16,24,25,26,27,6,4,8,20,21,22,2])).then(e=>({default:e.SubcontractorDetail}))),CL=p.lazy(()=>fe(()=>import("./Trades-DVKIfWOX.js"),__vite__mapDeps([28,5,6,11,29,10,3,19,4,30,8,9,31,21,13])).then(e=>({default:e.Trades}))),kL=p.lazy(()=>fe(()=>import("./TradeDetail-B3aK1q7s.js"),__vite__mapDeps([32,15,29,30,9,19,10,31,21])).then(e=>({default:e.TradeDetail}))),PL=p.lazy(()=>fe(()=>import("./Responsibilities-BEee0bwk.js"),__vite__mapDeps([33,27,6,7,19,4,8,9,10,34,12,35,13])).then(e=>({default:e.Responsibilities}))),RL=p.lazy(()=>fe(()=>import("./Subcontracts-so5DYU9Y.js"),__vite__mapDeps([36,37,15,38,27,6,34,4,19,10,18,5,8,9,39,7,12,1,2,11])).then(e=>({default:e.Subcontracts}))),TL=p.lazy(()=>fe(()=>import("./SubcontractDetail-BHbFTd_P.js"),__vite__mapDeps([40,15,9,41,29,30,16,25,37,38,27,6,34,4,19,10])).then(e=>({default:e.SubcontractDetail}))),jL=p.lazy(()=>fe(()=>import("./Report-DPeHjKb5.js"),__vite__mapDeps([42,27,6,15,43,11,44,41])).then(e=>({default:e.Report}))),AL=p.lazy(()=>fe(()=>import("./FilteredSubcontracts-BqkXmpFk.js"),__vite__mapDeps([45,38,39,8,9])).then(e=>({default:e.FilteredSubcontracts}))),OL=p.lazy(()=>fe(()=>import("./Users-CF4hsaRG.js"),__vite__mapDeps([46,19,4,47,24,9,25,26,30,48,8,10,2,21,22,27,6,49,50,13])).then(e=>({default:e.Users}))),IL=p.lazy(()=>fe(()=>import("./UserDetail-DAPiidlf.js"),__vite__mapDeps([51,47,24,9,25,26,30,48,50])).then(e=>({default:e.UserDetail}))),NL=p.lazy(()=>fe(()=>import("./Profile-oF_M16l7.js"),__vite__mapDeps([52,49,35])).then(e=>({default:e.Profile}))),ML=p.lazy(()=>fe(()=>import("./Dashboard-BeyKf6Vi.js"),__vite__mapDeps([53,15,43,8])).then(e=>({default:e.Dashboard}))),LL=p.lazy(()=>fe(()=>import("./Alerts-Bski6Tap.js"),__vite__mapDeps([54,48,8])).then(e=>({default:e.Alerts}))),DL=p.lazy(()=>fe(()=>import("./RoleManagement-DennI2N3.js"),__vite__mapDeps([55,50,13])).then(e=>({default:e.RoleManagementPage}))),FL=p.lazy(()=>fe(()=>import("./ActivityLog-CaNejclw.js"),__vite__mapDeps([56,27,6,5])).then(e=>({default:e.ActivityLog}))),$L=p.lazy(()=>fe(()=>import("./RateEstimator-Dl5Cq0YW.js"),__vite__mapDeps([57,21,22,27,6,2,24,58,11])).then(e=>({default:e.RateEstimator}))),Re=()=>h.jsx("div",{className:"p-6",children:h.jsx(vS,{columns:5,rows:3})});function UL(){return h.jsx(M0,{children:h.jsx(eC,{children:h.jsxs(V1,{children:[h.jsx(pe,{path:"/login",element:h.jsx(we,{pageName:"Login",children:h.jsx(bT,{})})}),h.jsx(pe,{path:"/signup",element:h.jsx(we,{pageName:"Sign Up",children:h.jsx(_T,{})})}),h.jsx(pe,{path:"/",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(bL,{})})})})})})}),h.jsx(pe,{path:"/dashboard",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Dashboard",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(ML,{})})})})})})}),h.jsx(pe,{path:"/projects",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Projects",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(xL,{})})})})})})}),h.jsx(pe,{path:"/projects/:id",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Project Detail",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(SL,{})})})})})})}),h.jsx(pe,{path:"/subcontractors",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Subcontractors",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(_L,{})})})})})})}),h.jsx(pe,{path:"/subcontractors/:id",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Subcontractor Detail",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(EL,{})})})})})})}),h.jsx(pe,{path:"/trades",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Trades",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(CL,{})})})})})})}),h.jsx(pe,{path:"/trades/:id",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Trade Detail",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(kL,{})})})})})})}),h.jsx(pe,{path:"/responsibilities",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Responsibilities",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(PL,{})})})})})})}),h.jsx(pe,{path:"/subcontracts",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Subcontracts",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(RL,{})})})})})})}),h.jsx(pe,{path:"/subcontracts/:id",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Subcontract Detail",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(TL,{})})})})})})}),h.jsx(pe,{path:"/subcontracts/filtered",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Filtered Subcontracts",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(AL,{})})})})})})}),h.jsx(pe,{path:"/report",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Report",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(jL,{})})})})})})}),h.jsx(pe,{path:"/users",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Users",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(OL,{})})})})})})}),h.jsx(pe,{path:"/users/:id",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"User Detail",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(IL,{})})})})})})}),h.jsx(pe,{path:"/profile",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Profile",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(NL,{})})})})})})}),h.jsx(pe,{path:"/alerts",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Alerts",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(LL,{})})})})})})}),h.jsx(pe,{path:"/admin/roles",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Role Management",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(DL,{})})})})})})}),h.jsx(pe,{path:"/admin/activity-log",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"Activity Log",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx(FL,{})})})})})})}),h.jsx(pe,{path:"/rate-estimator",element:h.jsx(be,{children:h.jsx(ke,{children:h.jsx(Pe,{children:h.jsx(we,{pageName:"AI Rate Estimator",children:h.jsx(p.Suspense,{fallback:h.jsx(Re,{}),children:h.jsx($L,{})})})})})})})]})})})}const zL={queries:{retry:(e,t)=>{var n,r,s;return((n=t==null?void 0:t.response)==null?void 0:n.status)>=400&&((r=t==null?void 0:t.response)==null?void 0:r.status)<500&&((s=t==null?void 0:t.response)==null?void 0:s.status)!==429?!1:e<2},retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchOnMount:!0,throwOnError:!1,networkMode:"online"},mutations:{retry:(e,t)=>{var n,r;return((n=t==null?void 0:t.response)==null?void 0:n.status)>=400&&((r=t==null?void 0:t.response)==null?void 0:r.status)<500?!1:e<1},retryDelay:1e3,networkMode:"online"}};function BL(){return new MP({defaultOptions:zL})}const qL=BL();function WL({children:e}){return h.jsxs(UP,{client:qL,children:[e,!1]})}const wS=document.getElementById("root");if(!wS)throw new Error("Root element not found");const HL=_w(wS);HL.render(h.jsx(Sn.StrictMode,{children:h.jsx(WL,{children:h.jsx(YP,{children:h.jsx(UL,{})})})}));export{mf as $,GR as A,fn as B,Nr as C,K0 as D,M0 as E,nT as F,Do as G,Ie as H,Ys as I,Z as J,uA as K,Zs as L,re as M,LR as N,YR as O,we as P,A0 as Q,Sn as R,Wr as S,hS as T,N0 as U,GL as V,dT as W,fT as X,hf as Y,pf as Z,fe as _,vs as a,iD as a0,No as a1,df as a2,W as a3,Ln as a4,aT as a5,LI as a6,wP as a7,WR as a8,v0 as a9,Kt as aA,vA as aB,Sc as aC,hn as aD,wA as aE,bA as aF,zI as aa,lT as ab,It as ac,uy as ad,Q0 as ae,yf as af,Eb as ag,MA as ah,LA as ai,fa as aj,Mm as ak,XR as al,ZM as am,mp as an,AR as ao,Sb as ap,UA as aq,Db as ar,Ki as as,ZT as at,Z0 as au,X0 as av,aD as aw,hb as ax,yA as ay,G0 as az,Lo as b,Mr as c,pS as d,Nf as e,gS as f,mS as g,yS as h,jD as i,h as j,Or as k,gs as l,mn as m,Ac as n,FI as o,KL as p,ve as q,p as r,Pf as s,hL as t,I0 as u,ZR as v,O0 as w,TD as x,AD as y,mt as z};
